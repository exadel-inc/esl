<!doctype html> <html lang="en"> <head> <title>Built-in ESL EventListeners</title> <link rel="canonical" href="https://esl-ui.com/core/esl-event-listener"/> <meta charset="UTF-8"> <meta name="generator" content="Eleventy"> <meta name="viewport" content="width=device-width,initial-scale=1"> <link rel="icon" type="image/png" href="/assets/logo-64x64.png"/> <script async src="https://www.googletagmanager.com/gtag/js?id=G-VB08HVQ2VH"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-VB08HVQ2VH")</script> <script>!function(){var e="";window.Promise&&window.CustomEvent?"getRootNode"in Element.prototype&&window.customElements?window.scrollBy&&window.IntersectionObserver&&window.ResizeObserver&&window.ResizeObserver||(e="light"):e="medium":e="full",e&&document.write('<script type="text/javascript" src="/bundles/polyfill-'+e+'.js"><\/script>')}()</script> <link rel="stylesheet" type="text/css" href="/bundles/localdev.css"/> </head> <body> <div class="page sidebar-layout"> <header class="header"> <nav class="header-container container"> <a class="header-link header-logo fill-light logo-animated" href="/" aria-label="Landing page"> <?xml version="1.0" encoding="utf-8"?> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400"> <g class="shield"> <path class="s-l" fill="#C6361A" fill-rule="evenodd" d="M200 292c-.3 0-.6 0-.9-.1-.7-.2-73.1-17-73.1-96.9v-56.3c0-1.8 1.1-3.5 2.8-4.1l69.6-26.3c1-.4 2.1-.4 3.1 0l69.6 26.3c1.7.6 2.8 2.3 2.8 4.1V195c0 79.9-72.3 96.8-73.1 96.9-.2.1-.5.1-.8.1z"/> <path class="s-r" fill="#FF5D24" fill-rule="evenodd" clip-rule="evenodd" d="M200 108v184c.3 0 .6 0 .9-.1.7-.2 73.1-17 73.1-96.9v-56.3c0-1.8-1.1-3.5-2.8-4.1l-69.6-26.3c-.6-.2-1.1-.3-1.6-.3z"/> </g> <g class="wrenches"> <path class="w-l" fill-rule="evenodd" d="M207.7 207.3l-15.8 15.8-23.2-6.2-6.2-23.2 15.8-15.8c-9-.7-18.2 2.4-25.1 9.3-9.5 9.5-11.8 23.5-6.8 35.1L108.6 260c-4.7 4.7-4.7 12.3 0 17s12.3 4.7 17 0l37.7-37.7c11.6 4.9 25.6 2.7 35.1-6.8 6.9-6.9 10-16.2 9.3-25.2z" clip-rule="evenodd"/> <path class="w-r" fill-rule="evenodd" d="M292 122.6c-4.7-4.7-12.3-4.7-17 0l-37.7 37.7c-11.6-4.9-25.6-2.7-35.1 6.8-6.9 6.9-10 16.1-9.3 25.1l15.8-15.8 23.2 6.2 6.2 23.2-15.8 15.8c9 .7 18.2-2.4 25.1-9.3 9.5-9.5 11.8-23.5 6.8-35.1l37.7-37.7c4.8-4.6 4.8-12.2.1-16.9z" clip-rule="evenodd"/> </g> <path class="border" d="M199.5 39.5c-88.4 0-160 71.6-160 160s71.6 160 160 160 160-71.6 160-160-71.6-160-160-160zm0 308c-81.7 0-148-66.3-148-148s66.3-148 148-148 148 66.3 148 148-66.3 148-148 148z"/> </svg> <span class="header-short-name">esl</span> <span class="header-long-name">Exadel Smart Library</span> </a> <ul class="header-nav"> <li class="header-nav-item"><a class="header-link" href="/core">Core</a></li> <li class="header-nav-item"><a class="header-link" href="/components">Components</a></li> <li class="header-nav-item"><a class="header-link" href="/examples">Examples</a></li> <li class="header-nav-item"> <a class="header-link icon-link" href="https://github.com/exadel-inc/esl" target="_blank"> <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.998.25C5.373.25 0 5.644 0 12.298c0 5.322 3.438 9.837 8.208 11.431.6.111.819-.26.819-.58 0-.287-.01-1.044-.016-2.05-3.338.728-4.043-1.615-4.043-1.615-.545-1.392-1.332-1.762-1.332-1.762-1.09-.747.081-.732.081-.732 1.204.085 1.837 1.242 1.837 1.242 1.071 1.84 2.81 1.31 3.494 1 .108-.778.418-1.31.762-1.61-2.664-.305-5.466-1.339-5.466-5.954 0-1.316.468-2.391 1.236-3.234-.125-.305-.535-1.53.117-3.188 0 0 1.008-.324 3.3 1.235.957-.267 1.983-.4 3.005-.405 1.018.006 2.045.138 3.004.406 2.29-1.558 3.297-1.234 3.297-1.234.654 1.659.243 2.883.12 3.187.77.843 1.233 1.919 1.233 3.234 0 4.628-2.805 5.646-5.478 5.945.43.372.814 1.107.814 2.23 0 1.611-.015 2.91-.015 3.305 0 .322.216.697.825.579A12.048 12.048 0 0 0 24 12.298C24 5.644 18.627.25 11.998.25Z" fill="#fff"/></svg> </a> </li> <li class="header-nav-item header-search"> <esl-d-search-box autofocus class="header-search-box" post-cls="visible" post-cls-delay="500"> <div class="animation-loading bg-white"></div> <div class="gcse-searchbox-only" data-resultsurl="/search.html"></div> </esl-d-search-box> <esl-trigger active-class="active" class="header-link icon-link header-search-trigger" target="::prev"> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><g clip-path="url(#clip0_102_99)"><path fill="#fff" d="M8.953 14.442c1.526 0 2.818-.538 3.874-1.614 1.057-1.077 1.595-2.378 1.614-3.904.02-1.526-.518-2.818-1.614-3.874-1.096-1.057-2.387-1.595-3.874-1.614-1.487-.02-2.788.518-3.904 1.614-1.115 1.096-1.653 2.387-1.614 3.874.04 1.487.577 2.788 1.614 3.904 1.037 1.115 2.339 1.653 3.904 1.614Zm8.251.39L24 21.63 21.676 24l-6.797-6.83.003-1.283-.166-.183c-1.624 1.405-3.544 2.107-5.761 2.107-2.502 0-4.62-.856-6.354-2.568C.867 13.531 0 11.424 0 8.923 0 6.42.866 4.312 2.6 2.6 4.335.89 6.453.022 8.955.001c2.502-.023 4.598.844 6.288 2.6 1.69 1.756 2.546 3.863 2.568 6.321 0 2.239-.703 4.17-2.107 5.794l.182.167 1.318-.05Z"/></g><defs><clipPath id="clip0_102_99"><path fill="#fff" d="M0 0h24v24H0z"/></clipPath></defs></svg> </esl-trigger> </li> </ul> <div class="header-utility"> <a class="header-btn btn btn-lg btn-sec-blue" href="/introduction">Get started</a> <esl-trigger class="header-hamburger" target="#sidebar" aria-label="Navigation Menu"></esl-trigger> </div> </nav> </header> <esl-d-sidebar id="sidebar" class="open" aria-label="Site Navigation"> <nav class="sidebar-nav"> <a class="sidebar-heading" href="/"> <span class="sidebar-logo fill-light logo-animated"><?xml version="1.0" encoding="utf-8"?> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400"> <g class="shield"> <path class="s-l" fill="#C6361A" fill-rule="evenodd" d="M200 292c-.3 0-.6 0-.9-.1-.7-.2-73.1-17-73.1-96.9v-56.3c0-1.8 1.1-3.5 2.8-4.1l69.6-26.3c1-.4 2.1-.4 3.1 0l69.6 26.3c1.7.6 2.8 2.3 2.8 4.1V195c0 79.9-72.3 96.8-73.1 96.9-.2.1-.5.1-.8.1z"/> <path class="s-r" fill="#FF5D24" fill-rule="evenodd" clip-rule="evenodd" d="M200 108v184c.3 0 .6 0 .9-.1.7-.2 73.1-17 73.1-96.9v-56.3c0-1.8-1.1-3.5-2.8-4.1l-69.6-26.3c-.6-.2-1.1-.3-1.6-.3z"/> </g> <g class="wrenches"> <path class="w-l" fill-rule="evenodd" d="M207.7 207.3l-15.8 15.8-23.2-6.2-6.2-23.2 15.8-15.8c-9-.7-18.2 2.4-25.1 9.3-9.5 9.5-11.8 23.5-6.8 35.1L108.6 260c-4.7 4.7-4.7 12.3 0 17s12.3 4.7 17 0l37.7-37.7c11.6 4.9 25.6 2.7 35.1-6.8 6.9-6.9 10-16.2 9.3-25.2z" clip-rule="evenodd"/> <path class="w-r" fill-rule="evenodd" d="M292 122.6c-4.7-4.7-12.3-4.7-17 0l-37.7 37.7c-11.6-4.9-25.6-2.7-35.1 6.8-6.9 6.9-10 16.1-9.3 25.1l15.8-15.8 23.2 6.2 6.2 23.2-15.8 15.8c9 .7 18.2-2.4 25.1-9.3 9.5-9.5 11.8-23.5 6.8-35.1l37.7-37.7c4.8-4.6 4.8-12.2.1-16.9z" clip-rule="evenodd"/> </g> <path class="border" d="M199.5 39.5c-88.4 0-160 71.6-160 160s71.6 160 160 160 160-71.6 160-160-71.6-160-160-160zm0 308c-81.7 0-148-66.3-148-148s66.3-148 148-148 148 66.3 148 148-66.3 148-148 148z"/> </svg> </span> <span class="sidebar-title">Exadel Smart Library</span> </a> <div class="sidebar-content"> <ul class="sidebar-nav-list esl-scrollable-content"> <li class="sidebar-nav-item"> <div class="sidebar-nav-item-heading"> <a class="sidebar-nav-item-link icon-link" href="/search.html"> <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd" d="M17.618 16.558c1.4-1.665 2.272-3.785 2.272-6.132C19.89 5.24 15.65 1 10.426 1S1 5.24 1 10.426s4.24 9.426 9.426 9.426a9.286 9.286 0 0 0 6.132-2.272l4.952 5.116a.748.748 0 1 0 1.073-1.043l-4.965-5.095Zm-7.192 1.817c-4.353 0-7.912-3.558-7.912-7.95a7.908 7.908 0 0 1 7.912-7.91c4.353 0 7.911 3.558 7.911 7.91 0 4.354-3.52 7.95-7.911 7.95Z"/> </svg> </a> <a class="sidebar-nav-item-trigger" href="/search.html"> Search </a> </div> </li> <li class="sidebar-nav-item"> <div class="sidebar-nav-item-heading"> <a class="sidebar-nav-item-link icon-link" href="/introduction"> <svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 512 512"><path d="M426 155C417 74 352 9 272 1l-16-1-16 1a176 176 0 0 0-101 300c21 21 35 45 40 68v100c0 5 4 9 9 9h13l15 20c7 9 16 14 27 14h26c11 0 21-5 27-14l15-20h13c5 0 9-4 9-9V369c4-23 19-47 40-68 39-38 59-91 53-146zM316 393h-26c-5 0-8 3-8 8s3 9 8 9h26v17h-51c-6 0-9 3-9 8s3 9 9 9h51v17H196v-17h26c5 0 8-4 8-9s-3-8-8-8h-26v-17h51c6 0 9-4 9-9s-3-8-9-8h-51v-18h120v18zm-34 95c-3 4-8 7-13 7h-26c-5 0-10-3-13-7l-8-10h68l-8 10zm79-200c-21 22-37 46-44 70H195c-7-24-23-48-44-70a157 157 0 0 1 91-270l14-1 14 1a157 157 0 0 1 91 271z"/></svg> </a> <esl-trigger class="sidebar-nav-item-trigger sidebar-nav-item-arrow" target="::parent::next"> Introduction </esl-trigger> </div> <esl-panel id="sidebar-introduction-menu" class="sidebar-nav-secondary" group="esl-nav" fallback-duration="400"> <ul class="sidebar-nav-secondary-list"> <esl-a11y-group targets="::child(li)::find(.sidebar-nav-secondary-link)"></esl-a11y-group> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/introduction/"> Installation Guide </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/introduction/browser-support/"> Browser Support </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/introduction/roadmap/"> Our Roadmap </a> </li> </ul> </esl-panel> </li> <li class="sidebar-nav-item"> <div class="sidebar-nav-item-heading active"> <a class="sidebar-nav-item-link icon-link" href="/core"> <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"> <path d="M23.401 3.95a1.055 1.055 0 0 0-.764-.658 1.083 1.083 0 0 0-.989.305l-2.476 2.475-1.208-1.209 2.633-2.633c.274-.274.391-.655.314-1.02a1.088 1.088 0 0 0-.678-.788 6.223 6.223 0 0 0-8.385 4.75c-.046.218-.09.448-.138.692-.277 1.423-.621 3.194-1.632 4.204l-9.044 9.044a2.868 2.868 0 0 0 0 4.05A2.856 2.856 0 0 0 3.06 24c.733 0 1.467-.28 2.025-.837l9.044-9.045c1.01-1.01 2.781-1.354 4.204-1.631.244-.047.474-.092.69-.139a6.176 6.176 0 0 0 3.352-1.733c.27-.27.35-.638.237-.965a5.906 5.906 0 0 0 .79-5.7Zm-1.09.31c.041-.042.09-.06.134-.051.037.008.065.035.082.08A4.97 4.97 0 0 1 22 8.899l-2.164-2.164 2.476-2.476Zm-.599 5.693a5.245 5.245 0 0 1-2.874 1.477c-.212.045-.441.09-.684.137-1.548.301-3.475.676-4.688 1.889L4.422 22.5a1.929 1.929 0 0 1-2.725 0 1.929 1.929 0 0 1 0-2.725l9.044-9.045c1.213-1.212 1.588-3.139 1.89-4.687.046-.243.091-.473.136-.684a5.244 5.244 0 0 1 1.477-2.875 5.283 5.283 0 0 1 5.65-1.188c.056.022.09.058.1.106.012.055-.01.115-.06.165l-2.965 2.965a.469.469 0 0 0 0 .663l4.746 4.745a.059.059 0 0 1 .004.005.082.082 0 0 1-.007.008Z"/> <path d="M16.306 5.858a.47.47 0 0 0-.662 0l-1.326 1.326a.469.469 0 0 0 0 .663l1.872 1.871a.469.469 0 0 0 .662 0l1.326-1.325a.469.469 0 0 0 0-.663l-1.872-1.872Zm.215 2.866-1.209-1.209.663-.663 1.209 1.21-.663.662ZM3.391 20.805a.469.469 0 1 0-.663.662.469.469 0 0 0 .663-.662ZM11.773 11.762 4.22 19.315a.469.469 0 0 0 .663.663l7.553-7.553a.469.469 0 0 0-.663-.663Z"/> </svg> </a> <esl-trigger class="sidebar-nav-item-trigger sidebar-nav-item-arrow" target="::parent::next" active> Core </esl-trigger> </div> <esl-panel id="sidebar-core-menu" class="sidebar-nav-secondary open" data-open group="esl-nav" fallback-duration="400"> <ul class="sidebar-nav-secondary-list"> <esl-a11y-group targets="::child(li)::find(.sidebar-nav-secondary-link)"></esl-a11y-group> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/core/esl-base-element/"> ESL Base Element </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/core/esl-mixin-element/"> <sup class="badge badge-sup badge-success badge-sidebar">new</sup> ESL Mixin Element </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/core/esl-media-query/"> ESL Media Query </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/core/esl-traversing-query/"> ESL Traversing Query </a> </li> <li class="sidebar-nav-secondary-item active" aria-selected="true"> <a class="sidebar-nav-secondary-link" aria-current="page" href="/core/esl-event-listener/"> <sup class="badge badge-sup badge-success badge-sidebar">new</sup> ESL Event Listeners </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/core/esl-utils/"> ESL Utils </a> </li> </ul> </esl-panel> </li> <li class="sidebar-nav-item"> <div class="sidebar-nav-item-heading"> <a class="sidebar-nav-item-link icon-link" href="/components"> <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21.625 6.5H2.375A1.377 1.377 0 0 1 1 5.125v-2.75C1 1.617 1.617 1 2.375 1h19.25C22.383 1 23 1.617 23 2.375v2.75c0 .758-.617 1.375-1.375 1.375ZM2.375 1.917a.458.458 0 0 0-.458.458v2.75c0 .253.205.458.458.458h19.25a.458.458 0 0 0 .458-.458v-2.75a.458.458 0 0 0-.458-.458H2.375ZM21.625 14.75H9.71a1.377 1.377 0 0 1-1.375-1.375v-2.75c0-.758.616-1.375 1.375-1.375h11.916c.758 0 1.375.617 1.375 1.375v2.75c0 .758-.617 1.375-1.375 1.375ZM9.71 10.167a.458.458 0 0 0-.459.458v2.75c0 .253.206.458.459.458h11.916a.458.458 0 0 0 .459-.458v-2.75a.458.458 0 0 0-.459-.458H9.71ZM3.75 14.75A2.753 2.753 0 0 1 1 12a2.753 2.753 0 0 1 2.75-2.75A2.753 2.753 0 0 1 6.5 12a2.753 2.753 0 0 1-2.75 2.75Zm0-4.583A1.835 1.835 0 0 0 1.917 12c0 1.011.822 1.833 1.833 1.833A1.835 1.835 0 0 0 5.583 12a1.835 1.835 0 0 0-1.833-1.833ZM14.292 23H2.375A1.377 1.377 0 0 1 1 21.625v-2.75c0-.758.617-1.375 1.375-1.375h11.917c.758 0 1.375.617 1.375 1.375v2.75c0 .758-.617 1.375-1.375 1.375ZM2.375 18.417a.458.458 0 0 0-.458.458v2.75c0 .253.205.458.458.458h11.917a.458.458 0 0 0 .458-.458v-2.75a.458.458 0 0 0-.458-.458H2.375ZM20.25 23a2.753 2.753 0 0 1-2.75-2.75 2.753 2.753 0 0 1 2.75-2.75A2.753 2.753 0 0 1 23 20.25 2.753 2.753 0 0 1 20.25 23Zm0-4.583a1.835 1.835 0 0 0-1.833 1.833c0 1.011.822 1.833 1.833 1.833a1.835 1.835 0 0 0 1.833-1.833 1.835 1.835 0 0 0-1.833-1.833Z"/></svg> </a> <esl-trigger class="sidebar-nav-item-trigger sidebar-nav-item-arrow" target="::parent::next"> Components </esl-trigger> </div> <esl-panel id="sidebar-components-menu" class="sidebar-nav-secondary" group="esl-nav" fallback-duration="400"> <ul class="sidebar-nav-secondary-list"> <esl-a11y-group targets="::child(li)::find(.sidebar-nav-secondary-link)"></esl-a11y-group> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/components/esl-a11ty-group/"> <sup class="badge badge-sup badge-warning badge-sidebar">beta</sup> ESL A11y Group </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/components/esl-alert/"> ESL Alert </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/components/esl-animate/"> <sup class="badge badge-sup badge-warning badge-sidebar">beta</sup> ESL Animate </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/components/esl-footnotes/"> <sup class="badge badge-sup badge-warning badge-sidebar">beta</sup> ESL Footnotes </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/components/esl-image/"> ESL Image </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/components/esl-media/"> ESL Media </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/components/esl-panel/"> ESL Panel </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/components/esl-panel-group/"> ESL Panel Group </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/components/esl-popup/"> <sup class="badge badge-sup badge-warning badge-sidebar">beta</sup> ESL Popup </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/components/esl-scrollbar/"> ESL Scrollbar </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/components/esl-select/"> <sup class="badge badge-sup badge-warning badge-sidebar">beta</sup> ESL Select </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/components/esl-select-list/"> <sup class="badge badge-sup badge-warning badge-sidebar">beta</sup> ESL Select List </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/components/esl-tabs/"> ESL Tabs </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/components/esl-toggleable/"> ESL Toggleable </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/components/esl-trigger/"> ESL Trigger </a> </li> </ul> </esl-panel> </li> <li class="sidebar-nav-item"> <div class="sidebar-nav-item-heading"> <a class="sidebar-nav-item-link icon-link" href="/examples"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"> <path d="M21.61 5.04h-8.48L11.442 3.1a.291.291 0 0 0-.226-.1H4.383a1.93 1.93 0 0 0-1.345.54 1.84 1.84 0 0 0-.412.598 1.795 1.795 0 0 0-.145.706v.539h-.579c-.503 0-.987.193-1.344.538A1.815 1.815 0 0 0 0 7.223v11.934c0 .489.2.958.557 1.303.356.346.84.54 1.343.54h17.228a1.913 1.913 0 0 0 1.345-.54 1.81 1.81 0 0 0 .557-1.303v-.539h.579a1.943 1.943 0 0 0 1.344-.539 1.81 1.81 0 0 0 .557-1.303V6.884c0-.242-.049-.482-.145-.706a1.84 1.84 0 0 0-.411-.598 1.906 1.906 0 0 0-.617-.4 1.952 1.952 0 0 0-.727-.14Zm-1.17 13.026v1.104c0 .338-.14.662-.386.901s-.58.373-.928.374H1.9c-.348 0-.682-.135-.928-.374a1.259 1.259 0 0 1-.386-.9V7.235c0-.338.139-.662.385-.902s.58-.374.93-.375h6.716l1.69 1.94a.29.29 0 0 0 .225.101h8.612c.715.011 1.29.573 1.296 1.265v8.799l.001.001Zm2.48-1.276c0 .339-.139.663-.385.902-.247.239-.58.374-.93.374h-.578v-8.8c0-.242-.05-.481-.145-.705a1.842 1.842 0 0 0-.412-.598 1.906 1.906 0 0 0-.617-.4 1.952 1.952 0 0 0-.727-.14H10.65l-1.689-1.94a.291.291 0 0 0-.225-.1H3.07v-.539c0-.338.14-.662.386-.9.246-.24.58-.374.929-.375h6.708l1.689 1.94c.056.064.137.1.224.1h8.614c.724.002 1.313.572 1.314 1.276l-.012 9.905Z"/> <path d="M21.96 5.04h-8.48L11.792 3.1a.291.291 0 0 0-.226-.1H4.733a1.93 1.93 0 0 0-1.345.54 1.84 1.84 0 0 0-.412.598 1.795 1.795 0 0 0-.145.706v.539h-.579c-.503 0-.987.193-1.344.538A1.815 1.815 0 0 0 .35 7.223v11.934c0 .489.2.958.557 1.303.356.346.84.54 1.343.54h17.23a1.943 1.943 0 0 0 1.344-.54 1.81 1.81 0 0 0 .557-1.303v-.539h.579a1.939 1.939 0 0 0 1.344-.539 1.824 1.824 0 0 0 .557-1.303V6.884c0-.242-.049-.482-.145-.706a1.84 1.84 0 0 0-.411-.598 1.906 1.906 0 0 0-.617-.4 1.952 1.952 0 0 0-.727-.14Zm-1.17 13.026v1.104c0 .338-.14.662-.386.901s-.58.373-.928.374H2.25c-.348 0-.682-.135-.928-.374a1.259 1.259 0 0 1-.386-.9V7.235c0-.338.139-.662.385-.902s.58-.374.93-.375h6.716l1.69 1.94a.29.29 0 0 0 .225.101h8.612c.715.011 1.29.573 1.296 1.265v8.799l.001.001Zm2.48-1.276c0 .339-.139.663-.385.902s-.58.374-.93.374h-.578v-8.8c0-.242-.05-.481-.145-.705a1.842 1.842 0 0 0-.412-.598 1.906 1.906 0 0 0-.617-.4 1.952 1.952 0 0 0-.727-.14H11l-1.689-1.94a.291.291 0 0 0-.225-.1H3.42v-.539c0-.338.14-.662.386-.9.246-.24.58-.374.929-.375h6.708l1.689 1.94c.056.064.137.1.224.1h8.614c.725.002 1.313.572 1.314 1.276l-.012 9.905Z"/> <path d="M21.61 5.39h-8.48l-1.688-1.94a.291.291 0 0 0-.226-.1H4.383a1.93 1.93 0 0 0-1.345.54 1.84 1.84 0 0 0-.412.598 1.795 1.795 0 0 0-.145.706v.539h-.579a1.93 1.93 0 0 0-1.344.538A1.815 1.815 0 0 0 0 7.573v11.934c0 .489.2.958.557 1.303.356.346.84.54 1.343.54h17.228a1.913 1.913 0 0 0 1.345-.54 1.81 1.81 0 0 0 .557-1.303v-.539h.579a1.943 1.943 0 0 0 1.344-.539 1.81 1.81 0 0 0 .557-1.303V7.234c0-.242-.049-.482-.145-.706a1.84 1.84 0 0 0-.411-.598 1.906 1.906 0 0 0-.617-.399 1.952 1.952 0 0 0-.727-.14Zm-1.17 13.026v1.104c0 .338-.14.662-.386.901s-.58.373-.928.374H1.9c-.348 0-.682-.135-.928-.374a1.259 1.259 0 0 1-.386-.9V7.585c0-.338.139-.662.385-.902s.58-.374.93-.375h6.716l1.69 1.94a.29.29 0 0 0 .225.101h8.612c.715.011 1.29.573 1.296 1.265v8.798l.001.002Zm2.48-1.275c0 .338-.139.662-.385.9-.247.24-.58.375-.93.375h-.578v-8.8c0-.242-.05-.481-.145-.705a1.842 1.842 0 0 0-.412-.598 1.906 1.906 0 0 0-.617-.4 1.952 1.952 0 0 0-.727-.14H10.65l-1.689-1.94a.291.291 0 0 0-.225-.1H3.07v-.539c0-.338.14-.662.386-.9.246-.24.58-.374.929-.375h6.708l1.689 1.94c.056.064.137.1.224.1h8.614c.724.002 1.313.572 1.314 1.276l-.012 9.905Z"/> </svg> </a> <esl-trigger class="sidebar-nav-item-trigger sidebar-nav-item-arrow" target="::parent::next"> Examples </esl-trigger> </div> <esl-panel id="sidebar-examples-menu" class="sidebar-nav-secondary" group="esl-nav" fallback-duration="400"> <ul class="sidebar-nav-secondary-list"> <esl-a11y-group targets="::child(li)::find(.sidebar-nav-secondary-link)"></esl-a11y-group> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/examples/accordion/"> Accordion </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/examples/animate/"> <sup class="badge badge-sup badge-warning badge-sidebar">beta</sup> Animate </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/examples/embedded-audio/"> Embedded Audio </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/examples/embedded-video/"> Embedded Video </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/examples/footnotes/"> <sup class="badge badge-sup badge-warning badge-sidebar">beta</sup> Footnotes </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/examples/image/"> Image </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/examples/menu/"> Menu </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/examples/notification/"> Notification </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/examples/popup/"> <sup class="badge badge-sup badge-warning badge-sidebar">beta</sup> Popup </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/examples/scrollbar/"> Scrollbar </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/examples/forms-select/"> <sup class="badge badge-sup badge-warning badge-sidebar">beta</sup> Select Dropdown </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/examples/forms-select-list/"> <sup class="badge badge-sup badge-warning badge-sidebar">beta</sup> Select List </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/examples/share/"> <sup class="badge badge-sup badge-warning badge-sidebar">beta</sup> Share </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/examples/tabs/"> Tabs </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/examples/toggleable/"> Toggleable </a> </li> </ul> </esl-panel> </li> </ul> <esl-scrollbar class="sidebar-scrollbar" target="::prev"></esl-scrollbar> </div> <esl-trigger class="sidebar-trigger-btn sidebar-arrows-icon" target="#sidebar" data-store></esl-trigger> </nav> </esl-d-sidebar> <script>var sidebar;localStorage.getItem("sidebar-collapsed")&&((sidebar=document.querySelector("#sidebar")).classList.remove("open"),sidebar.querySelector(".sidebar-trigger-btn").removeAttribute("active"),Array.from(sidebar.querySelectorAll(".sidebar-nav-secondary")).forEach(function(e){e.classList.remove("open")}))</script> <main class="esl-scrollable-content"> <div class="content container"> <h1 class="page-title"> ESL Event Listeners <span class="badge badge-sup badge-success">New</span> </h1> <div class="markdown-container"> <p>Starting from the 4th release ESL has a built-in mechanism to work with DOM events. ESL event listeners have more control and advanced features than native DOM API. Besides, the <a href="/core/esl-base-element"><code>ESlBaseElement</code></a> and the <a href="https://github.com/exadel-inc/esl/tree/main/src/modules/esl-mixin-element/README.md"><code>ESLMixinElement</code></a> have even more pre-built syntax sugar to make the consumer's code briefer.</p> <p>One of the main advantages of ESL listeners is the extended control of subscriptions. All ESL listeners and their declarations are saved and associated with the host element. It means that ESL listeners can be subscribed or unsubscribed at any time in various ways. And most importantly, you do not need the original callback handler to do this.</p> <hr> <h2>Basic concepts</h2> <p>The ESL event listener module is based on the following major terms and classes:</p> <h3><a name="the-host">The <code>host</code></a></h3> <p>Everything that happens with ESL event listeners should be associated with a <code>host</code> object. The <code>host</code> is an object that "owns" (registers / deletes) the subscription.</p> <p>By default, the <code>host</code> is used as an <code>EventTarget</code> (or an object implementing <code>EventTarget</code> interface) to subscribe. But the <code>host</code> object is not necessarily related to an <code>EventTarget</code>. We have at least two options to change the target. First of all, you can define the target explicitly. Another way is to specify the default DOM target of the host object by providing a special <code>$host</code> key (see <code>ESLMixinElement</code> implementation).</p> <p>The <code>host</code> object is also used as a context to call the handler function of the subscription.</p> <h3><a name="the-handler">The <code>handler</code></a></h3> <p>The <code>handler</code> is a function that is used to process the subscription event. ESL declares a generic type to describe such functions - <code>ESLListenerHandler</code>;</p> <pre><code class="language-typescript"><span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">ESLListenerHandler<span class="token operator">&lt;</span>EType <span class="token keyword">extends</span> Event <span class="token operator">=</span> Event<span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span>
  event<span class="token operator">:</span> EType
<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
</code></pre> <h3><a name="the-esleventlistener-class-and-subscription">The <code>ESLEventListener</code> class and <em>subscription</em></a></h3> <p>The subscriptions created by the ESL event listener module are instances of <code>ESLEventListener</code> class. All active subscriptions are stored in a hidden property of the <code>host</code> object.</p> <p><code>ESLEventListener</code> has the following basic properties:</p> <ul> <li><code>event</code> - event type that the subscription is listening to;</li> <li><code>handler</code> - reference for the function to call to handle the event (see <a href="#the-handler">The handler</a>);</li> <li><code>host</code> - reference for the object that holds the subscription (see <a href="#the-host">The host</a>);</li> <li><code>target</code> - definition of <code>EventTarget</code> element (or string <code>TraversingQuery</code> to find it, see details in <a href="#descriptors-esleventdesriptor-esleventdesriptorfn"><code>ESLEventDesriptor</code></a>);</li> <li><code>selector</code> - CSS selector to use built-in event delegation;</li> <li><code>capture</code> - marker to use the capture phase of the DOM event life-cycle;</li> <li><code>passive</code> - marker to use passive (non-blocking) subscription of the native event (if supported);</li> <li><code>once</code> - marker to destroy the subscription after the first event catch.</li> </ul> <p>All of the <code>ESLEventListener</code> instance fields are read-only; the subscription can't be changed once created.</p> <p>The <code>ESLEventListener</code>, as a class, describes the subscription behavior and contains static methods to create and manage subscriptions.</p> <h3><a name="descriptors-esleventdesriptor-esleventdesriptorfn">Descriptors (<code>ESLEventDesriptor</code>, <code>ESLEventDesriptorFn</code>)</a></h3> <p>The event listener <em>Descriptor</em> is an object to describe future subscriptions. The ESL event listeners module has a few special details regarding such objects.</p> <p>A simple descriptor is an object that is passed to ESL event listener API to create a subscription. It contains almost the same set of keys as the <code>ESLEventListener</code> instance.</p> <p>In addition to that, ESL allows you to combine the <code>ESLEventDesriptor</code> data with the handler function. <code>ESLEventDesriptorFn</code> is a function handler that is decorated with the <code>ESLEventDesriptor</code> properties.</p> <p>Here is the list of supported keys of <code>ESLEventDesriptor</code>:</p> <ul> <li> <h4><code>event</code> key</h4> <p><u>Type:</u> <code>string | PropertyProvider&lt;string&gt;</code><br> <u>Description:</u> the event type for subscription. Can be provided as a string or via provider function that will be called right before the subscription.</p> <p>The event string (as a literal, or returned by <code>PropertyProvider</code>) can declare multiple event types separated by space. ESL will create a subscription (<code>ESLEventListener</code> object) for each event type in this case.</p> </li> <li> <h4><code>target</code> key</h4> <p><u>Type:</u> <code>string | EventTarget | EventTarget[] | PropertyProvider&lt;string | EventTarget | EventTarget[]&gt;</code><br> <u>Default Value:</u> <code>host</code> object itself or <code>$host</code> key of the <code>host</code> object<br> <u>Description:</u> the key to declare exact EventTarget for the subscription. In case the <code>target</code> key is a string it is considered as a <a href="/core/esl-traversing-query"><code>TraversingQuery</code></a>. The query finds a target relatively to <code>host | host.$host</code> object, or in bounds of the DOM tree if it is absolute. The <code>target</code> key also supports an exact reference for <code>EventTarget</code>(s).</p> <p>⚠ Any <code>EventTarget</code> or even ESL <code>SynteticEventTarget</code> (including <a href="/core/esl-media-query"><code>ESLMediaQuery</code></a>) can be a target for listener API.</p> <p>⚠ See <a href="#extended-event-targets">OOTB Extended Event Targets</a> of ESL to know how to optimize handling of frequent events.</p> <p>The <code>target</code> property can be declared via <code>PropertyProvider</code> as well.</p> </li> <li> <h4><code>selector</code> key</h4> <p><u>Type:</u> <code>string | PropertyProvider&lt;string&gt;</code><br> <u>Default Value:</u> <code>null</code><br> <u>Description:</u> the CSS selector to filter event targets for event delegation mechanism.</p> <p>Supports <code>PropertyProvider</code> to declare the computed value as well.</p> </li> <li> <h4><code>capture</code> key</h4> <p><u>Type:</u> <code>boolean</code><br> <u>Default Value:</u> <code>false</code><br> <u>Description:</u> marker to use capturing phase of the DOM event to handle.</p> </li> <li> <h4><code>passive</code> key</h4> <p><u>Type:</u> <code>boolean</code><br> <u>Default Value:</u> <code>true</code> if the event type is <code>wheel</code>, <code>mousewheel</code>, <code>touchstart</code> or <code>touchmove</code> <u>Description:</u> marker to use passive subscription to the native event.</p> <p>⚠ ESL uses passive subscription by default for <code>wheel</code>, <code>mousewheel</code>, <code>touchstart</code>, <code>touchmove</code> events. You need to declare <code>passive</code> key explicitly to override this behavior.</p> </li> <li> <h4><code>once</code> key</h4> <p><u>Type:</u> <code>boolean</code><br> <u>Default Value:</u> <code>false</code><br> <u>Description:</u> marker to unsubscribe the listener after the first successful handling of the event.</p> </li> <li> <h4><code>auto</code> key (for <code>ESLEventDesriptorFn</code> declaration only)</h4> <p><u>Type:</u> <code>boolean</code><br> <u>Default Value:</u> <code>false</code> for <code>ESLEventUtils.initDescriptor</code>, <code>true</code> for <code>@listen</code> decorator <u>Description:</u> marker to make an auto-subscribable descriptor. See <a href="#automatic-collectable-descriptors">Automatic (collectable) descriptors</a>.</p> </li> <li> <h4><code>inherit</code> key (for <code>ESLEventDesriptorExt</code> only)</h4> <p><u>Type:</u> <code>boolean</code><br> <u>Description:</u> available in extended version of <code>ESLEventDesriptor</code> that is used in the descriptor declaration API. Allows to inherit <code>ESLEventDesriptor</code> data from the <code>ESLEventDesriptorFn</code> from the prototype chain. See <a href="#-esleventutilsinitdescriptor"><code>initDescriptor</code></a> usages example.</p> </li> </ul> <h3><a name="automatic-collectable-descriptors">Automatic (collectable) descriptors</a></h3> <p>Auto-collectable (or auto-subscribable) descriptors can be subscribed at once during the initialization of the <code>host</code> object.</p> <p>To make an <code>ESLEventDesriptorFn</code> auto-collectable, the consumer should declare it with the <code>auto</code> marker using <code>ESLEventUtils.initDescriptor</code> or <code>@listen</code> decorator.</p> <p>⚠ <code>ESLEventUtils.initDescriptor</code> (or <code>@listen</code>) stores the auto-collectable descriptors in the internal collection on the <code>host</code>.</p> <p>The <code>ESLBaseElment</code> and the <code>ESLMixinElement</code> subscribes all auto-collectable descriptors in the <code>connectedCallback</code>. See the usage of <a href="#-esleventutilssubscribe"><code>ESLEventUtils.subscibe</code></a> for more details.</p> <h3><code>PropertyProvider</code> for <code>event</code>, <code>selector</code>, or <code>target</code></h3> <p>The descriptor declaration usually happens with the class declaration when the instance and its subscription do not exist. We might have a problem if we want to pass subscription parameters that depend on the instance.</p> <p>To resolve such a case, the <code>event</code>, <code>selector</code>, and <code>target</code> keys of ESL event listener API support <code>PropertyProvider</code> mechanism:</p> <pre><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">PropertyProvider<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">,</span> that<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">T</span><span class="token punctuation">;</span>
</code></pre> <p>See examples in the <a href="#-esleventutilsinitdescriptor">ESLEventUtils.initDescriptor</a> section.</p> <hr> <h2>Public API (<code>ESLEventUtils</code>)</h2> <p>The units mentioned earlier are mostly implementation details of the module.</p> <p><code>ESLEventUtils</code> is a facade for all ESL event listener module capabilities.</p> <p>Here is the module Public API:</p> <p><a name="-esleventutilssubscribe"></a></p> <h3>⚡ <code>ESLEventUtils.subscribe</code></h3> <p>Creates and subscribes an <code>ESLEventListener</code>.</p> <ul> <li>Subscribes all auto-collectable (subscribable) descriptors of the <code>host</code> object:<pre><code class="language-typescript">ESLEventUtils<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>host<span class="token operator">:</span> object<span class="token punctuation">)</span>
</code></pre> </li> <li>Subscribes <code>handler</code> function to the DOM event declared by <code>eventType</code> string:<pre><code class="language-typescript">ESLEventUtils<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>host<span class="token operator">:</span> object<span class="token punctuation">,</span> eventType<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> handler<span class="token operator">:</span> ESLListenerHandler<span class="token punctuation">)</span>
</code></pre> </li> <li>Subscribes <code>handler</code> instance of <code>ESLEventDescriptorFn</code> using embedded meta-information:<pre><code class="language-typescript">ESLEventUtils<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>host<span class="token operator">:</span> object<span class="token punctuation">,</span> handler<span class="token operator">:</span> ESLEventDescriptorFn<span class="token punctuation">)</span>
</code></pre> </li> <li>Subscribes <code>handler</code> function using <code>ESLEventDescriptor</code>:<pre><code class="language-typescript">ESLEventUtils<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>host<span class="token operator">:</span> object<span class="token punctuation">,</span> descriptor<span class="token operator">:</span> ESLEventDescriptor<span class="token punctuation">,</span> handler<span class="token operator">:</span> ESLListenerHandler<span class="token punctuation">)</span>
</code></pre> </li> <li>Subscribes <code>handler</code> instance of <code>ESLEventDescriptorFn</code> with <code>ESLEventDescriptor</code> overriding meta-data:<pre><code class="language-typescript">ESLEventUtils<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>host<span class="token operator">:</span> object<span class="token punctuation">,</span> descriptor<span class="token operator">:</span> ESLEventDescriptor<span class="token punctuation">,</span> handler<span class="token operator">:</span> ESLEventDescriptorFn<span class="token punctuation">)</span>
</code></pre> </li> </ul> <p><strong>Parameters</strong>:</p> <ul> <li><code>host</code> - host element to store subscription (event target by default);</li> <li><code>eventType</code> - string DOM event type;</li> <li><code>descriptor</code> - event description data (<code>ESLEventDescriptor</code>);</li> <li><code>handler</code> - function callback handler or instance of <code>ESLEventDescriptorFn</code></li> </ul> <p>Examples:</p> <ul> <li><code>ESLEventUtils.subscribe(host);</code> - subscribes all auto-subscriptions of the <code>host</code>;</li> <li><code>ESLEventUtils.subscribe(host, handlerFn);</code> - subscribes <code>handlerFn</code> method (decorated as an <code>ESLEventDescriptorFn</code>) to the <code>handlerFn.target</code>;</li> <li><code>ESLEventUtils.subscribe(host, 'click', handlerFn);</code> - subscribes <code>handlerFn</code> function with the passed event type;</li> <li><code>ESLEventUtils.subscribe(host, {event: 'scroll', target: window}, handlerFn);</code> - subscribes <code>handlerFn</code> function with the passed additional descriptor data.</li> </ul> <p><a name="-esleventutilsunsubscribe"></a></p> <h3>⚡ <code>ESLEventUtils.unsubscribe</code></h3> <p>Allows unsubscribing existing subscriptions.</p> <pre><code class="language-typescript"><span class="token function">unsubscribe</span><span class="token punctuation">(</span>host<span class="token operator">:</span> HTMLElement<span class="token punctuation">,</span> <span class="token operator">...</span>criteria<span class="token operator">:</span> ESLListenerCriteria<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> ESLEventListener<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <p><strong>Parameters</strong>:</p> <ul> <li><code>host</code> - host element to find subscriptions;</li> <li><code>criteria</code> - optional set of criteria to filter listeners to remove.</li> </ul> <p>Examples:</p> <ul> <li><code>ESLEventUtils.unsubscribe(host);</code> - unsubscribes everything bound to the <code>host</code></li> <li><code>ESLEventUtils.unsubscribe(host, handlerFn);</code> - unsubscribes everything that is bound to the <code>host</code> and is handled by the <code>handlerFn</code></li> <li><code>ESLEventUtils.unsubscribe(host, 'click');</code> - unsubscribes everything bound to the <code>host</code> and processing <code>click</code> event</li> <li><code>ESLEventUtils.unsubscribe(host, 'click', handlerFn);</code> - unsubscribes everything that is bound to the <code>host</code>, processing <code>click</code> event and is handled by the <code>handlerFn</code></li> <li>There can be any number of criteria.</li> </ul> <p><a name="-esleventutilsiseventdescriptor"></a></p> <h3>⚡ <code>ESLEventUtils.isEventDescriptor</code></h3> <p>Predicate to check if the passed argument is a type of <code>ESLListenerDescriptorFn = ESLEventHandler &amp; Partial&lt;ESLEventDescriptor&gt;</code>.</p> <pre><code class="language-typescript">ESLEventUtils<span class="token punctuation">.</span><span class="token function">isEventDescriptor</span><span class="token punctuation">(</span>obj<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> obj <span class="token keyword">is</span> ESLListenerDescriptorFn<span class="token punctuation">;</span>
</code></pre> <p><a name="-esleventutilsgetautodescriptors"></a></p> <h3>⚡ <code>ESLEventUtils.getAutoDescriptors</code></h3> <p>Gathers auto-subscribable (collectable) descriptors from the passed object.</p> <pre><code class="language-typescript">ESLEventUtils<span class="token punctuation">.</span><span class="token function">descriptors</span><span class="token punctuation">(</span>host<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> ESLListenerDescriptorFn<span class="token punctuation">[</span><span class="token punctuation">]</span>
</code></pre> <p><strong>Parameters</strong>:</p> <ul> <li><code>host</code> - object to get auto-collectable descriptors from;</li> </ul> <p><a name="-esleventutilsdescriptors"></a></p> <h3>⚡ <code>ESLEventUtils.descriptors</code></h3> <p>Deprecated alias for <code>ESLEventUtils.getAutoDescriptors</code></p> <p><a name="-esleventutilsinitdescriptor"></a></p> <h3>⚡ <code>ESLEventUtils.initDescriptor</code></h3> <p>Decorates the passed key of the host object as <code>ESLEventDescriptorFn</code></p> <pre><code class="language-typescript">ESLEventUtils<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">initDescriptor</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> object<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>
  host<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span>
  key<span class="token operator">:</span> <span class="token keyword">keyof</span> <span class="token constant">T</span> <span class="token operator">&amp;</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  desc<span class="token operator">:</span> ESLEventDescriptorExt
<span class="token punctuation">)</span><span class="token operator">:</span> ESLEventDescriptorFn<span class="token punctuation">;</span>
</code></pre> <p><strong>Parameters</strong>:</p> <ul> <li><code>host</code> - host object holder of decorated function;</li> <li><code>key</code> - key of the <code>host</code> object that contains a function to decorate;</li> <li><code>desc</code> - <code>ESLEventDescriptor</code> (extended) meta information to describe future subscriptions.</li> </ul> <p>The extended <code>ESLEventDescriptor</code> information allows passing <code>inherit</code> marker to create a new descriptor instance based on the descriptor declared in the prototype chain for the same key.</p> <p>⚠ If such a key is not found, a <code>ReferenceError</code> will be thrown.</p> <p>Example:</p> <pre><code class="language-typescript"><span class="token keyword">class</span> <span class="token class-name">MyElement</span> <span class="token punctuation">{</span>
  <span class="token function">onEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
ESLEventUtils<span class="token punctuation">.</span><span class="token function">initDescriptor</span><span class="token punctuation">(</span>MyElement<span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token string">'onEvent'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>event<span class="token operator">:</span> <span class="token string">'event'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <h4><code>@listen</code> decorator</h4> <p>The <code>@listen</code> decorator (available under <code>esl-utils/decorators</code>) is syntax sugar above <code>ESLEventUtils.initDescriptor</code> method. It allows you to declare class methods as an <code>ESLEventDescriptorFn</code> using TS <code>experimentalDecorators</code> feature.</p> <p>Listeners described by <code>@listen</code> are auto-subscribable if they are not inherited and not declared as manual explicitly. In case of inheritance the <code>auto</code> marker will be inherited from the parent descriptor.</p> <p>Example:</p> <pre><code class="language-typescript"><span class="token keyword">class</span> <span class="token class-name">MyEl</span> <span class="token keyword">extends</span> <span class="token class-name">ESLBaseElement</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> event<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token keyword">private</span> selector<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token comment">// Shortcut with just an event type</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">listen</span></span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">)</span>
  <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token comment">// Shortcut with event type declared by PropertyProvider</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">listen</span></span><span class="token punctuation">(</span><span class="token punctuation">(</span>that<span class="token operator">:</span> MyEl<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> that<span class="token punctuation">.</span>event<span class="token punctuation">)</span>
  <span class="token function">onEventProvided</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token comment">// Full list of options is available</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">listen</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>event<span class="token operator">:</span> <span class="token string">'click'</span><span class="token punctuation">,</span> target<span class="token operator">:</span> <span class="token string">'body'</span><span class="token punctuation">,</span> capture<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token function">onBodyClick</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token comment">// Property Providers example</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">listen</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">event</span><span class="token operator">:</span> <span class="token punctuation">(</span>that<span class="token operator">:</span> MyEl<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> that<span class="token punctuation">.</span>event<span class="token punctuation">,</span>
    <span class="token function-variable function">seletor</span><span class="token operator">:</span> <span class="token punctuation">(</span>that<span class="token operator">:</span> MyEl<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> that<span class="token punctuation">.</span>selector
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token function">onEventProvidedExt</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token comment">// Will not subscribe authomatically</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">listen</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>event<span class="token operator">:</span> <span class="token string">'click'</span><span class="token punctuation">,</span> auto<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token function">onClickManual</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <p><a name="-esleventutilslisteners"></a></p> <h3>⚡ <code>ESLEventUtils.listeners</code></h3> <p>Gathers listeners currently subscribed to the passed <code>host</code> object.</p> <pre><code class="language-typescript">ESLEventUtils<span class="token punctuation">.</span><span class="token function">listeners</span><span class="token punctuation">(</span>host<span class="token operator">:</span> object<span class="token punctuation">,</span> <span class="token operator">...</span>criteria<span class="token operator">:</span> ESLListenerCriteria<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> ESLEventListener<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <p><strong>Parameters</strong>:</p> <ul> <li><code>host</code> - object that stores and relates to the handlers;</li> <li><code>criteria</code> - optional set of criteria to filter the listeners list.</li> </ul> <p><a name="-esleventutilsdispatch"></a></p> <h3>⚡ <code>ESLEventUtils.dispatch</code></h3> <p>Dispatches custom DOM events. The dispatched event is bubbling and cancelable by default.</p> <pre><code class="language-typescript">ESLEventUtils<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span>
  el<span class="token operator">:</span> EventTarget<span class="token punctuation">,</span>
  eventName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  eventInit<span class="token operator">?</span><span class="token operator">:</span> CustomEventInit
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
</code></pre> <p><strong>Parameters</strong>:</p> <ul> <li><code>el</code> - <code>EventTarget</code> to dispatch event;</li> <li><code>eventName</code> - name of the event to dispatch;</li> <li><code>eventInit</code> - object that specifies characteristics of the event.</li> </ul> <h3>Listeners Full Showcase Example</h3> <pre><code class="language-typescript"><span class="token keyword">class</span> <span class="token class-name">TestCases</span> <span class="token punctuation">{</span>
  <span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Subcribes all auto descriptors (onEventAutoDescSugar and onEventAutoDesc)</span>
    ESLEventUtils<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Subscribes onEventManualFn on click</span>
    ESLEventUtils<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>onEventManualFn<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Subscribes onEventManualFn on window resize</span>
    ESLEventUtils<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>event<span class="token operator">:</span> <span class="token string">'resize'</span><span class="token punctuation">,</span> target<span class="token operator">:</span> window<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>onEventManualFn<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Subscribes onEventManualDesc using embeded information</span>
    ESLEventUtils<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>onEventManualDesc<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Subscribes onEventManualDesc using merged embeded and passed information</span>
    ESLEventUtils<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>target<span class="token operator">:</span> window<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>onEventManualDesc<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">unbind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Unsubcribes all subscriptions</span>
    ESLEventUtils<span class="token punctuation">.</span><span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Unsubcribes just onEventAutoDesc</span>
    ESLEventUtils<span class="token punctuation">.</span><span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>onEventAutoDesc<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token decorator"><span class="token at operator">@</span><span class="token function">listen</span></span><span class="token punctuation">(</span><span class="token string">'event'</span><span class="token punctuation">)</span>
  <span class="token function">onEventAutoDescSugar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token function">onEventAutoDesc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token function">onEventManualFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token function">onEventManualDesc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

ESLEventUtils<span class="token punctuation">.</span><span class="token function">initDescriptor</span><span class="token punctuation">(</span>TestCases<span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token string">'onEventAutoDesc'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>event<span class="token operator">:</span> <span class="token string">'event'</span><span class="token punctuation">,</span> auto<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ESLEventUtils<span class="token punctuation">.</span><span class="token function">initDescriptor</span><span class="token punctuation">(</span>TestCases<span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token string">'onEventManualDesc'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>event<span class="token operator">:</span> <span class="token string">'event'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <hr> <h2><a name="extended-event-targets">Extended <code>EventTarget</code>s and standard optimizations</a> <i class="badge badge-sup badge-warning">beta</i></h2> <p><a name="-esleventutilsdecorate"></a></p> <h3>⚡ <code>ESLEventUtils.decorate</code> and <code>ESLEventTargetDecorator</code></h3> <p>In cases where the original event of the target happens too frequently to be handled every time, it might be helpful to limit its processing. In purpose to do that ESL allows the creation of decorated <code>EventTargets</code>. The decorated target will process the original target events dispatching with the passed async call decoration function (such as debounce or throttle).</p> <p>The <code>ESLEventUtils.decorate</code> creates an instance of <code>ESLEventTargetDecorator</code> that decorates passed original <code>EventTarget</code> event emitting. The instances of <code>ESLEventTargetDecorator</code> are lazy and do not subscribe to the original event until they have their own subscriptions of the same event type.</p> <p>⚠ Note <code>ESLEventUtils.decorate</code> method is cached, so created instances will be reused if the inner cache does not refuse additional arguments of the decorator. The cache does not handle multiple and non-primitive arguments.</p> <pre><code class="language-typescript">ESLEventUtils<span class="token punctuation">.</span><span class="token function">decorate</span><span class="token punctuation">(</span>
  target<span class="token operator">:</span> EventTarget<span class="token punctuation">,</span>
  <span class="token function-variable function">decorator</span><span class="token operator">:</span> <span class="token punctuation">(</span>fn<span class="token operator">:</span> EventListener<span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> EventListener<span class="token punctuation">,</span>
  <span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">)</span><span class="token operator">:</span> ESLEventTargetDecorator<span class="token punctuation">;</span>
</code></pre> <p><strong>Parameters</strong>:</p> <ul> <li><code>target</code> - original <code>EventTarget</code> to consume events;</li> <li><code>decorator</code> - decoration function to decorate original target <code>EventListener</code>s;</li> <li><code>args</code> - optional arguments to pass to <code>decorator</code>.</li> </ul> <h4>Sharing of the decorated targets</h4> <p>As was mentioned above, the method <code>ESLEventUtils.decorate</code> (alias for <code>ESLEventTargetDecorator.cached</code>) works with a cache for simple cases. But in some cases, we might be interested in creating wrappers with a complex param, or we want to limit params usage across the project.</p> <p>It might sound obvious, but there are no restrictions on sharing exact instances instead of using the method cache.</p> <pre><code class="language-typescript"><span class="token comment">// shared-event-targets.ts</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">DEBOUNCED_WINDOW</span> <span class="token operator">=</span> ESLEventUtils<span class="token punctuation">.</span><span class="token function">decorate</span><span class="token punctuation">(</span>window<span class="token punctuation">,</span> debounce<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <pre><code class="language-typescript"><span class="token comment">// module.ts</span>
<span class="token keyword">class</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">listen</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>event<span class="token operator">:</span> <span class="token string">'resize'</span><span class="token punctuation">,</span> target<span class="token operator">:</span> <span class="token constant">DEBOUNCED_WINDOW</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token function">onResize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <h4>Optimize <code>window.resize</code> handling with debouncing</h4> <pre><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span>debounce<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'.../debounce'</span><span class="token punctuation">;</span>

ESLEventUtils<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>host<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  event<span class="token operator">:</span> <span class="token string">'resize'</span><span class="token punctuation">,</span>
  target<span class="token operator">:</span> <span class="token comment">/* instead just window */</span> ESLEventUtils<span class="token punctuation">.</span><span class="token function">decorate</span><span class="token punctuation">(</span>window<span class="token punctuation">,</span> debounce<span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> onResizeDebounced<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <p>The sample above allows you to reuse debounced by 250 milliseconds version of the window, to receive fewer <code>resize</code> events (same as any other event types observed on debounced window version)</p> <h4>Optimize <code>window.scroll</code> handling with throttling</h4> <pre><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span>throttle<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'.../throttle'</span><span class="token punctuation">;</span>

ESLEventUtils<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>host<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  event<span class="token operator">:</span> <span class="token string">'scroll'</span><span class="token punctuation">,</span>
  target<span class="token operator">:</span> <span class="token comment">/* instead just window */</span> ESLEventUtils<span class="token punctuation">.</span><span class="token function">decorate</span><span class="token punctuation">(</span>window<span class="token punctuation">,</span> throttle<span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> onScrollThrottled<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <p>The sample above allows you to reuse throttled by 250 milliseconds version of the window, to receive no more than one event per 250 milliseconds <code>scroll</code> events (same as any other event types observed on debounced window version)</p> <p><a name="-esleventutilsresize"></a></p> <h3>⚡ <code>ESLEventUtils.resize</code> and <code>ESLResizeObserverTarget</code></h3> <p>When you deal with responsive interfaces, you might need to observe an element resizes instead of responding to the whole window change. There is a tool for this in the native DOM API - `ResizeObserver'. The only problem is that it does not use events, while in practice, we work with it in the same way.</p> <p><code>ESLEventUtils.resize</code> creates cached <code>ResizeObserver</code> adaptation to <code>EventTarget</code> (<code>ESLResizeObserverTarget</code>) that allows you to get <code>resize</code> events when the observed element changes its size.</p> <pre><code class="language-typescript">ESLEventUtils<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>el<span class="token operator">:</span> Element<span class="token punctuation">)</span><span class="token operator">:</span> ESLResizeObserverTarget<span class="token punctuation">;</span>
</code></pre> <p><strong>Parameters</strong>:</p> <ul> <li><code>el</code> - <code>Element</code> to observe size changes.</li> </ul> <p><code>ESLResizeObserverTarget</code> creates itself once for an observed object with a weak reference-based cache. So any way of creating <code>ESLResizeObserverTarget</code> will always produce the same instance.</p> <p><code>ESLEventUtils.resize(el) /**always*/ === ESLEventUtils.resize(el)</code> So there is no reason to cache it manually.</p> <p>Usage example:</p> <pre><code class="language-typescript">ESLEventUtils<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>host<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  event<span class="token operator">:</span> <span class="token string">'resize'</span><span class="token punctuation">,</span>
  target<span class="token operator">:</span> ESLEventUtils<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> onResize<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// or</span>
ESLEventUtils<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>host<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  event<span class="token operator">:</span> <span class="token string">'resize'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">target</span><span class="token operator">:</span> <span class="token punctuation">(</span>host<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> ESLEventUtils<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>host<span class="token punctuation">.</span>el<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> onResize<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <hr> <h2><a name="embedded-behavior-of-eslbaseelement-eslmixinelement">Embedded behavior of <code>ESLBaseElement</code> / <code>ESLMixinElement</code></a></h2> <h3>Shortcuts</h3> <p>All the inheritors of <code>ESLBaseElement</code> and <code>ESLMixinElement</code> contain the short aliases for some <code>ESLEventUtils</code> methods. The host parameter of the shortcut methods is always targeting the current element/mixin.</p> <ul> <li><code>$$on</code> ~ <code>ESLEventUtils.subscribe(this, ...)</code></li> <li><code>$$off</code> ~ <code>ESLEventUtils.unsubscribe(this, ...)</code></li> <li><code>$$fire</code> ~ <code>ESLEventUtils.dispatch(this, ...)</code></li> </ul> <p>Example:</p> <pre><code class="language-typescript"><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$$on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>onClick<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ESLEventUtils.subscribe(this, 'click', this.onClick)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$$off</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ESLEventUtils.unsubscribe(this, 'click')</span>
</code></pre> <h3>Auto-subscription / Auto-unbinding</h3> <p>All the inheritors of <code>ESLBaseElement</code> and <code>ESLMixinElement</code> automatically subscribe to all declared auto-subscribable descriptors of their prototype chain.</p> <p>They also unsubscribe all own listeners attached via ESL automatically on <code>disconnectedCallback</code>.</p> <p>The following short snippet of code describes a listener that will automatically subscribe and unsubscribe on connected/disconnected callback inside <code>ESLBaseElement</code>:</p> <pre><code class="language-typescript"><span class="token keyword">class</span> <span class="token class-name">MyEl</span> <span class="token keyword">extends</span> <span class="token class-name">ESLBaseElement</span> <span class="token punctuation">{</span>
  <span class="token comment">// connectedCallback() {</span>
  <span class="token comment">//   super.connectedCallback(); // - already contains ESLEventUtils.subscribe(this) call</span>
  <span class="token comment">// }</span>

  <span class="token comment">// Will be subscribed automatically on connectedCallback and unsubscribed on disconnectedCallback</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">listen</span></span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">)</span>
  <span class="token function">onClick</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <p>You can manage the subscription manually and link the whole meta information or part of it with the handler itself</p> <pre><code class="language-typescript"><span class="token keyword">class</span> <span class="token class-name">MyEl</span> <span class="token keyword">extends</span> <span class="token class-name">ESLBaseElement</span> <span class="token punctuation">{</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">listen</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>event<span class="token operator">:</span> <span class="token string">'click'</span><span class="token punctuation">,</span> auto<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// Won`t be subscribed automatically</span>
  <span class="token function">onClick</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>

  <span class="token function">myMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$$on</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>onClick<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Manual subscription</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$$on</span><span class="token punctuation">(</span><span class="token punctuation">{</span>target<span class="token operator">:</span> <span class="token string">'body'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>onClick<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Manual subscription with parameters (will be merged)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$$off</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>onClick<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Unsubscribes this.onClick method</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> </div> </div> <footer class="footer-compact container-fluid"> <div class="container"> <hr class="footer-divider"/> <div class="text-center text-gray"> <div>ESL v4.3.1 © 2023 Exadel, Inc</div> <div> Core Team Contributors: <a target="_blank" href="https://github.com/ala-n">Alexey Stsefanovich</a>, <a target="_blank" href="https://github.com/julia-murashko">Julia Murashko</a>, <a target="_blank" href="https://github.com/yadamskaya">Yuliya Adamskaya</a>, <a target="_blank" href="https://github.com/dshovchko">Dmytro Shovchko</a>, <a target="_blank" href="https://github.com/abarmina">Anna Barmina</a>, <a target="_blank" href="https://github.com/NastaLeo">Anastasiya Lesun</a> </div> <div> Design by <a target="_blank" href="https://www.linkedin.com/in/iryna-pavlenko-270930107/">Iryna Pavlenko</a> </div> </div> </div> </footer> </main> <esl-scrollbar target="::prev" class="main-scroll"></esl-scrollbar> <div class="header-shadow"></div> </div> <script src="/bundles/localdev.js"></script> </body> </html> 