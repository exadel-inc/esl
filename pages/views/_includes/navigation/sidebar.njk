{% from 'navigation/sidebar-item.njk' import navitem with context %}

<esl-d-sidebar id="sidebar" class="open" aria-label="Site Navigation">
  <nav class="sidebar-nav">
    <a class="sidebar-heading" href="{{ '/' | url }}">
      <span class="sidebar-logo fill-light logo-animated">{% include 'static/assets/logo.svg' %}</span>
      <span class="sidebar-title">{{ site.name }}</span>
    </a>

    <div class="sidebar-content">
      <ul class="sidebar-nav-list esl-scrollable-content">
        <li class="sidebar-nav-item">
          {{ navitem ('Introduction', 'introduction', 'static/assets/sidebar/intro.svg') }}
        </li>
        <li class="sidebar-nav-item">
          {{ navitem ('Examples', 'examples', 'static/assets/sidebar/examples.svg') }}
        </li>
        <li class="sidebar-nav-item">
          {{ navitem ('Components', 'components', 'static/assets/sidebar/components.svg') }}
        </li>
        <li class="sidebar-nav-item">
          {{ navitem ('Utils', 'utils', 'static/assets/sidebar/utils.svg') }}
        </li>
      </ul>

      <esl-scrollbar class="sidebar-scrollbar" target="::prev"></esl-scrollbar>
    </div>
    <esl-trigger class="sidebar-trigger-btn sidebar-arrows-icon" target="#sidebar" data-store></esl-trigger>
  </nav>
</esl-d-sidebar>
<script>
  if (localStorage.getItem('sidebar-collapsed')) {
    const sidebar = document.querySelector('#sidebar');
    sidebar.classList.remove('open');

    sidebar.querySelector('.sidebar-trigger-btn').removeAttribute('active');
    Array.from(sidebar.querySelectorAll('.sidebar-nav-secondary'))
      .forEach((menu) => menu.classList.remove('open'));
  }
</script>
