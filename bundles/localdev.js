!function(){"use strict";var t={283:function(){var t,e=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}),n=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return e(o,t),Object.defineProperty(o.prototype,"target",{get:function(){var t=this.getAttribute("target");return t?Array.from(document.querySelectorAll(t)):[]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"actions",{get:function(){return this.getAttribute("actions")||o.ACTIONS_ALL},enumerable:!1,configurable:!0}),o.prototype.render=function(){var t,e,r=this.actions.split(",");this.innerHTML="";try{for(var i=n(r),s=i.next();!s.done;s=i.next()){var a=s.value,c=o.ACTIONS[a];if(!c)return;this.appendChild(c.render(a,c))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},o.prototype.onClick=function(t){var e=t.target.dataset.action;if(e&&o.ACTIONS[e]){var n=o.ACTIONS[e],r=n.action;this.target.forEach((function(t){return r.call(t,t,e,n)}))}},o.prototype.connectedCallback=function(){this.render(),this.addEventListener("click",this.onClick.bind(this))},o.ACTIONS={play:{title:"Play",action:function(t){return t.play()},render:r},pause:{title:"Pause",action:function(t){return t.pause()},render:r},stop:{title:"Stop",action:function(t){return t.stop()},render:r}},o.ACTIONS_ALL=Object.keys(o.ACTIONS).join(","),o}(HTMLElement);function r(t,e){var n=document.createElement("button");return n.className="btn btn-primary",n.dataset.action=t,n.textContent=e.title,n}customElements.define("test-media-controls",o)},252:function(){Element.prototype.toggleAttribute||(Element.prototype.toggleAttribute=function(t,e){var n=this.hasAttribute(t),o=void 0===e?!n:!!e;return n!==o&&(o?this.setAttribute(t,""):this.removeAttribute(t)),o})},536:function(){!function(t){var e=Object.getOwnPropertyDescriptor(t,"key");if(e){var n={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};Object.defineProperty(t,"key",{get:function(){var t=e.get.call(this);return Object.prototype.hasOwnProperty.call(n,t)?n[t]:t}})}}(KeyboardEvent.prototype)},342:function(){"isConnected"in Node.prototype||Object.defineProperty(Node.prototype,"isConnected",{get:function(){return!(this.ownerDocument&&this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}})},277:function(){if(!("customElements"in window))throw new Error("Browser is not support customElements, load polyfills before")}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),function(){function t(t,e){return new Promise((function(n){return setTimeout(n.bind(null,e),t)}))}function e(t,e,n,o){return new Promise((function(r,i){t.addEventListener(e,(function n(i){t.removeEventListener(e,n,o),r(i)}),o),"number"==typeof n&&n>=0&&setTimeout((function(){return i(new Error("Rejected by timeout"))}),n)}))}function o(t,n,o){return void 0===o&&(o=n),t[n]?Promise.resolve(t):e(t,o).then((function(){return t}))}function r(t,e,n){return void 0===e&&(e=2),void 0===n&&(n=100),new Promise((function(o,r){!function i(){var s;try{s=t()}catch(t){s=void 0}s||e--<0?s?o(s):r(new Error("Rejected by limit of tries")):setTimeout(i,n)}()}))}function i(t,e){return void 0===e&&(e=1),e<1?Promise.reject():1===e?Promise.resolve().then(t):i(t,e-1).then(t)}function s(){var t,e;return{promise:new Promise((function(n,o){e=n,t=o})),resolve:e,reject:t}}function a(t){return Promise.resolve(t)}function c(t){return Promise.reject(t)}function l(t,e,n){void 0===e&&(e=10);var o=null,r=null;function i(){for(var i=this,a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];r=r||s(),"number"==typeof o&&clearTimeout(o),o=window.setTimeout((function(){o=null,r.resolve(t.apply(n||i,a)),r=null}),e)}return Object.defineProperty(i,"promise",{get:function(){return r?r.promise:Promise.resolve()}}),Object.defineProperty(i,"cancel",{writable:!1,enumerable:!1,value:function(){"number"==typeof o&&clearTimeout(o),o=null,null==r||r.reject(),r=null}}),i}!function(t){if(void 0!==window.Reflect&&void 0!==window.customElements&&!window.customElements.polyfillWrapFlushCallback){Object.defineProperty(window,t.name,{value:function(){return Reflect.construct(t,[],this.constructor)}});var e=window[t.name];e.prototype=t.prototype,e.prototype.constructor=e,Object.setPrototypeOf(e,t)}}(HTMLElement),n(342),n(536),n(252),n(277),n(283),function(){function n(){}n.fromTimeout=t,n.fromEvent=e,n.fromMarker=o,n.repeat=i,n.tryUntil=r,n.deferred=s,n.resolve=a,n.reject=c}();var u,p=(u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},u(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"target",{get:function(){var t=this.getAttribute("target");return document.querySelector(t||"")},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=document.createElement("form");t.innerHTML='\n      <fieldset>\n        <legend>Video Settings:</legend>\n          <div class="input-group mb-2 mr-sm-2">\n          <select class="form-control" name="media-type">\n            <option value="auto">- Auto -</option>\n            <option value="audio">HTML Audio</option>\n            <option value="video">HTML Video</option>\n            <option value="youtube">Youtube</option>\n            <option value="brightcove">Brightcove</option>\n            <option value="iframe">Iframe</option>\n          </select>\n        </div>\n        <div class="input-group mb-2 mr-sm-2">\n          <input type="text" class="form-control" placeholder="Media src" name="media-src" autocomplete="on"/>\n        </div>\n        <div class="input-group mb-2 mr-sm-2">\n          <input type="text" class="form-control" placeholder="Media id" name="media-id" autocomplete="on"/>\n        </div>\n        <div class="input-group mb-2 mr-sm-2">\n          <input type="text" class="form-control" placeholder="Player id" name="player-id" autocomplete="on"/>\n        </div>\n        <div class="input-group mb-2 mr-sm-2">\n          <input type="text" class="form-control" placeholder="Player account" name="player-account" autocomplete="on"/>\n        </div>\n\n        <div class="form-group">\n          <div class="form-check form-check-inline">\n            <label class="form-check-label"><input type="checkbox" name="muted" class="form-check-input"/> Muted</label>\n          </div>\n          <div class="form-check form-check-inline">\n            <label class="form-check-label"><input type="checkbox" name="autoplay" class="form-check-input"/> Autoplay</label>\n          </div>\n          <div class="form-check form-check-inline">\n            <label class="form-check-label"><input type="checkbox" name="disabled" class="form-check-input"/> Disabled</label>\n          </div>\n        </div>\n      </fieldset>\n    ',t.action="javascript: void 0;",this.innerHTML="",this.appendChild(t)},e.prototype.onChange=function(){var t=this.target,e=this.querySelectorAll("input[name], select[name]");Array.from(e).forEach((function(e){t&&(e instanceof HTMLInputElement&&"checkbox"===e.type?t.toggleAttribute(e.name,e.checked):t.setAttribute(e.name,e.value))}))},e.prototype.connectedCallback=function(){var t=this;this.render(),this.addEventListener("change",l((function(){return t.onChange()}),750)),this.onChange()},e}(HTMLElement);customElements.define("test-media-source",h);function f(t){return function(e){return function(t,e){"ESL"in window&&function(t,e,n){e.split(".").reduce((function(t,o,r,i){if(i.length===r+1)return t[o]=t[o]||n;var s=typeof t[o];if("undefined"!==s&&"object"!==s&&"function"!==s)throw new Error("Can not define "+n+" on "+e);return t[o]=t[o]||{}}),t)}(window.ESL,t,e)}(t||e.name,e)}}function d(t,e,n){if(!n||"function"!=typeof n.value)throw new TypeError("Only class methods can be decorated via @bind");var o=n.value;return{enumerable:n.enumerable,configurable:n.configurable,get:function(){if(!this||this===t||Object.hasOwnProperty.call(this,"constructor"))return o;var e=this.__fnBindings__;return e||(e=this.__fnBindings__=new WeakMap),e.has(o)||e.set(o,o.bind(this)),e.get(o)},set:function(t){Object.defineProperty(this,e,{writable:!0,enumerable:!1,configurable:!0,value:t})}}}f.declare=function(){"ESL"in window||Object.defineProperty(window,"ESL",{value:{}})},f.declare();var y=function(t){return t},v=function(t){return null==t?[]:Array.isArray(t)?t:[t]};function g(t,e){void 0===e&&(e=y);for(var n=Array(t),o=0;o<t;)n[o]=e(o++);return n}var b=new WeakMap,m=function(t,e,n){if("!"===e[0])return w.remove(t,e.substr(1),n);n&&function(t,e,n){var o=b.get(t)||new Map,r=o.get(e)||new Set;r.add(n),o.set(e,r),b.set(t,o)}(t,e,n),t.classList.add(e)},_=function(t,e,n){if("!"===e[0])return w.add(t,e.substr(1),n);n&&!function(t,e,n){var o=b.get(t);if(!o)return!0;var r=o.get(e);return!r||(r.delete(n),!r.size)}(t,e,n)||(n||w.unlock(t,e),t.classList.remove(e))},w=function(){function t(){}return t.splitTokens=function(t){return(t||"").split(" ").filter((function(t){return!!t}))},t.add=function(e,n,o){var r=t.splitTokens(n);v(e).forEach((function(t){return r.forEach((function(e){return m(t,e,o)}))}))},t.remove=function(e,n,o){var r=t.splitTokens(n);v(e).forEach((function(t){return r.forEach((function(e){return _(t,e,o)}))}))},t.toggle=function(e,n,o,r){(o?t.add:t.remove)(e,n,r)},t.unlock=function(t,e){e?v(t).forEach((function(t){var n;return null===(n=b.get(t))||void 0===n?void 0:n.delete(e)})):v(t).forEach((function(t){return b.delete(t)}))},t}(),O=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},E=function(t){return t&&"object"==typeof t},C=function(t){return"string"==typeof t||"number"==typeof t||"boolean"==typeof t};function P(t,e){if(Object.is(t,e))return!0;if(typeof t!=typeof e)return!1;if(E(t)&&E(e)){var n=Object.keys(t),o=Object.keys(e);return n.length===o.length&&!n.some((function(n){return!P(t[n],e[n])}))}return!1}function A(t,e){for(var n=t;n;){var o=Object.getOwnPropertyDescriptor(n,e);if(o)return o;n=Object.getPrototypeOf(n)}}function T(){for(var t,e,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];try{for(var r=O(n),i=r.next();!i.done;i=r.next()){var s=i.value;if(void 0!==s)return s}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}}var j=function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase()},S=function(t){return t.trim().replace(/^\((.*)\)$/,"$1").trim()},L=function(t,e){if(0===t)return 0;var n=+(t||NaN);return isNaN(n)?e:n};function k(t,e){try{return t?new Function("return "+t)():e}catch(n){return console.warn("Cannot parse value ",t,n),e}}var R=/{[{%]?([\w.]+)[%}]?}/g;function $(t,e,n){return void 0===n&&(n=R),t.replace(n,(function(t,n){var o,r,i=(o=e,void 0===(r=(n||"").split(".").reduce((function(t,e){if(E(n=t)||"function"==typeof n)return t[e];var n}),o))?undefined:r);return void 0===i?t:i}))}var x=function(t){return void 0===t&&(t={}),t=Object.assign({defaultValue:""},t),function(e,n){var o=function(t,e){return e?"data-"+j(t):j(t)}(t.name||n,!!t.dataAttr);Object.defineProperty(e,n,function(t,e,n){function o(){var e=this.getAttribute(t);return"string"==typeof e?e:n}return e?{get:o}:{get:o,set:function(e){null==e||!1===e?this.removeAttribute(t):this.setAttribute(t,!0===e?"":e)}}}(o,!!t.readonly,t.defaultValue))}},I=function(t){return void 0===t&&(t={}),function(e,n){var o=function(t,e){return e?"data-"+j(t):j(t)}(t.name||n,!!t.dataAttr);Object.defineProperty(e,n,function(t,e){function n(){return this.hasAttribute(t)}return e?{get:n}:{get:n,set:function(e){this.toggleAttribute(t,e)}}}(o,!!t.readonly))}},M=function(){function t(){}return t.dispatch=function(t,e,n){var o=Object.assign({bubbles:!0,composed:!0,cancelable:!0},n||{});return t.dispatchEvent(new CustomEvent(e,o))},t.source=function(t){var e=t.composedPath&&t.composedPath();return e?e[0]:t.target},t.normalizeTouchPoint=function(t){var e=t instanceof TouchEvent?t.changedTouches[0]:t;return{x:e.pageX,y:e.pageY}},t.normalizeCoordinates=function(t,e){var n=e.getBoundingClientRect(),o=n.top+window.pageYOffset,r=n.left+window.pageXOffset;return{x:t.pageX-r,y:t.pageY-o}},t.stopPropagation=function(t){null==t||t.stopPropagation()},t.preventDefault=function(t){null==t||t.preventDefault()},t}(),D=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),N=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._connected=!1,e}return D(e,t),e.prototype.connectedCallback=function(){this._connected=!0,this.classList.add(this.constructor.is)},e.prototype.disconnectedCallback=function(){this._connected=!1},Object.defineProperty(e.prototype,"connected",{get:function(){return this._connected},enumerable:!1,configurable:!0}),e.prototype.$$fire=function(t,e){return M.dispatch(this,"esl:"+t,e)},e.register=function(t){if(!(t=t||this.is))throw new Error("Can not define custom element");var e=customElements.get(t);if(e){if(e.is!==t)throw new Error("Element declaration tag inconsistency")}else this.is!==t&&(this.is=t),customElements.define(t,this)},Object.defineProperty(e,"registered",{get:function(){return customElements.whenDefined(this.is)},enumerable:!1,configurable:!0}),e.is="",e}(HTMLElement),H=function(){function t(){this._listeners=new Set}return t.prototype.addListener=function(t){this._listeners.add(t)},t.prototype.removeListener=function(t){this._listeners.delete(t)},t.prototype.fire=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._listeners.forEach((function(n){try{n.apply(t,e)}catch(t){console.error(t)}}))},t}(),V=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},z=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};function U(t,e){function n(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];var i=e.apply(void 0,z([],V(o),!1));return null!==i&&"string"!=typeof i?(console.warn("Can't cache value for "+t.name+" call."),t.apply(this,o)):(n.cache.has(i)||n.cache.set(i,t.apply(this,o)),n.cache.get(i))}return void 0===e&&(e=B),n.cache=new Map,n.clear=function(){return n.cache.clear()},n.has=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var r=e.apply(void 0,z([],V(t),!1));return void 0!==r&&n.cache.has(r)},n}function B(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?null:t.length>1||"string"!=typeof t[0]&&"number"!=typeof t[0]&&"boolean"!=typeof t[0]?void 0:String(t[0])}var F=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},q=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};function G(t){return void 0===t&&(t=B),function(e,n,o){if(!o||"function"!=typeof(o.value||o.get))throw new TypeError("Only get accessors or class methods can be decorated via @memoize");var r;r=e,Object.hasOwnProperty.call(r,"constructor")?("function"==typeof o.get&&(o.get=function(t,e){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if(W.get(this)===e)return t;var r=t.call(this);return K(this,e,r),r}}(o.get,n)),"function"==typeof o.value&&(o.value=function(t,e,n){return function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];if(W.get(this)===e)return t;var i=U(t,n);return K(this,e,i),i.apply(this,o)}}(o.value,n,t))):("function"==typeof o.get&&(o.get=U(o.get)),"function"==typeof o.value&&(o.value=U(o.value,t)))}}var W=new WeakMap,K=function(t,e,n){W.set(t,e),Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),W.delete(t)};G.clear=function(t,e){var n=A(t,e);if(n)return"function"==typeof n.get&&"function"==typeof n.get.clear?n.get.clear():"function"==typeof n.value&&"function"==typeof n.value.clear?n.value.clear():void(Object.hasOwnProperty.call(t,e)&&delete t[e])},G.has=function(t,e){for(var n,o,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var s=A(t,e);return!!s&&("function"==typeof s.get&&"function"==typeof s.get.has?(n=s.get).has.apply(n,q([],F(r),!1)):"function"==typeof s.value&&"function"==typeof s.value.has?(o=s.value).has.apply(o,q([],F(r),!1)):Object.hasOwnProperty.call(t,e))};var Y,Q=window.navigator,X=Q.userAgent,Z=Q.vendor,J=Q.platform,tt=/trident/i.test(X),et=tt,nt=/edg([ea]|ios)/i.test(X),ot=/\sedg\//i.test(X),rt=nt||ot,it=/gecko/i.test(X)&&!/like gecko/i.test(X),st=/firefox|iceweasel|fxios/i.test(X),at=/(?:^opera.+?version|opr)/.test(X),ct=!at&&/google inc/.test(Z),lt=/(apple)?webkit/i.test(X),ut=lt&&/^((?!chrome|android).)*safari/i.test(X),pt=lt&&!ut,ht=/Chrome-Lighthouse|Google Page Speed Insights/i.test(X),ft=/Android/i.test(X),dt="MacIntel"===J&&window.navigator.maxTouchPoints>1,yt=/iPad|iPhone|iPod/.test(J)||dt,vt=/webOS|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),gt=yt||ft||vt,bt=yt&&lt&&/CriOS/i.test(X),mt=!(!(Y=window.navigator).maxTouchPoints&&!Y.msMaxTouchPoints)||"ontouchstart"in window||"DocumentTouch"in window&&document instanceof Touch,_t=!matchMedia("(hover: none)").matches,wt={START:mt?"touchstart":"pointerdown",MOVE:mt?"touchmove":"pointermove",END:mt?"touchend":"pointerup"},Ot=function(){function t(){}return t.isTrident=tt,t.isIE=et,t.isEdgeHTML=nt,t.isBlinkEdge=ot,t.isEdge=rt,t.isGecko=it,t.isFirefox=st,t.isOpera=at,t.isChrome=ct,t.isWebkit=lt,t.isSafari=ut,t.isBlink=pt,t.isBot=ht,t.isAndroid=ft,t.isMobileIOS13=dt,t.isMobileIOS=yt,t.isLegacyMobile=vt,t.isMobile=gt,t.isMobileSafari=bt,t.isTouchDevice=mt,t.hasHover=_t,t.TOUCH_EVENTS=wt,function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([f("DeviceDetector")],t)}(),Et=function(){function t(){}var e;return e=t,t.toDPI=function(t){return(96*t).toFixed(1)},t.process=function(t){if(e.VALUE_REGEXP.test(t)){var n=parseFloat(t);if(!(n<0||isNaN(n)))return e.ignoreBotsDpr&&Ot.isBot&&n>1?"not all":Ot.isSafari?"(-webkit-min-device-pixel-ratio: "+n+")":"(min-resolution: "+e.toDPI(n)+"dpi)"}},t.VALUE_REGEXP=/(\d(\.\d)?)x/,t.ignoreBotsDpr=!1,e=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([f("ScreenDPR")],t)}(),Ct=new Map,Pt=function(){function t(){}var e;return e=t,t.add=function(t,n,o){if(t=t.toLowerCase(),e.BP_NAME_REGEXP.test(t)){var r=Ct.get(t);return Ct.set(t,new At(t,n,o)),r}throw new Error("The shortcut should consist only of Latin characters and be at least one character long.")},t.remove=function(t){return Ct.delete(t.toLowerCase())},t.get=function(t){return Ct.get((t||"").toLowerCase())},Object.defineProperty(t,"names",{get:function(){var t=[];return Ct.forEach((function(e,n){return t.push(n)})),t},enumerable:!1,configurable:!0}),t.process=function(t){var n=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s}(t.match(e.BP_REGEXP)||[],3),o=n[1],r=n[2],i=e.get(r);if(i)return"+"===o?i.mediaQueryGE:"-"===o?i.mediaQueryLE:i.mediaQuery},t.BP_REGEXP=/^([+-]?)([a-z]+)/i,t.BP_NAME_REGEXP=/^[a-z]+/i,e=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([f("ScreenBreakpoints")],t)}(),At=function(){function t(t,e,n){this.name=t,this.min=e,this.max=n}return Object.defineProperty(t.prototype,"mediaQuery",{get:function(){return"(min-width: "+this.min+"px) and (max-width: "+this.max+"px)"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mediaQueryGE",{get:function(){return"(min-width: "+this.min+"px)"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mediaQueryLE",{get:function(){return"(max-width: "+this.max+"px)"},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"["+this.name+"]: "+this.min+" to "+this.max},t}();Pt.add("xs",1,767),Pt.add("sm",768,991),Pt.add("md",992,1199),Pt.add("lg",1200,1599),Pt.add("xl",1600,999999);var Tt=new Map,jt=function(){function t(){}return t.add=function(t,e){return["boolean","string"].includes(typeof e)||(e=!1),Tt.set(t.toLowerCase(),e)},t.remove=function(t){return Tt.delete(t.toLowerCase())},t.process=function(t){if(Tt.has(t))return Tt.get(t)},t._shortcuts=Tt,function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([f("EnvShortcuts")],t)}();jt.add("touch",Ot.isTouchDevice),jt.add("bot",Ot.isBot),jt.add("mobile",Ot.isMobile),jt.add("desktop",!Ot.isMobile),jt.add("android",Ot.isAndroid),jt.add("ios",Ot.isMobileIOS),jt.add("ie",Ot.isIE),jt.add("edge",Ot.isEdgeHTML),jt.add("gecko",Ot.isGecko),jt.add("blink",Ot.isBlink),jt.add("safari",Ot.isSafari),jt.add("safari-ios",Ot.isMobileSafari);var St=function(){function t(t){this._matches=t}return Object.defineProperty(t.prototype,"matches",{get:function(){return this._matches},enumerable:!1,configurable:!0}),t.prototype.addListener=function(t){},t.prototype.removeListener=function(t){},t.prototype.optimize=function(){return this},t.prototype.toString=function(){return this._matches?"all":"not all"},t.prototype.eq=function(t){return t.toString().trim()===this.toString()},t}(),Lt=new St(!0),kt=new St(!1),Rt=function(){function t(t,e){void 0===e&&(e=!1),this._inverted=e,this._mq=matchMedia(t.trim()||"all")}return Object.defineProperty(t.prototype,"matches",{get:function(){return this._inverted?!this._mq.matches:this._mq.matches},enumerable:!1,configurable:!0}),t.prototype.addListener=function(t){"function"==typeof this._mq.addEventListener?this._mq.addEventListener("change",t):this._mq.addListener(t)},t.prototype.removeListener=function(t){"function"==typeof this._mq.removeEventListener?this._mq.removeEventListener("change",t):this._mq.removeListener(t)},t.prototype.optimize=function(){return Lt.eq(this)?this._inverted?kt:Lt:kt.eq(this)?this._inverted?Lt:kt:this},t.prototype.toString=function(){var t=this._mq.media,e=this._inverted;return(e?"not ":"")+(e&&/\)[\s\w]+\(/.test(t)?"("+t+")":t)},t}(),$t=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),xt=function(t){function e(e){void 0===e&&(e=[]);var n=t.call(this)||this;return n.items=e,n._matches=n.matches,n._onChildChange=n._onChildChange.bind(n),n}return $t(e,t),e.prototype.addListener=function(e){var n=this;t.prototype.addListener.call(this,e),this._listeners.size>1||this.items.forEach((function(t){return t.addListener(n._onChildChange)}))},e.prototype.removeListener=function(e){var n=this;t.prototype.removeListener.call(this,e),this._listeners.size||this.items.forEach((function(t){return t.removeListener(n._onChildChange)}))},Object.defineProperty(e.prototype,"matches",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.optimize=function(){return this},e.prototype._onChildChange=function(){var t=this.matches;this._matches!==t&&this.fire(this._matches=t)},e}(H),It=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $t(e,t),Object.defineProperty(e.prototype,"matches",{get:function(){return this.items.every((function(t){return t.matches}))},enumerable:!1,configurable:!0}),e.prototype.optimize=function(){var t=this.items.map((function(t){return t.optimize()}));if(t.some((function(t){return kt.eq(t)})))return kt;var n=t.filter((function(t){return!Lt.eq(t)}));return 0===n.length?Lt:1===n.length?n[0]:new e(n)},e.prototype.toString=function(){return this.items.join(" and ")},e}(xt),Mt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $t(e,t),Object.defineProperty(e.prototype,"matches",{get:function(){return this.items.some((function(t){return t.matches}))},enumerable:!1,configurable:!0}),e.prototype.optimize=function(){var t=this.items.map((function(t){return t.optimize()}));if(t.some((function(t){return Lt.eq(t)})))return Lt;var n=t.filter((function(t){return!kt.eq(t)}));return 0===n.length?kt:1===n.length?n[0]:new e(n)},e.prototype.toString=function(t){return void 0===t&&(t=!1),this.items.join(t?" or ":", ")},e}(xt),Dt=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Nt=function(){function t(){}var e;return e=t,t.use=function(t){return this._preprocessors.unshift(t),this},t.for=function(t){return e.from(t)},t.from=function(t){var n=t.split(/\sor\s|,/).map((function(t){var n=t.split(/\sand\s/).map(e.parseSimpleQuery);return new It(n)}));return new Mt(n).optimize()},t.preprocess=function(t){var e,n;if(!this.SHORTCUT_PATTERN.test(t))return t;var o=t.trim().substr(1).toLowerCase();try{for(var r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this._preprocessors),i=r.next();!i.done;i=r.next()){var s=i.value.process(o);if("string"==typeof s)return s;if("boolean"==typeof s)return s?"all":"not all"}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return t},t.parseSimpleQuery=function(t){var n=t.replace(/^\s*not\s+/,""),o=n!==t,r=e.preprocess(n),i=r.replace(/^\s*not\s+/,""),s=o!==(r!==i);return Lt.eq(i)?s?kt:Lt:kt.eq(i)?s?Lt:kt:new Rt(i,s)},t.ALL=Lt,t.NOT_ALL=kt,t.SHORTCUT_PATTERN=/@([a-z0-9.+-]+)/i,t._preprocessors=[],Dt([G()],t,"for",null),e=Dt([f("MediaQuery")],t)}();Nt.use(Et),Nt.use(Pt),Nt.use(jt);var Ht,Vt=function(){function t(t,e){void 0===e&&(e=""),this._query=Nt.for(e),this._default=!e,this._payload=t}return t.prototype.toString=function(){return this._query+" => "+this._payload},t.prototype.addListener=function(t){this._query.addListener(t)},t.prototype.removeListener=function(t){this._query.removeListener(t)},Object.defineProperty(t.prototype,"matches",{get:function(){return this._query.matches},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"payload",{get:function(){return this._payload},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"default",{get:function(){return this._default},enumerable:!1,configurable:!0}),t.parse=function(e,n){var o=e.split("=>"),r=2===o.length?o[0]:"",i=n((2===o.length?o[1]:o[0]).trim());if(void 0!==i)return new t(i,r.trim())},t.all=function(e){return new t(e,"all")},t.default=function(e){return new t(e)},t.empty=function(){return new t(void 0,"all")},t}(),zt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ut=function(t){function e(e){var n=t.call(this)||this;return n._rules=e,n._default=e.filter((function(t){return t.default}))[0],n._onMatchChanged=n._onMatchChanged.bind(n),n}var n;return zt(e,t),n=e,e.parse=function(t,e){void 0===e&&(e=n.STRING_PARSER);var o=[];return t.split("|").forEach((function(t){var n=t.trim(),r=Vt.parse(n,e);r&&(r.default?o.unshift(r):o.push(r))})),new n(o)},e.parseTuple=function(t,e){var o=t.split("|"),r=e.split("|");if(o.length!==r.length)throw new Error("Value doesn't correspond to mask");var i=r.map((function(t,e){return new Vt(o[e],t)}));return new n(i)},e.prototype.addListener=function(e){var n=this;t.prototype.addListener.call(this,e),this._listeners.size>1||this._rules.forEach((function(t){return t.addListener(n._onMatchChanged)}))},e.prototype.removeListener=function(e){var n=this;t.prototype.removeListener.call(this,e),this._listeners.size||this._rules.forEach((function(t){return t.removeListener(n._onMatchChanged)}))},Object.defineProperty(e.prototype,"rules",{get:function(){return this._rules},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return this._active&&this._listeners.size||(this._active=this.activeRule),this._active},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeRule",{get:function(){var t=this.rules.filter((function(t){return t.matches}));return t.length>0?t[t.length-1]:Vt.empty()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeValue",{get:function(){var t=this.active.payload;return C(t)||!this.default||C(this.default.payload)?t:Object.assign({},this._default.payload||{},t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"default",{get:function(){return this._default},enumerable:!1,configurable:!0}),e.prototype._onMatchChanged=function(){var t=this.activeRule;this._active!==t&&this.fire(this._active=t,this)},e.STRING_PARSER=function(t){return t},e.OBJECT_PARSER=function(t){return k(t)},n=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([f("MediaRuleList")],e)}(H),Bt=function(t,e){return t&&e&&(t.contains(e)||e.contains(t))},Ft=function(t){return function(e,n){for(var o=t(e);o;o=t(o))if(!n||o.matches(n))return o;return null}},qt=Ft((function(t){return t.nextElementSibling})),Gt=Ft((function(t){return t.previousElementSibling})),Wt=Ft((function(t){return t.parentElement})),Kt=function(t,e){return e?Array.from(t.querySelectorAll(e)):[t]},Yt=function(t,e){return Array.from(t.children).filter((function(t){return!e||t.matches(e)}))},Qt=function(t,e,n){void 0===n&&(n=!1);for(var o=n&&t?t.parentNode:t;o;){if(e(o))return o;o=o.parentNode}return null},Xt=(function(){function t(){}t.isRelative=Bt,t.closestBy=Qt,t.createSequenceFinder=Ft,t.findNext=qt,t.findPrev=Gt,t.findParent=Wt,t.findAll=Kt,t.findChildren=Yt}(),function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}),Zt=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Jt=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},te=function(){function t(){}var e;return e=t,Object.defineProperty(t,"PROCESSORS_REGEX",{get:function(){var t=Object.keys(this.ELEMENT_PROCESSORS).concat(Object.keys(this.COLLECTION_PROCESSORS));return new RegExp("("+t.join("|")+")","g")},enumerable:!1,configurable:!0}),t.isCollectionProcessor=function(t){var e=Zt(t,1)[0];return e&&e in this.COLLECTION_PROCESSORS},t.processElement=function(t,e){var n=Zt(e,2),o=n[0],r=n[1],i=S(r||"");return o&&o in this.ELEMENT_PROCESSORS?v(this.ELEMENT_PROCESSORS[o](t,i)):[]},t.processCollection=function(t,e){var n=Zt(e,2),o=n[0],r=n[1],i=S(r||"");return o&&o in this.COLLECTION_PROCESSORS?v(this.COLLECTION_PROCESSORS[o](t,i)):[]},t.traverseChain=function(t,e,n){var o,r;if(!e.length||!t.length)return t;var i=Zt(e),s=i[0],a=i.slice(1);if(this.isCollectionProcessor(s)){var c=this.processCollection(t,s);return this.traverseChain(c,a,n)}var l=[];try{for(var u=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),p=u.next();!p.done;p=u.next()){var h=p.value,f=(c=this.processElement(h,s),this.traverseChain(c,a,n));if(f.length){if(n)return f.slice(0,1);l.push.apply(l,Jt([],Zt(f),!1))}}}catch(t){o={error:t}}finally{try{p&&!p.done&&(r=u.return)&&r.call(u)}finally{if(o)throw o.error}}return function(t){var e=[],n=new Set;return t.forEach((function(t){return n.add(t)})),n.forEach((function(t){return e.push(t)})),e}(l)},t.traverse=function(t,e,n){var o=t.split(this.PROCESSORS_REGEX).map((function(t){return t.trim()})),r=o.shift(),i=n?[n]:[],s=r?Array.from(document.querySelectorAll(r)):i;return this.traverseChain(s,o.reduce((function(t,e){return(0===t.length||t[t.length-1].length>=2)&&t.push([]),t[t.length-1].push(e),t}),[]),e)},t.first=function(t,n){return e.traverse(t,!0,n)[0]||null},t.all=function(t,n){return e.traverse(t,!1,n)},t.ELEMENT_PROCESSORS={"::find":Kt,"::next":qt,"::prev":Gt,"::child":Yt,"::parent":Wt},t.COLLECTION_PROCESSORS={"::first":function(t){return t.slice(0,1)},"::last":function(t){return t.slice(-1)},"::nth":function(t,e){return v(t[(e?+e:NaN)-1])},"::not":function(t,e){return t.filter((function(t){return!t.matches(e||"")}))},"::filter":function(t,e){return t.filter((function(t){return t.matches(e||"")}))}},e=Xt([f("TraversingQuery")],t)}();function ee(){return Ht||(Ht=new IntersectionObserver((function(t){t.forEach(ne)}),{threshold:[.01],rootMargin:Ot.isMobile?"250px":"500px"})),Ht}function ne(t){var e=t.target;e instanceof ae&&(t.isIntersecting||t.intersectionRatio>0)&&e.triggerLoad()}var oe,re={cover:{apply:function(t,e){var n=e.src,o=!n||ae.isEmptyImage(n);t.style.backgroundImage=o?"":'url("'+n+'")'},clear:function(t){t.style.backgroundImage=""}},"save-ratio":{apply:function(t,e){var n=e.src,o=!n||ae.isEmptyImage(n);t.style.backgroundImage=o?"":'url("'+n+'")',0!==e.width&&(t.style.paddingTop=o?"":100*e.height/e.width+"%")},clear:function(t){t.style.paddingTop="",t.style.backgroundImage=""}},fit:{apply:function(t,e){var n=t.attachInnerImage();n.src=e.src,n.removeAttribute("width")},clear:function(t){t.removeInnerImage()}},origin:{apply:function(t,e){var n=t.attachInnerImage();n.src=e.src,n.width=e.width/window.devicePixelRatio},clear:function(t){t.removeInnerImage()}},"inner-svg":{apply:function(t,e){var n=new XMLHttpRequest;n.open("GET",e.src,!0),n.onreadystatechange=function(){if(4===n.readyState&&200===n.status){var e=document.createElement("div");e.innerHTML=n.responseText,Array.from(e.querySelectorAll("script")||[]).forEach((function(t){return t.remove()})),t.innerHTML=e.innerHTML}},n.send()},clear:function(t){t.innerHTML=""}}},ie=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),se=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ae=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return ie(e,t),n=e,Object.defineProperty(e,"STRATEGIES",{get:function(){return re},enumerable:!1,configurable:!0}),Object.defineProperty(e,"EMPTY_IMAGE",{get:function(){return"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="},enumerable:!1,configurable:!0}),Object.defineProperty(e,"observedAttributes",{get:function(){return["alt","role","mode","aria-label","data-src","data-src-base","lazy-triggered"]},enumerable:!1,configurable:!0}),e.prototype.connectedCallback=function(){t.prototype.connectedCallback.call(this),this.alt=this.alt||this.getAttribute("aria-label")||this.getAttribute("data-alt")||"",this.updateA11y(),this.srcRules.addListener(this._onMediaMatchChange),this.lazyObservable&&(this.removeAttribute("lazy-triggered"),ee().observe(this),this._detachLazyTrigger=function(){ee().unobserve(this),this._detachLazyTrigger=null}),this.refresh()},e.prototype.disconnectedCallback=function(){t.prototype.disconnectedCallback.call(this),this._detachLazyTrigger&&this._detachLazyTrigger(),this._srcRules&&this._srcRules.removeListener(this._onMediaMatchChange)},e.prototype.attributeChangedCallback=function(t,e,n){if(this.connected&&e!==n)switch(t){case"aria-label":this.alt=n||"";break;case"alt":case"role":this.updateA11y();break;case"data-src":this.srcRules=Ut.parse(n),this.refresh();break;case"data-src-base":this.refresh();break;case"mode":this.changeMode(e,n);break;case"lazy-triggered":this.lazyTriggered&&this.update()}},Object.defineProperty(e.prototype,"srcRules",{get:function(){return this._srcRules||(this.srcRules=Ut.parse(this.src)),this._srcRules},set:function(t){this._srcRules&&this._srcRules.removeListener(this._onMediaMatchChange),this._srcRules=t,this._srcRules.addListener(this._onMediaMatchChange)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentSrc",{get:function(){return this._currentSrc},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return!this._currentSrc||n.isEmptyImage(this._currentSrc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canUpdate",{get:function(){return this.lazyTriggered||"none"===this.lazy},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lazyObservable",{get:function(){return"none"!==this.lazy&&"manual"!==this.lazy},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"originalWidth",{get:function(){return this._shadowImageElement?this._shadowImageElement.width:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"originalHeight",{get:function(){return this._shadowImageElement?this._shadowImageElement.height:0},enumerable:!1,configurable:!0}),e.prototype.triggerLoad=function(){this.setAttribute("lazy-triggered","")},e.prototype.changeMode=function(t,e){if((t=t||"save-ratio")!==(e=e||"save-ratio")){if(!re[e])throw this.mode=t,new Error("ESL Image: Unsupported mode: "+e);this.clearImage(),this.loaded&&this.syncImage()}},e.prototype.update=function(t){if(void 0===t&&(t=!1),this.canUpdate){var e=this.getPath(this.srcRules.activeValue);this._currentSrc===e&&this.ready&&!t||(this._currentSrc=e,this._shadowImg.src=e,!this.refreshOnUpdate&&this.ready||this.syncImage(),this._shadowImg.complete&&(this._shadowImgError?this._onError():this._onLoad())),this._detachLazyTrigger&&this._detachLazyTrigger()}},e.prototype.updateA11y=function(){var t=this.getAttribute("role")||"img";this.setAttribute("role",t),this.innerImage&&(this.innerImage.alt=this.alt),"img"===t&&this.setAttribute("aria-label",this.alt)},e.prototype.getPath=function(t){return t&&"0"!==t&&"none"!==t?this.srcBase+t:n.EMPTY_IMAGE},e.prototype.refresh=function(){this.removeAttribute("loaded"),this.removeAttribute("ready"),this.updateContainerClasses(),this.clearImage(),this.update(!0)},e.prototype.syncImage=function(){var t=re[this.mode];this._strategy=t,t&&t.apply(this,this._shadowImg)},e.prototype.clearImage=function(){this._strategy&&this._strategy.clear(this),this._strategy=null},Object.defineProperty(e.prototype,"innerImage",{get:function(){return this._innerImg},enumerable:!1,configurable:!0}),e.prototype.attachInnerImage=function(){return this._innerImg||(this._innerImg=this.querySelector("img."+this.innerImageClass)||this._shadowImg.cloneNode(),this._innerImg.className=this.innerImageClass),this._innerImg.parentNode||this.appendChild(this._innerImg),this._innerImg.alt=this.alt,this._innerImg},e.prototype.removeInnerImage=function(){var t=this;this.innerImage&&(this.removeChild(this.innerImage),setTimeout((function(){t._innerImg&&!t._innerImg.parentNode&&(t._innerImg=null)})))},Object.defineProperty(e.prototype,"_shadowImg",{get:function(){return this._shadowImageElement||(this._shadowImageElement=new Image,this._shadowImageElement.onload=this._onLoad,this._shadowImageElement.onerror=this._onError),this._shadowImageElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_shadowImgError",{get:function(){return!!this._shadowImg.complete&&".svg"!==this._shadowImg.src.substr(-4)&&this._shadowImg.naturalHeight<=0},enumerable:!1,configurable:!0}),e.prototype._onLoad=function(){this.syncImage(),this._onReadyState(!0),this.updateContainerClasses()},e.prototype._onError=function(){this._onReadyState(!1),this.updateContainerClasses()},e.prototype._onMediaMatchChange=function(){this.update()},e.prototype._onReadyState=function(t){this.ready||(this.toggleAttribute("loaded",t),this.toggleAttribute("error",!t),this.toggleAttribute("ready",!0),this.$$fire(t?"load":"error"),this.$$fire("ready"))},e.prototype.updateContainerClasses=function(){if(null!==this.containerClass){var t=this.containerClass||this.constructor.DEFAULT_CONTAINER_CLS,e=function(t){return["error","loaded","ready"].includes(t)}(this.containerClassState)&&this[this.containerClassState],n=te.first(this.containerClassTarget,this);n&&w.toggle(n,t,e)}},e.prototype.$$fire=function(t,e){return void 0===e&&(e={bubbles:!1}),M.dispatch(this,t,e)},e.isEmptyImage=function(t){return t===n.EMPTY_IMAGE},e.is="esl-image",e.DEFAULT_CONTAINER_CLS="img-container-loaded",se([x()],e.prototype,"alt",void 0),se([x({defaultValue:"save-ratio"})],e.prototype,"mode",void 0),se([x({dataAttr:!0})],e.prototype,"src",void 0),se([x({dataAttr:!0})],e.prototype,"srcBase",void 0),se([x({defaultValue:"none"})],e.prototype,"lazy",void 0),se([I()],e.prototype,"lazyTriggered",void 0),se([I()],e.prototype,"refreshOnUpdate",void 0),se([x({defaultValue:"inner-image"})],e.prototype,"innerImageClass",void 0),se([x({defaultValue:null})],e.prototype,"containerClass",void 0),se([x({defaultValue:"::parent"})],e.prototype,"containerClassTarget",void 0),se([x({defaultValue:"ready"})],e.prototype,"containerClassState",void 0),se([I({readonly:!0})],e.prototype,"ready",void 0),se([I({readonly:!0})],e.prototype,"loaded",void 0),se([I({readonly:!0})],e.prototype,"error",void 0),se([d],e.prototype,"_onLoad",null),se([d],e.prototype,"_onError",null),se([d],e.prototype,"_onMediaMatchChange",null),n=se([f("Image")],e)}(N),ce=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},le=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},ue=function(t){return requestAnimationFrame((function(){return requestAnimationFrame(t)}))},pe=function(t){var e=null;return function(){for(var n=this,o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];null===e&&requestAnimationFrame((function(){e&&t.call.apply(t,le([n],ce(e),!1)),e=null})),e=o}},he="Enter",fe=" ",de="Pause",ye="ArrowLeft",ve="ArrowUp",ge="ArrowRight",be="ArrowDown";function me(t){return void 0===t&&(t=!1),oe||t||(oe=new IntersectionObserver((function(t){t.forEach(_e)}),{threshold:[.2,.75]})),oe}function _e(t){var e=t.target;e instanceof Le&&(e.active&&t.intersectionRatio<=.2&&e.pause(),!e.active&&e.autoplay&&t.intersectionRatio>=.75&&e.play())}var we,Oe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ee=null,Ce=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.providersMap=new Map,e}return Oe(e,t),Object.defineProperty(e,"instance",{get:function(){return Ee||(Ee=new e),Ee},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"providers",{get:function(){var t=[];return this.providersMap.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),e.prototype.register=function(t){if(!t.providerName)throw new Error("Provider should have a name");this.providersMap.set(t.providerName,t),this.fire(t.providerName,t)},e.prototype.has=function(t){return this.providersMap.has(t)},e.prototype.findByName=function(t){return t&&"auto"!==t&&this.providersMap.get(t.toLowerCase())||null},e.prototype.createFor=function(t){return this.createByType(t)||this.createBySrc(t)},e.prototype.createByType=function(t){var n=this.findByName(t.mediaType);return n?e._create(n,t):null},e.prototype.createBySrc=function(t){var n,o;try{for(var r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.providers.reverse()),i=r.next();!i.done;i=r.next()){var s=i.value,a=s.parseUrl(t.mediaSrc);if(a)return e._create(s,t,a)}}catch(t){n={error:t}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return null},e._create=function(t,e,n){void 0===n&&(n=t.parseUrl(e.mediaSrc));var o=Object.assign({},n||{},t.parseConfig(e));return new t(e,o)},e}(H);!function(t){t[t.BUFFERING=3]="BUFFERING",t[t.ENDED=0]="ENDED",t[t.PAUSED=2]="PAUSED",t[t.PLAYING=1]="PLAYING",t[t.UNSTARTED=-1]="UNSTARTED",t[t.VIDEO_CUED=5]="VIDEO_CUED",t[t.UNINITIALIZED=-2]="UNINITIALIZED"}(we||(we={}));var Pe=function(){function t(t,e){this.config=e,this.component=t}return t.parseUrl=function(t){return null},t.parseConfig=function(t){var e=t.loop,n=t.muted,o=t.controls,r=t.autoplay,i=t.title,s=t.preload,a=t.playsinline,c=t.mediaId,l=t.mediaSrc,u={loop:e,muted:n,controls:o,autoplay:r,title:i,preload:s,playsinline:a};return c&&Object.assign(u,{mediaId:c}),l&&Object.assign(u,{mediaSrc:l}),u},Object.defineProperty(t.prototype,"ready",{get:function(){if(!this._ready){var t=Promise.reject("Not Initialized");return t.catch((function(t){return console.log("Rejected Media Operation: ",t)})),t}return this._ready},enumerable:!1,configurable:!0}),t.prototype.unbind=function(){Array.from(this.component.querySelectorAll(".esl-media-inner")).forEach((function(t){return t.parentNode&&t.parentNode.removeChild(t)}))},Object.defineProperty(t.prototype,"name",{get:function(){return this.constructor.providerName},enumerable:!1,configurable:!0}),t.prototype.focus=function(){var t;null===(t=this._el)||void 0===t||t.focus()},t.prototype.onConfigChange=function(t,e){this.config[t]=e},t.prototype.setSize=function(t,e){this._el&&(this._el.style.setProperty("width","auto"===t?null:t+"px"),this._el.style.setProperty("height","auto"===e?null:e+"px"))},t.prototype.toggle=function(){return[we.PAUSED,we.UNSTARTED,we.VIDEO_CUED].includes(this.state)?this.play():this.pause()},t.prototype.onSafeConfigChange=function(t,e){var n=this;this.ready.then((function(){return n.onConfigChange(t,e)}))},t.prototype.safeSeekTo=function(t){var e=this;return this.ready.then((function(){return e.seekTo(t)}))},t.prototype.safePlay=function(){var t=this;return this.ready.then((function(){return t.play()}))},t.prototype.safePause=function(){var t=this;return this.ready.then((function(){return t.pause()}))},t.prototype.safeStop=function(){var t=this;return this.ready.then((function(){return t.stop()}))},t.prototype.safeToggle=function(){var t=this;return this.ready.then((function(){return t.toggle()}))},t.register=function(e){if((e=e||this)===t)throw new Error("`BaseProvider` can't be registered.");if(!((null==e?void 0:e.prototype)instanceof t))throw new Error("Provider should be instanceof `BaseProvider`");Ce.instance.register(e)},t}(),Ae=new Map,Te=function(){function t(){}return Object.defineProperty(t,"managerMap",{get:function(){return Ae},enumerable:!1,configurable:!0}),t.registerPlay=function(t){if(t.group){var e=Ae.get(t.group);if(Ae.set(t.group,t),!e||e===t||!e.active)return;e.$$fire("mangedpause")&&e.pause()}},t.unregister=function(t){t.group&&Ae.get(t.group)===t&&Ae.delete(t.group)},t}(),je=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Se=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Le=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.deferredResize=pe((function(){return e._onResize()})),e.deferredReinitialize=l((function(){return e.reinitInstance()})),e}return je(e,t),Object.defineProperty(e,"PLAYER_STATES",{get:function(){return we},enumerable:!1,configurable:!0}),Object.defineProperty(e,"observedAttributes",{get:function(){return["disabled","media-type","media-id","media-src","fill-mode","aspect-ratio","play-in-viewport","muted","loop","controls"]},enumerable:!1,configurable:!0}),e.supports=function(t){return Ce.instance.has(t)},e.prototype.connectedCallback=function(){t.prototype.connectedCallback.call(this),this.hasAttribute("role")||this.setAttribute("role","application"),this.innerHTML+="\x3c!-- Inner Content, do not modify it manually --\x3e",this.bindEvents(),this.attachViewportConstraint(),this.deferredReinitialize()},e.prototype.disconnectedCallback=function(){t.prototype.disconnectedCallback.call(this),this.unbindEvents(),this.detachViewportConstraint(),this._provider&&this._provider.unbind()},e.prototype.attributeChangedCallback=function(t,e,n){if(this.connected&&e!==n)switch(t){case"disabled":case"media-id":case"media-src":case"media-type":this.deferredReinitialize();break;case"loop":case"muted":case"controls":this._provider&&this._provider.onSafeConfigChange(t,null!==n);break;case"fill-mode":case"aspect-ratio":this.deferredResize();break;case"play-in-viewport":this.playInViewport?this.attachViewportConstraint():this.detachViewportConstraint()}},e.prototype.bindEvents=function(){Ce.instance.addListener(this._onRegistryStateChange),this.conditionQuery&&this.conditionQuery.addListener(this.deferredReinitialize),this.fillModeEnabled&&window.addEventListener("resize",this.deferredResize),window.addEventListener("esl:refresh",this._onRefresh),this.addEventListener("keydown",this._onKeydown)},e.prototype.unbindEvents=function(){Ce.instance.removeListener(this._onRegistryStateChange),this.conditionQuery&&this.conditionQuery.removeListener(this.deferredReinitialize),this.fillModeEnabled&&window.removeEventListener("resize",this.deferredResize),window.removeEventListener("esl:refresh",this._onRefresh),this.removeEventListener("keydown",this._onKeydown)},e.prototype.canActivate=function(){return!this.disabled&&(!this.conditionQuery||this.conditionQuery.matches)},e.prototype.reinitInstance=function(){console.debug("[ESL] Media reinitialize ",this),this._provider&&this._provider.unbind(),this._provider=null,this.canActivate()&&(this._provider=Ce.instance.createFor(this),this._provider?(this._provider.bind(),console.debug("[ESL] Media provider bound",this._provider)):this._onError()),this.updateContainerMarkers()},e.prototype.updateContainerMarkers=function(){var t=te.first(this.loadClsTarget,this);if(t){var e=this.canActivate();w.toggle(t,this.loadClsAccepted,e),w.toggle(t,this.loadClsDeclined,!e)}},e.prototype.seekTo=function(t){return this._provider&&this._provider.safeSeekTo(t)},e.prototype.play=function(t){return void 0===t&&(t=!1),this.disabled&&t&&(this.disabled=!1,this.deferredReinitialize.cancel(),this.reinitInstance()),this.canActivate()?this._provider&&this._provider.safePlay():null},e.prototype.pause=function(){return this._provider&&this._provider.safePause()},e.prototype.stop=function(){return this._provider&&this._provider.safeStop()},e.prototype.toggle=function(){return this._provider&&this._provider.safeToggle()},e.prototype.focusPlayer=function(){this._provider&&this._provider.focus()},e.prototype._onReady=function(){this.toggleAttribute("ready",!0),this.toggleAttribute("error",!1),this.updateReadyClass(),this.deferredResize(),this.$$fire("ready")},e.prototype._onError=function(t,e){void 0===e&&(e=!0),this.toggleAttribute("ready",!0),this.toggleAttribute("error",!0),this.$$fire("error",{detail:t}),e&&this.$$fire("ready")},e.prototype._onDetach=function(){this.removeAttribute("active"),this.removeAttribute("ready"),this.removeAttribute("played"),this.updateReadyClass(),this.$$fire("detach")},e.prototype._onPlay=function(){this.autofocus&&this.focus(),this.deferredResize(),this.setAttribute("active",""),this.setAttribute("played",""),this.$$fire("play"),Te.registerPlay(this)},e.prototype._onPaused=function(){this.removeAttribute("active"),this.$$fire("paused"),Te.unregister(this)},e.prototype._onEnded=function(){this.removeAttribute("active"),this.$$fire("ended"),Te.unregister(this)},e.prototype._onResize=function(){if(this._provider)if(this.fillModeEnabled&&this.actualAspectRatio>0){var t=this.offsetWidth/this.offsetHeight<this.actualAspectRatio;"inscribe"===this.fillMode&&(t=!t),t?this._provider.setSize(this.actualAspectRatio*this.offsetHeight,this.offsetHeight):this._provider.setSize(this.offsetWidth,this.offsetWidth/this.actualAspectRatio)}else this._provider.setSize("auto","auto")},e.prototype._onRefresh=function(t){var e=t.target;e instanceof HTMLElement&&e.contains(this)&&this._onResize()},e.prototype._onRegistryStateChange=function(t){var e=this.mediaType.toLowerCase()||"auto";(t===e||!this.providerType&&"auto"===e)&&this.reinitInstance()},e.prototype._onKeydown=function(t){t.target===this&&[fe,de].includes(t.key)&&(t.preventDefault(),t.stopPropagation(),this.toggle())},e.prototype.updateReadyClass=function(){var t=te.first(this.readyClassTarget,this);t&&w.toggle(t,this.readyClass,this.ready)},Object.defineProperty(e.prototype,"providerType",{get:function(){return this._provider?this._provider.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._provider?this._provider.state:we.UNINITIALIZED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._provider?this._provider.duration:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._provider?this._provider.currentTime:0},set:function(t){this._provider&&this._provider.safeSeekTo(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"conditionQuery",{get:function(){if(!this._conditionQuery&&null!==this._conditionQuery){var t=this.getAttribute("load-condition");this._conditionQuery=t?Nt.for(t):null}return this._conditionQuery},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillModeEnabled",{get:function(){return"cover"===this.fillMode||"inscribe"===this.fillMode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"actualAspectRatio",{get:function(){return this.aspectRatio&&"auto"!==this.aspectRatio?function(t){var e=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s}(t.split(/[:/]/),2),n=e[0],o=e[1];return void 0!==o?+n/+o:+n||0}(this.aspectRatio):this._provider?this._provider.defaultAspectRatio:0},enumerable:!1,configurable:!0}),e.prototype.attachViewportConstraint=function(){this.playInViewport&&me().observe(this)},e.prototype.detachViewportConstraint=function(){var t=me(!0);t&&t.unobserve(this)},e.prototype.$$fire=function(t,e){var n=this.constructor.eventNs;return M.dispatch(this,n+t,e)},e.is="esl-media",e.eventNs="esl:media:",Se([x()],e.prototype,"mediaId",void 0),Se([x()],e.prototype,"mediaSrc",void 0),Se([x()],e.prototype,"mediaType",void 0),Se([x()],e.prototype,"group",void 0),Se([x()],e.prototype,"fillMode",void 0),Se([x()],e.prototype,"aspectRatio",void 0),Se([I()],e.prototype,"disabled",void 0),Se([I()],e.prototype,"autoplay",void 0),Se([I()],e.prototype,"autofocus",void 0),Se([I()],e.prototype,"muted",void 0),Se([I()],e.prototype,"loop",void 0),Se([I()],e.prototype,"controls",void 0),Se([I()],e.prototype,"playsinline",void 0),Se([I()],e.prototype,"playInViewport",void 0),Se([x({defaultValue:"auto"})],e.prototype,"preload",void 0),Se([x()],e.prototype,"readyClass",void 0),Se([x()],e.prototype,"readyClassTarget",void 0),Se([x()],e.prototype,"loadClsAccepted",void 0),Se([x()],e.prototype,"loadClsDeclined",void 0),Se([x({defaultValue:"::parent"})],e.prototype,"loadClsTarget",void 0),Se([I({readonly:!0})],e.prototype,"ready",void 0),Se([I({readonly:!0})],e.prototype,"active",void 0),Se([I({readonly:!0})],e.prototype,"played",void 0),Se([I({readonly:!0})],e.prototype,"error",void 0),Se([d],e.prototype,"_onRefresh",null),Se([d],e.prototype,"_onRegistryStateChange",null),Se([d],e.prototype,"_onKeydown",null),Se([f("Media")],e)}(N),ke=function(){function t(){var t=this;this._fn=null,this._timeout=null,this.run=function(){t._timeout=null,t._fn&&t._fn()}}return Object.defineProperty(t.prototype,"fn",{get:function(){return this._fn},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){void 0===e&&(e=!1);var n=this.cancel();return"function"==typeof t&&(e&&"string"==typeof e&&(e=+e),"number"==typeof e&&e>=0?(this._fn=t,this._timeout=window.setTimeout(this.run,e)):t()),n},t.prototype.cancel=function(){var t=this._fn;return"number"==typeof this._timeout&&clearTimeout(this._timeout),this._fn=this._timeout=null,t},t}(),Re=function(t){return void 0===t&&(t={}),t=Object.assign({defaultValue:{}},t),function(e,n){var o=function(t,e){return e?"data-"+j(t):j(t)}(t.name||n,!!t.dataAttr);Object.defineProperty(e,n,function(t,e,n){function o(){return k((this.getAttribute(t)||"").trim(),n)}return e?{get:o}:{get:o,set:function(e){"object"!=typeof e&&console.error("Can not set json value: value should be object");try{if(e){var n=JSON.stringify(e);this.setAttribute(t,n)}else this.removeAttribute(t)}catch(t){console.error("[ESL] jsonAttr: Can not set json value ",t)}}}}(o,!!t.readonly,t.defaultValue))}},$e=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),xe=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ie=new WeakMap,Me=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._open=!1,e._task=new ke,e._trackHover=!1,e}return $e(e,t),Object.defineProperty(e,"observedAttributes",{get:function(){return["open","group"]},enumerable:!1,configurable:!0}),e.prototype.connectedCallback=function(){t.prototype.connectedCallback.call(this),this.initiallyOpened=this.hasAttribute("open"),this.bindEvents(),this.setInitialState()},e.prototype.disconnectedCallback=function(){t.prototype.disconnectedCallback.call(this),this.unbindEvents(),Ie.delete(this)},e.prototype.attributeChangedCallback=function(t,e,n){if(this.connected&&n!==e)switch(t){case"open":if(this.open===this.hasAttribute("open"))return;this.toggle(this.open,{initiator:"attribute",showDelay:0,hideDelay:0});break;case"group":this.$$fire("change:group",{detail:{oldGroupName:e,newGroupName:n}})}},e.prototype.setInitialState=function(){this.initialParams&&this.toggle(this.initiallyOpened,this.initialParams)},e.prototype.bindEvents=function(){this.addEventListener("click",this._onClick),this.addEventListener("keydown",this._onKeyboardEvent)},e.prototype.unbindEvents=function(){this.removeEventListener("click",this._onClick),this.removeEventListener("keydown",this._onKeyboardEvent),this.bindOutsideEventTracking(!1),this.bindHoverStateTracking(!1)},e.prototype.bindOutsideEventTracking=function(t){document.body.removeEventListener("mouseup",this._onOutsideAction,!0),document.body.removeEventListener("touchend",this._onOutsideAction,!0),t&&(document.body.addEventListener("mouseup",this._onOutsideAction,!0),document.body.addEventListener("touchend",this._onOutsideAction,!0))},e.prototype.bindHoverStateTracking=function(t,e){Ot.hasHover&&(this._trackHoverDelay=t&&void 0!==e?+e:void 0,this._trackHover!==t&&(this._trackHover=t,this.removeEventListener("mouseenter",this._onMouseEnter),this.removeEventListener("mouseleave",this._onMouseLeave),this._trackHover&&(this.addEventListener("mouseenter",this._onMouseEnter),this.addEventListener("mouseleave",this._onMouseLeave))))},e.prototype.mergeDefaultParams=function(t){return Object.assign({},this.defaultParams,function(t,e){void 0===e&&(e=function(){return!0});var n=Object.assign({},t||{});return Object.keys(n).forEach((function(t){!e(t,n[t])&&delete n[t]})),n}(t||{},(function(t,e){return void 0!==e})))},e.prototype.toggle=function(t,e){return void 0===t&&(t=!this.open),t?this.show(e):this.hide(e)},e.prototype.show=function(t){return t=this.mergeDefaultParams(t),this._task.put(this.showTask.bind(this,t),T(t.showDelay,t.delay)),this.bindOutsideEventTracking(this.closeOnOutsideAction),this.bindHoverStateTracking(!!t.trackHover,T(t.hideDelay,t.delay)),this},e.prototype.hide=function(t){return t=this.mergeDefaultParams(t),this._task.put(this.hideTask.bind(this,t),T(t.hideDelay,t.delay)),this.bindOutsideEventTracking(!1),this.bindHoverStateTracking(!!t.trackHover,T(t.hideDelay,t.delay)),this},e.prototype.showTask=function(t){!t.force&&this.open||(t.silent||this.$$fire("before:show",{detail:{params:t}}))&&(this.activator=t.activator,this.open=!0,this.onShow(t),t.silent||this.$$fire("show",{detail:{params:t},cancelable:!1}))},e.prototype.hideTask=function(t){(t.force||this.open)&&(t.silent||this.$$fire("before:hide",{detail:{params:t}}))&&(this.open=!1,this.onHide(t),this.bindOutsideEventTracking(!1),t.silent||this.$$fire("hide",{detail:{params:t},cancelable:!1}))},e.prototype.onShow=function(t){w.add(this,this.activeClass),w.add(document.body,this.bodyClass,this),this.updateA11y(),this.$$fire("esl:refresh")},e.prototype.onHide=function(t){w.remove(this,this.activeClass),w.remove(document.body,this.bodyClass,this),this.updateA11y()},Object.defineProperty(e.prototype,"open",{get:function(){return this._open},set:function(t){this.toggleAttribute("open",this._open=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activator",{get:function(){return Ie.get(this)},set:function(t){t?Ie.set(this,t):Ie.delete(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$a11yTarget",{get:function(){var t=this.getAttribute("a11y-target");return"none"===t?null:t?this.querySelector(t):this},enumerable:!1,configurable:!0}),e.prototype.updateA11y=function(){var t=this.$a11yTarget;t&&t.setAttribute("aria-hidden",String(!this._open))},e.prototype._onClick=function(t){var e=t.target;this.closeTrigger&&e.closest(this.closeTrigger)&&this.hide({initiator:"close",activator:e,event:t})},e.prototype._onOutsideAction=function(t){var e=t.target;this.contains(e)||this.activator&&this.activator.contains(e)||this.hide({initiator:"outsideaction",hideDelay:0,event:t})},e.prototype._onKeyboardEvent=function(t){this.closeOnEsc&&"Escape"===t.key&&this.hide({initiator:"keyboard",event:t})},e.prototype._onMouseEnter=function(t){var e=this._trackHoverDelay,n={initiator:"mouseenter",trackHover:!0,activator:this.activator,event:t,hideDelay:e};this.show(Object.assign(n,this.trackHoverParams))},e.prototype._onMouseLeave=function(t){var e=this._trackHoverDelay,n={initiator:"mouseleave",trackHover:!0,activator:this.activator,event:t,hideDelay:e};this.hide(Object.assign(n,this.trackHoverParams))},e.is="esl-toggleable",xe([x()],e.prototype,"bodyClass",void 0),xe([x({defaultValue:"open"})],e.prototype,"activeClass",void 0),xe([x({name:"group"})],e.prototype,"groupName",void 0),xe([x({name:"close-on"})],e.prototype,"closeTrigger",void 0),xe([I()],e.prototype,"closeOnEsc",void 0),xe([I()],e.prototype,"closeOnOutsideAction",void 0),xe([Re({defaultValue:{force:!0,initiator:"init"}})],e.prototype,"initialParams",void 0),xe([Re({defaultValue:{}})],e.prototype,"defaultParams",void 0),xe([Re({defaultValue:{}})],e.prototype,"trackHoverParams",void 0),xe([d],e.prototype,"_onClick",null),xe([d],e.prototype,"_onOutsideAction",null),xe([d],e.prototype,"_onKeyboardEvent",null),xe([d],e.prototype,"_onMouseEnter",null),xe([d],e.prototype,"_onMouseLeave",null),xe([f("Toggleable")],e)}(N),De=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ne=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},He=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._popups=new Map,e}return De(e,t),e.init=function(t,e){if(void 0===t&&(t=document.body),void 0===e&&(e=this.is),!t)throw new Error("Root element should be specified");t.getElementsByTagName(e).length||(this.register(e),t.insertAdjacentElement("afterbegin",document.createElement(e)))},e.prototype.connectedCallback=function(){t.prototype.connectedCallback.call(this),this.root=this.parentElement},e.prototype.disconnectedCallback=function(){t.prototype.disconnectedCallback.call(this),this.root=null},e.prototype.bindEvents=function(){this.root&&(this.root.addEventListener("esl:before:show",this._onBeforeShow),this.root.addEventListener("esl:show",this._onShow),this.root.addEventListener("esl:hide",this._onHide),this.root.addEventListener("esl:change:group",this._onChangeGroup))},e.prototype.unbindEvents=function(){this.root&&(this.root.removeEventListener("esl:before:show",this._onBeforeShow),this.root.removeEventListener("esl:show",this._onShow),this.root.removeEventListener("esl:hide",this._onHide),this.root.removeEventListener("esl:change:group",this._onChangeGroup))},Object.defineProperty(e.prototype,"root",{get:function(){return this._root},set:function(t){this.unbindEvents(),this._root=t,this.bindEvents()},enumerable:!1,configurable:!0}),e.prototype.isAcceptable=function(t){return t instanceof Me&&!!t.groupName&&"none"!==t.groupName},e.prototype.hideActive=function(t,e){var n=this.getActive(t);n&&n!==e&&n.hide({initiator:"dispatcher",dispatcher:this,activator:e})},e.prototype.setActive=function(t,e){t&&(this.hideActive(t,e),this._popups.set(t,e))},e.prototype.getActive=function(t){return this._popups.get(t)},e.prototype.deleteActive=function(t,e){this.getActive(t)===e&&this._popups.delete(t)},e.prototype._onBeforeShow=function(t){var e=M.source(t);this.isAcceptable(e)&&this.hideActive(e.groupName,e)},e.prototype._onShow=function(t){var e=M.source(t);this.isAcceptable(e)&&this.setActive(e.groupName,e)},e.prototype._onHide=function(t){var e=M.source(t);this.isAcceptable(e)&&this.deleteActive(e.groupName,e)},e.prototype._onChangeGroup=function(t){var e=M.source(t);if(this.isAcceptable(e)){var n=t.detail,o=n.oldGroupName,r=n.newGroupName;this.deleteActive(o,e),this.setActive(r,e)}},e.is="esl-toggleable-dispatcher",Ne([d],e.prototype,"_onBeforeShow",null),Ne([d],e.prototype,"_onShow",null),Ne([d],e.prototype,"_onHide",null),Ne([d],e.prototype,"_onChangeGroup",null),Ne([f("ToggleableDispatcher")],e)}(N);function Ve(t){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(function e(){document.removeEventListener("DOMContentLoaded",e),setTimeout((function(){return t()}))})):setTimeout((function(){return t()}))}var ze=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Ue=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};function Be(t,e,n){if(!n||"function"!=typeof n.value)throw new TypeError("Only class methods can be decorated via document ready decorator");var o=n.value;n.value=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Ve((function(){return o.call.apply(o,Ue([t],ze(e),!1))}))}}function Fe(t){return void 0===t&&(t={}),function(e,n){if(Object.hasOwnProperty.call(e,n))throw new TypeError("Can't override own property");Object.defineProperty(e,n,{value:t.value,writable:!t.readonly,enumerable:!0,configurable:!0})}}var qe=function(){function t(t,e,n,o){this.x=0,this.y=0,this.width=0,this.height=0,this.x=t||0,this.y=e||0,this.width=n||0,this.height=o||0}return t.from=function(t){return void 0===t&&(t={}),new this(t.x||t.left,t.y||t.top,t.width,t.height)},Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cx",{get:function(){return this.x+this.width/2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cy",{get:function(){return this.y+this.height/2},enumerable:!1,configurable:!0}),t.prototype.grow=function(t){return this.y-=t,this.x-=t,this.height+=2*t,this.width+=2*t,this},t.prototype.shrink=function(t){return this.grow(-t)},t}(),Ge=function(t){return!t||t instanceof Window?"":t.nodeName.toLowerCase()},We=function(t){return"html"===Ge(t)?t:(window.ShadowRoot?t instanceof ShadowRoot?t.host:t.assignedSlot||t.parentNode:t.parentNode)||function(t){return void 0===t&&(t=window),(t instanceof Window?t.document:t.ownerDocument).documentElement}(t)},Ke=document.documentElement,Ye=new Set;function Qe(t,e){var n;void 0===e&&(e=[]);var o=Xe(t),r=o===(null===(n=t.ownerDocument)||void 0===n?void 0:n.body),i=r?Ze(o)?o:[]:o,s=e.concat(i);return r?s:s.concat(Qe(We(o)))}function Xe(t){var e;return["html","body","#document"].indexOf(Ge(t))>=0?null===(e=t.ownerDocument)||void 0===e?void 0:e.body:t instanceof HTMLElement&&Ze(t)?t:Xe(We(t))}function Ze(t){var e=getComputedStyle(t),n=e.overflow,o=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+o)}!function(){function t(){}t.hasVerticalScroll=function(t){return void 0===t&&(t=Ke),t.scrollHeight>t.clientHeight},t.lock=function(e){var n=t.hasVerticalScroll();e&&"none"!==e&&n&&Ke.classList.add("esl-"+e+"-scroll"),Ke.classList.add("esl-disable-scroll")},t.unlock=function(){Ke.classList.remove("esl-disable-scroll","esl-pseudo-scroll","esl-native-scroll")},t.requestLock=function(e,n){e&&Ye.add(e),Ye.size>0&&t.lock(n)},t.requestUnlock=function(e,n){e&&Ye.delete(e),0===Ye.size&&t.unlock()}}();var Je=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),tn=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},en=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._deferredUpdatePosition=pe((function(){return e._updatePosition()})),e._intersectionRatio={},e.closeOnEsc=!0,e.closeOnOutsideAction=!0,e}return Je(e,t),e.prototype.connectedCallback=function(){t.prototype.connectedCallback.call(this),this.$arrow=this.querySelector("span.esl-popup-arrow")},Object.defineProperty(e.prototype,"_isPositioningAlongHorizontal",{get:function(){return["left","right"].includes(this.position)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_isPositioningAlongVertical",{get:function(){return["top","bottom"].includes(this.position)},enumerable:!1,configurable:!0}),e.prototype.onShow=function(e){var n=this;t.prototype.onShow.call(this,e),e.position&&(this.position=e.position),e.behavior&&(this.behavior=e.behavior),this._offsetTrigger=e.offsetTrigger||0,this._offsetWindow=e.offsetWindow||0,this.style.visibility="hidden",setTimeout((function(){n._updatePosition(),n.style.visibility="visible",n.activator&&n._addActivatorObserver(n.activator)}))},e.prototype.onHide=function(e){t.prototype.onHide.call(this,e),this.activator&&this._removeActivatorObserver(this.activator)},e.prototype._checkIntersectionForAdjacentAxis=function(t,e){t&&e<.7&&this.hide()},e.prototype.onActivatorIntersection=function(t,e){var n=t[0];this._intersectionRatio={},n.isIntersecting?(n.intersectionRect.y!==n.boundingClientRect.y&&(this._intersectionRatio.top=n.intersectionRect.height/n.boundingClientRect.height,this._checkIntersectionForAdjacentAxis(this._isPositioningAlongHorizontal,this._intersectionRatio.top)),n.intersectionRect.bottom!==n.boundingClientRect.bottom&&(this._intersectionRatio.bottom=n.intersectionRect.height/n.boundingClientRect.height,this._checkIntersectionForAdjacentAxis(this._isPositioningAlongHorizontal,this._intersectionRatio.bottom)),n.intersectionRect.x!==n.boundingClientRect.x&&(this._intersectionRatio.left=n.intersectionRect.width/n.boundingClientRect.width,this._checkIntersectionForAdjacentAxis(this._isPositioningAlongVertical,this._intersectionRatio.left)),n.intersectionRect.right!==n.boundingClientRect.right&&(this._intersectionRatio.right=n.intersectionRect.width/n.boundingClientRect.width,this._checkIntersectionForAdjacentAxis(this._isPositioningAlongVertical,this._intersectionRatio.right))):this.hide()},e.prototype.onActivatorScroll=function(t){this._updatePosition()},e.prototype._addActivatorObserver=function(t){var e=this,n=Qe(t).map((function(t){var n={passive:!0};return t.addEventListener("scroll",e.onActivatorScroll,n),function(){t&&t.removeEventListener("scroll",e.onActivatorScroll,n)}})),o={rootMargin:"0px",threshold:g(9,(function(t){return t/8}))},r=new IntersectionObserver(this.onActivatorIntersection,o);r.observe(t),window.addEventListener("resize",this._deferredUpdatePosition),window.addEventListener("scroll",this._deferredUpdatePosition),this._activatorObserver={unsubscribers:n,observer:r}},e.prototype._removeActivatorObserver=function(t){var e,n;window.removeEventListener("resize",this._deferredUpdatePosition),window.removeEventListener("scroll",this._deferredUpdatePosition),null===(e=this._activatorObserver.observer)||void 0===e||e.disconnect(),this._activatorObserver.observer=void 0,null===(n=this._activatorObserver.unsubscribers)||void 0===n||n.forEach((function(t){return t()})),this._activatorObserver.unsubscribers=[]},e.prototype._updatePosition=function(){if(this.activator){var t,e=this.activator.getBoundingClientRect(),n=this.getBoundingClientRect(),o=this.$arrow?this.$arrow.getBoundingClientRect():new qe,r=new qe(e.left,e.top+window.pageYOffset,e.width,e.height),i=this._offsetTrigger+o.width/2,s=function(t){var e=function(t){var e=t.inner.cx-t.element.width/2,n=t.inner.y-t.element.height;switch(t.position){case"left":e=t.inner.x-t.element.width,n=t.inner.cy-t.element.height/2;break;case"right":e=t.inner.right,n=t.inner.cy-t.element.height/2;break;case"bottom":e=t.inner.cx-t.element.width/2,n=t.inner.bottom}return new qe(e,n,t.element.width,t.element.height)}(t),n={x:t.element.width/2,y:t.element.height/2,position:t.position},o=function(t,e,n){if("fit"!==t.behavior)return t.position;var o,r=!1;switch(t.position){case"bottom":(t.intersectionRatio.bottom||t.outer.bottom<e.bottom)&&(e.y=t.inner.top-t.element.height,r=!0);break;case"left":(t.intersectionRatio.left||e.x<t.outer.x)&&(e.x=t.inner.right,r=!0);break;case"right":(t.intersectionRatio.right||t.outer.right<e.right)&&(e.x=t.inner.x-t.element.width,r=!0);break;default:(t.intersectionRatio.top||e.y<t.outer.y)&&(e.y=t.inner.bottom,r=!0)}return r?{top:"bottom",left:"right",right:"left",bottom:"top"}[o=t.position]||o:t.position}(t,e);return function(t,e,n){"fit"===t.behavior&&(["left","right"].includes(t.position)?function(t,e,n){if(!(t.trigger.y<t.outer.y||t.trigger.bottom>t.outer.bottom)){var o=0;e.y<t.outer.y&&(o=e.y-t.outer.y,e.y=t.outer.y),e.bottom>t.outer.bottom&&(o=e.bottom-t.outer.bottom,e.y-=o),n.y+=o}}(t,e,n):function(t,e,n){if(!(t.trigger.x<t.outer.x||t.trigger.right>t.outer.right)){var o=0;e.x<t.outer.x&&(o=e.x-t.outer.x,e.x=t.outer.x),e.right>t.outer.right&&(o=e.right-t.outer.right,e.x-=o),n.x+=o}}(t,e,n))}(t,e,n),{popup:e,placedAt:o,arrow:n}}({position:this.position,behavior:this.behavior,intersectionRatio:this._intersectionRatio,element:n,trigger:r,inner:qe.from(r).grow(i),outer:(void 0===t&&(t=window),qe.from({x:t.scrollX,y:t.scrollY,width:t.innerWidth||t.document.documentElement.clientWidth,height:t.innerHeight||t.document.documentElement.clientHeight})).shrink(this._offsetWindow)}),a=s.placedAt,c=s.popup,l=s.arrow;this.setAttribute("placed-at",a),this.style.left=c.x+"px",this.style.top=c.y+"px",this.$arrow&&(this.$arrow.style.left=["top","bottom"].includes(a)?l.x+"px":"none",this.$arrow.style.top=["left","right"].includes(a)?l.y+"px":"none")}},e.is="esl-popup",tn([x({defaultValue:"top"})],e.prototype,"position",void 0),tn([x({defaultValue:"fit"})],e.prototype,"behavior",void 0),tn([Re({defaultValue:{offsetTrigger:3,offsetWindow:15}})],e.prototype,"defaultParams",void 0),tn([Fe()],e.prototype,"closeOnEsc",void 0),tn([Fe()],e.prototype,"closeOnOutsideAction",void 0),tn([Be],e.prototype,"connectedCallback",null),tn([d],e.prototype,"onActivatorIntersection",null),tn([d],e.prototype,"onActivatorScroll",null),tn([f("Popup")],e)}(Me),nn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),on=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},rn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._initialHeight=0,e._fallbackTimer=0,e}return nn(e,t),Object.defineProperty(e.prototype,"initialHeight",{get:function(){return this._initialHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$group",{get:function(){return"none"===this.groupName||this.groupName?null:this.closest(cn.is)},enumerable:!1,configurable:!0}),e.prototype.bindEvents=function(){t.prototype.bindEvents.call(this),this.addEventListener("transitionend",this._onTransitionEnd)},e.prototype.unbindEvents=function(){t.prototype.unbindEvents.call(this),this.removeEventListener("transitionend",this._onTransitionEnd)},e.prototype.onShow=function(e){var n=this;this._initialHeight=this.scrollHeight,t.prototype.onShow.call(this,e),this.beforeAnimate(),e.noCollapse?ue((function(){return n.afterAnimate()})):this.onAnimate("show")},e.prototype.onHide=function(e){var n=this;this._initialHeight=this.scrollHeight,t.prototype.onHide.call(this,e),this.beforeAnimate(),e.noCollapse?ue((function(){return n.afterAnimate()})):this.onAnimate("hide")},e.prototype.beforeAnimate=function(){var t=this;this.toggleAttribute("animating",!0),w.add(this,this.animateClass),this.postAnimateClass&&ue((function(){return w.add(t,t.postAnimateClass)}))},e.prototype.onAnimate=function(t){var e=this;this.style.setProperty("max-height",("hide"===t?this._initialHeight:0)+"px"),ue((function(){e.style.setProperty("max-height",("hide"===t?0:e._initialHeight)+"px"),e.fallbackAnimate()}))},e.prototype.afterAnimate=function(){this.clearAnimation(),this.$$fire(this.open?"after:show":"after:hide")},e.prototype.clearAnimation=function(){this.toggleAttribute("animating",!1),this.style.removeProperty("max-height"),w.remove(this,this.animateClass),w.remove(this,this.postAnimateClass)},e.prototype.fallbackAnimate=function(){var t=this,e=+this.fallbackDuration;isNaN(e)||e<0||(this._fallbackTimer&&clearTimeout(this._fallbackTimer),this._fallbackTimer=window.setTimeout((function(){return t.afterAnimate()}),e))},e.prototype._onTransitionEnd=function(t){t&&"max-height"!==t.propertyName||this.afterAnimate()},e.prototype.mergeDefaultParams=function(t){var e,n=(null===(e=this.$group)||void 0===e?void 0:e.panelConfig)||{};return Object.assign({},n,this.defaultParams,t||{})},e.is="esl-panel",on([x({defaultValue:"open"})],e.prototype,"activeClass",void 0),on([x({defaultValue:"animate"})],e.prototype,"animateClass",void 0),on([x({defaultValue:"post-animate"})],e.prototype,"postAnimateClass",void 0),on([x({defaultValue:"1000"})],e.prototype,"fallbackDuration",void 0),on([Re({defaultValue:{force:!0,initiator:"init"}})],e.prototype,"initialParams",void 0),on([I({readonly:!0})],e.prototype,"animating",void 0),on([d],e.prototype,"_onTransitionEnd",null),on([f("Panel")],e)}(Me),sn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),an=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},cn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._previousHeight=0,e._fallbackTimer=0,e}var n;return sn(e,t),n=e,Object.defineProperty(e,"observedAttributes",{get:function(){return["mode","accordion-group"]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeRules",{get:function(){return Ut.parse(this.mode)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentMode",{get:function(){return this.modeRules.activeValue||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"actionParams",{get:function(){return{initiator:"group",activator:this}},enumerable:!1,configurable:!0}),e.prototype.connectedCallback=function(){t.prototype.connectedCallback.call(this),this.bindEvents(),this.modeRules.addListener(this._onModeChange),this.updateMode()},e.prototype.disconnectedCallback=function(){t.prototype.disconnectedCallback.call(this),this.modeRules.removeListener(this._onModeChange),this.unbindEvents()},e.prototype.attributeChangedCallback=function(t,e,n){if(this.connected&&e!==n&&("mode"===t&&(this.modeRules.removeListener(this._onModeChange),G.clear(this,"modeRules"),this.modeRules.addListener(this._onModeChange),this.updateMode()),"accordion-group"===t)){if("single"!==n&&"multiple"!==n)return void(this.accordionGroup=e);this.reset()}},e.prototype.bindEvents=function(){this.addEventListener("esl:before:show",this._onBeforeShow),this.addEventListener("esl:show",this._onShow),this.addEventListener("esl:before:hide",this._onBeforeHide),this.addEventListener("transitionend",this._onTransitionEnd)},e.prototype.unbindEvents=function(){this.removeEventListener("esl:before:show",this._onBeforeShow),this.removeEventListener("esl:show",this._onShow),this.removeEventListener("esl:before:hide",this._onBeforeHide),this.removeEventListener("transitionend",this._onTransitionEnd)},e.prototype.updateMode=function(){var t=this;this.setAttribute("view",this.currentMode);var e=te.first(this.modeClsTarget,this);e&&(n.supportedModes.forEach((function(n){e.classList.toggle("esl-"+n+"-view",t.currentMode===n)})),this.reset())},Object.defineProperty(e.prototype,"$panels",{get:function(){var t=this;return Array.from(this.querySelectorAll(rn.is)).filter((function(e){return t.includesPanel(e)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$activePanels",{get:function(){return this.$panels.filter((function(t){return t.open}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldCollapse",{get:function(){var t=this.noCollapse.split(",").map((function(t){return t.trim()}));return!t.includes("all")&&!t.includes(this.currentMode)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"panelConfig",{get:function(){return{noCollapse:!this.shouldCollapse||"tabs"===this.currentMode}},enumerable:!1,configurable:!0}),e.prototype.includesPanel=function(t){return t instanceof rn&&t.$group===this},e.prototype.showAll=function(t){var e=this;void 0===t&&(t=[]),this.$panels.forEach((function(n){return!t.includes(n)&&n.show(e.actionParams)}))},e.prototype.hideAll=function(t){var e=this;void 0===t&&(t=[]),this.$activePanels.forEach((function(n){return!t.includes(n)&&n.hide(e.actionParams)}))},e.prototype.toggleAllBy=function(t){var e=this;this.$panels.forEach((function(n){return n.toggle(t(n),e.actionParams)}))},e.prototype.reset=function(){var t=this;rn.registered.then((function(){if("open"===t.currentMode&&t.toggleAllBy((function(){return!0})),"tabs"===t.currentMode||"accordion"===t.currentMode&&"single"===t.accordionGroup){var e=t.$panels.find((function(t){return t.initiallyOpened}));t.toggleAllBy((function(t){return t===e}))}"accordion"===t.currentMode&&"multiple"===t.accordionGroup&&t.toggleAllBy((function(t){return t.initiallyOpened}))}))},e.prototype.onAnimate=function(t,e){var n=this;this.style.height&&"auto"!==this.style.height?(this.style.height=e+"px",this.fallbackAnimate()):(this.style.height=t+"px",ue((function(){n.style.height=e+"px",n.fallbackAnimate()})))},e.prototype.beforeAnimate=function(){w.add(this,this.animationClass)},e.prototype.afterAnimate=function(){this.style.removeProperty("height"),w.remove(this,this.animationClass)},e.prototype.fallbackAnimate=function(){var t=this,e=+this.fallbackDuration;isNaN(e)||e<0||(this._fallbackTimer&&clearTimeout(this._fallbackTimer),this._fallbackTimer=window.setTimeout((function(){return t.afterAnimate()}),e))},e.prototype._onBeforeShow=function(t){var e=t.target;this.includesPanel(e)&&("accordion"===this.currentMode&&"multiple"===this.accordionGroup||this.hideAll([e]))},e.prototype._onShow=function(t){var e=this,n=t.target;this.includesPanel(n)&&"tabs"===this.currentMode&&(this.beforeAnimate(),this.shouldCollapse?this.onAnimate(this._previousHeight,n.initialHeight):ue((function(){return e.afterAnimate()})))},e.prototype._onBeforeHide=function(t){if("open"!==this.currentMode){var e=t.target;this.includesPanel(e)&&(this._previousHeight=this.offsetHeight)}else t.preventDefault()},e.prototype._onTransitionEnd=function(t){t&&"height"!==t.propertyName||this.afterAnimate()},e.prototype._onModeChange=function(){this.updateMode()},e.is="esl-panel-group",e.supportedModes=["tabs","accordion","open"],an([x({defaultValue:"accordion"})],e.prototype,"mode",void 0),an([x({defaultValue:""})],e.prototype,"modeClsTarget",void 0),an([x({defaultValue:"animate"})],e.prototype,"animationClass",void 0),an([x({defaultValue:"auto"})],e.prototype,"fallbackDuration",void 0),an([x()],e.prototype,"noCollapse",void 0),an([x({defaultValue:"single"})],e.prototype,"accordionGroup",void 0),an([G()],e.prototype,"modeRules",null),an([d],e.prototype,"_onBeforeShow",null),an([d],e.prototype,"_onShow",null),an([d],e.prototype,"_onBeforeHide",null),an([d],e.prototype,"_onTransitionEnd",null),an([d],e.prototype,"_onModeChange",null),n=an([f("PanelGroup")],e)}(N),ln=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),un=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},pn=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},hn=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},fn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ln(e,t),Object.defineProperty(e,"observedAttributes",{get:function(){return["target"]},enumerable:!1,configurable:!0}),e.prototype.attributeChangedCallback=function(t){if(this.connected)return"target"===t?this.updateTargetFromSelector():void 0},Object.defineProperty(e.prototype,"$target",{get:function(){return this._$target},set:function(t){this.unbindEvents(),this._$target=t,this.bindEvents(),this._onTargetStateChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$a11yTarget",{get:function(){return this.a11yTarget?this.querySelector(this.a11yTarget):this},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allowHover",{get:function(){return Ot.hasHover&&Nt.for(this.trackHover).matches},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allowClick",{get:function(){return Nt.for(this.trackClick).matches},enumerable:!1,configurable:!0}),e.prototype.connectedCallback=function(){t.prototype.connectedCallback.call(this),this.updateTargetFromSelector(),this.initA11y()},e.prototype.disconnectedCallback=function(){this.unbindEvents()},e.prototype.bindEvents=function(){this.$target&&(this.$target.addEventListener("esl:show",this._onTargetStateChange),this.$target.addEventListener("esl:hide",this._onTargetStateChange),this.addEventListener("click",this._onClick),this.addEventListener("keydown",this._onKeydown),this.addEventListener("mouseenter",this._onMouseEnter),this.addEventListener("mouseleave",this._onMouseLeave))},e.prototype.unbindEvents=function(){this.$target&&(this.$target.removeEventListener("esl:show",this._onTargetStateChange),this.$target.removeEventListener("esl:hide",this._onTargetStateChange),this.removeEventListener("click",this._onClick),this.removeEventListener("keydown",this._onKeydown),this.removeEventListener("mouseenter",this._onMouseEnter),this.removeEventListener("mouseleave",this._onMouseLeave))},e.prototype.updateTargetFromSelector=function(){this.target&&(this.$target=te.first(this.target,this))},e.prototype.isTargetIgnored=function(t){if(!(t&&t instanceof HTMLElement&&this.ignore))return!1;var e=t.closest(this.ignore);return!!e&&e!==this&&this.contains(e)},e.prototype.mergeToggleableParams=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object.assign.apply(Object,hn([{initiator:"trigger",activator:this}],pn(t),!1))},e.prototype.showTarget=function(t){void 0===t&&(t={});var e=this.mergeToggleableParams({delay:L(this.showDelay)},t);this.$target&&"function"==typeof this.$target.show&&this.$target.show(e)},e.prototype.hideTarget=function(t){void 0===t&&(t={});var e=this.mergeToggleableParams({delay:L(this.hideDelay)},t);this.$target&&"function"==typeof this.$target.hide&&this.$target.hide(e)},e.prototype.toggleTarget=function(t,e){void 0===t&&(t={}),void 0===e&&(e=!this.active),e?this.showTarget(t):this.hideTarget(t)},e.prototype.updateState=function(){var t,e=!!(null===(t=this.$target)||void 0===t?void 0:t.open),n=this.active;this.toggleAttribute("active",e);var o=te.first(this.activeClassTarget,this);return o&&w.toggle(o,this.activeClass,e),this.updateA11y(),e!==n},e.prototype._onTargetStateChange=function(t){if(this.updateState()){var e={active:this.active,originalEvent:t};this.$$fire("change:active",{detail:e})}},e.prototype._onClick=function(t){if(this.allowClick&&!this.isTargetIgnored(t.target))switch(t.preventDefault(),this.mode){case"show":return this.showTarget({event:t});case"hide":return this.hideTarget({event:t});default:return this.toggleTarget({event:t})}},e.prototype._onKeydown=function(t){if([he,fe].includes(t.key)&&!this.isTargetIgnored(t.target))switch(t.preventDefault(),this.mode){case"show":return this.showTarget({event:t});case"hide":return this.hideTarget({event:t});default:return this.toggleTarget({event:t})}},e.prototype._onMouseEnter=function(t){if(this.allowHover){var e=L(this.hoverShowDelay);this.toggleTarget({event:t,delay:e},"hide"!==this.mode),t.preventDefault()}},e.prototype._onMouseLeave=function(t){if(this.allowHover&&"show"!==this.mode&&"hide"!==this.mode){var e=L(this.hoverHideDelay);this.hideTarget({event:t,delay:e,trackHover:!0}),t.preventDefault()}},e.prototype.initA11y=function(){this.$a11yTarget===this&&(this.hasAttribute("role")||this.setAttribute("role","button"),"button"!==this.getAttribute("role")||this.hasAttribute("tabindex")||this.setAttribute("tabindex","0"))},e.prototype.updateA11y=function(){var t=this.$a11yTarget;t&&(t.setAttribute("aria-expanded",String(this.active)),this.$target&&this.$target.id&&t.setAttribute("aria-controls",this.$target.id))},e.is="esl-trigger",un([I({readonly:!0})],e.prototype,"active",void 0),un([x({defaultValue:""})],e.prototype,"activeClass",void 0),un([x({defaultValue:""})],e.prototype,"activeClassTarget",void 0),un([x({defaultValue:"a[href]"})],e.prototype,"ignore",void 0),un([x({defaultValue:"::next"})],e.prototype,"target",void 0),un([x({defaultValue:"toggle"})],e.prototype,"mode",void 0),un([x({defaultValue:"all"})],e.prototype,"trackClick",void 0),un([x({defaultValue:"not all"})],e.prototype,"trackHover",void 0),un([x({defaultValue:""})],e.prototype,"a11yTarget",void 0),un([x({defaultValue:"none"})],e.prototype,"showDelay",void 0),un([x({defaultValue:"none"})],e.prototype,"hideDelay",void 0),un([x({defaultValue:"0"})],e.prototype,"hoverShowDelay",void 0),un([x({defaultValue:"0"})],e.prototype,"hoverHideDelay",void 0),un([Be],e.prototype,"connectedCallback",null),un([Be],e.prototype,"disconnectedCallback",null),un([d],e.prototype,"_onTargetStateChange",null),un([d],e.prototype,"_onClick",null),un([d],e.prototype,"_onKeydown",null),un([d],e.prototype,"_onMouseEnter",null),un([d],e.prototype,"_onMouseLeave",null),un([f("Trigger")],e)}(N),dn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),yn=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},vn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return dn(e,t),e.prototype.initA11y=function(){var t=this.$a11yTarget;t&&(t.hasAttribute("role")||t.setAttribute("role","tab"))},e.prototype.updateA11y=function(){var t=this.$a11yTarget;t&&(t.setAttribute("aria-selected",String(this.active)),t.setAttribute("tabindex",this.active?"0":"-1"),this.$target&&this.$target.id&&this.setAttribute("aria-controls",this.$target.id))},e.is="esl-tab",yn([x({defaultValue:"show"})],e.prototype,"mode",void 0),yn([x({defaultValue:"active"})],e.prototype,"activeClass",void 0),yn([f("Tab")],e)}(fn),gn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),bn=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},mn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return gn(e,t),Object.defineProperty(e.prototype,"$root",{get:function(){return this.parentElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$targets",{get:function(){return this.$root?te.all(this.targets,this.$root):[]},enumerable:!1,configurable:!0}),e.prototype.connectedCallback=function(){t.prototype.connectedCallback.call(this),this.bindEvents()},e.prototype.disconnectedCallback=function(){t.prototype.disconnectedCallback.call(this),this.unbindEvents()},e.prototype.bindEvents=function(){var t;null===(t=this.$root)||void 0===t||t.addEventListener("keydown",this._onKeydown)},e.prototype.unbindEvents=function(){var t;null===(t=this.$root)||void 0===t||t.removeEventListener("keydown",this._onKeydown)},e.prototype._onKeydown=function(t){var e=t.target;this.$targets.includes(e)&&([ve,ye].includes(t.key)&&(this.goTo("prev",e),t.preventDefault()),[be,ge].includes(t.key)&&(this.goTo("next",e),t.preventDefault()))},e.prototype.goTo=function(t,e){if(void 0===e&&(e=this.current()),e){var n=this[t](e);n&&(n.focus({preventScroll:this.preventScroll}),this.activateSelected&&n.click())}},e.prototype.next=function(t){var e=this.$targets,n=e.indexOf(t);return e[(n+1)%e.length]},e.prototype.prev=function(t){var e=this.$targets,n=e.indexOf(t);return e[(n-1+e.length)%e.length]},e.prototype.current=function(){var t=document.activeElement;return this.$targets.includes(t)?t:null},e.is="esl-a11y-group",bn([x({defaultValue:"::child"})],e.prototype,"targets",void 0),bn([I({})],e.prototype,"activateSelected",void 0),bn([I({})],e.prototype,"preventScroll",void 0),bn([d],e.prototype,"_onKeydown",null),bn([f("A11yGroup")],e)}(N),_n=function(){function t(){}return t.isRtl=function(t){return void 0===t&&(t=document.body),"rtl"===getComputedStyle(t).direction},Object.defineProperty(t,"scrollType",{get:function(){var t="default",e=function(){var t=document.createElement("div");return t.appendChild(document.createTextNode("ESL!")),t.dir="rtl",Object.assign(t.style,{position:"absolute",top:"-1000px",width:"4px",height:"1px",fontSize:"14px",overflow:"scroll"}),t}();return document.body.appendChild(e),e.scrollLeft<=0&&(e.scrollLeft=2,t=e.scrollLeft<2?"negative":"reverse"),document.body.removeChild(e),t},enumerable:!1,configurable:!0}),t.normalizeScrollLeft=function(e,n,o){switch(void 0===n&&(n=null),void 0===o&&(o=t.isRtl(e)),n=null===n?e.scrollLeft:n,o?t.scrollType:""){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}},function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);i>3&&s&&Object.defineProperty(e,n,s)}([G()],t,"scrollType",null),t}(),wn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),On=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},En=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._deferredUpdateArrows=l(e.updateArrows,100,e),e._deferredFitToViewport=l(e.fitToViewport,100,e),e._onResize=pe((function(){return e._deferredFitToViewport(e.$current,"auto")})),e}var n;return wn(e,t),n=e,Object.defineProperty(e,"observedAttributes",{get:function(){return["scrollable"]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrollableTypeRules",{get:function(){return Ut.parse(this.scrollable)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentScrollableType",{get:function(){return this.scrollableTypeRules.activeValue||""},enumerable:!1,configurable:!0}),e.prototype.connectedCallback=function(){t.prototype.connectedCallback.call(this),this.scrollableTypeRules.addListener(this._onScrollableTypeChange),this.updateScrollableType()},e.prototype.disconnectedCallback=function(){t.prototype.disconnectedCallback.call(this),this.scrollableTypeRules.removeListener(this._onScrollableTypeChange),this.unbindScrollableEvents()},e.prototype.attributeChangedCallback=function(t,e,n){this.connected&&e!==n&&"scrollable"===t&&(this.scrollableTypeRules.removeListener(this._onScrollableTypeChange),G.clear(this,"scrollableTypeRules"),this.scrollableTypeRules.addListener(this._onScrollableTypeChange),this.updateScrollableType())},e.prototype.bindScrollableEvents=function(){var t;this.addEventListener("esl:change:active",this._onTriggerStateChange),this.addEventListener("click",this._onClick,!1),this.addEventListener("focusin",this._onFocus),null===(t=this.$scrollableTarget)||void 0===t||t.addEventListener("scroll",this._onScroll,{passive:!0}),window.addEventListener("resize",this._onResize)},e.prototype.unbindScrollableEvents=function(){var t;this.removeEventListener("esl:change:active",this._onTriggerStateChange),this.removeEventListener("click",this._onClick,!1),this.removeEventListener("focusin",this._onFocus),null===(t=this.$scrollableTarget)||void 0===t||t.removeEventListener("scroll",this._onScroll),window.removeEventListener("resize",this._onResize)},Object.defineProperty(e.prototype,"$tabs",{get:function(){var t=this.querySelectorAll(vn.is);return t?Array.from(t):[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$current",{get:function(){return this.$tabs.find((function(t){return t.active}))||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$scrollableTarget",{get:function(){return this.querySelector(this.scrollableTarget)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isScrollable",{get:function(){return"disabled"!==this.currentScrollableType},enumerable:!1,configurable:!0}),e.prototype.moveTo=function(t,e){void 0===e&&(e="smooth");var n=this.$scrollableTarget;if(n){var o=n.offsetWidth;o=_n.isRtl(this)&&"reverse"!==_n.scrollType?-o:o,o="left"===t?-o:o,n.scrollBy({left:o,behavior:e})}},e.prototype.fitToViewport=function(t,e){void 0===e&&(e="smooth"),this.updateMarkers();var n=this.$scrollableTarget;if(n&&t){var o=n.getBoundingClientRect(),r=t.getBoundingClientRect();n.scrollBy({left:this.calcScrollOffset(r,o),behavior:e}),this.updateArrows()}},e.prototype.calcScrollOffset=function(t,e){var n=_n.isRtl(this)&&"reverse"===_n.scrollType;if("center"===this.currentScrollableType){var o=t.left+t.width/2-(e.left+e.width/2);return n?-o:o}return t.right>e.right?n?Math.floor(e.right-t.right):Math.ceil(t.right-e.right):t.left<e.left?n?Math.ceil(e.left-t.left):Math.floor(t.left-e.left):void 0},e.prototype.updateArrows=function(){var t=this.$scrollableTarget;if(t){var e=_n.isRtl(this)&&"default"===_n.scrollType,n=Math.abs(t.scrollLeft)>1,o=Math.abs(t.scrollLeft)+t.clientWidth+1<t.scrollWidth,r=this.querySelector('[data-tab-direction="right"]'),i=this.querySelector('[data-tab-direction="left"]');i&&i.toggleAttribute("disabled",!(e?o:n)),r&&r.toggleAttribute("disabled",!(e?n:o))}},e.prototype.updateMarkers=function(){var t=this.$scrollableTarget;if(t){var e=this.isScrollable&&t.scrollWidth>this.clientWidth;this.toggleAttribute("has-scroll",e)}},e.prototype.updateScrollableType=function(){var t=this;n.supportedScrollableTypes.forEach((function(e){w.toggle(t,e+"-alignment",t.currentScrollableType===e)})),this._deferredFitToViewport(this.$current),"disabled"===this.currentScrollableType?this.unbindScrollableEvents():this.bindScrollableEvents()},e.prototype._onTriggerStateChange=function(t){t.detail.active&&this._deferredFitToViewport(this.$current)},e.prototype._onClick=function(t){var e=t.target.closest("[data-tab-direction]"),n=e&&e.dataset.tabDirection;n&&this.moveTo(n)},e.prototype._onFocus=function(t){var e=t.target;e instanceof vn&&this._deferredFitToViewport(e)},e.prototype._onScroll=function(){this._deferredUpdateArrows()},e.prototype._onScrollableTypeChange=function(){this.updateScrollableType()},e.is="esl-tabs",e.supportedScrollableTypes=["disabled","side","center"],On([x({defaultValue:"disabled"})],e.prototype,"scrollable",void 0),On([x({defaultValue:".esl-tab-container"})],e.prototype,"scrollableTarget",void 0),On([G()],e.prototype,"scrollableTypeRules",null),On([d],e.prototype,"_onTriggerStateChange",null),On([d],e.prototype,"_onClick",null),On([d],e.prototype,"_onFocus",null),On([d],e.prototype,"_onScroll",null),On([d],e.prototype,"_onScrollableTypeChange",null),n=On([f("Tabs")],e)}(N),Cn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Pn=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},An=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.deferredRefresh=pe((function(){return e.refresh()})),e._resizeObserver=new ResizeObserver(e.deferredRefresh),e._mutationObserver=new MutationObserver((function(t){return e.updateContentObserve(t)})),e._deferredDragToCoordinate=pe(e._dragToCoordinate),e}return Cn(e,t),Object.defineProperty(e,"observedAttributes",{get:function(){return["target","horizontal"]},enumerable:!1,configurable:!0}),e.prototype.connectedCallback=function(){t.prototype.connectedCallback.call(this),this.findTarget(),this.render(),this.bindEvents()},e.prototype.disconnectedCallback=function(){this.unbindEvents()},e.prototype.attributeChangedCallback=function(t,e,n){(this.connected||e!==n)&&("target"===t&&this.findTarget(),"horizontal"===t&&this.refresh())},e.prototype.findTarget=function(){this.$target=this.target?te.first(this.target,this):null},Object.defineProperty(e.prototype,"$target",{get:function(){return this._$target||null},set:function(t){this.unbindTargetEvents(),this._$target=t,this.bindTargetEvents(),this.deferredRefresh()},enumerable:!1,configurable:!0}),e.prototype.render=function(){this.innerHTML="",this.$scrollbarTrack=document.createElement("div"),this.$scrollbarTrack.className=this.trackClass,this.$scrollbarThumb=document.createElement("div"),this.$scrollbarThumb.className=this.thumbClass,this.$scrollbarTrack.appendChild(this.$scrollbarThumb),this.appendChild(this.$scrollbarTrack)},e.prototype.bindEvents=function(){this.addEventListener("click",this._onClick),this.$scrollbarThumb.addEventListener("mousedown",this._onMouseDown),window.addEventListener("esl:refresh",this._onRefresh)},e.prototype.bindTargetEvents=function(){var t=this;this.$target&&(document.documentElement===this.$target?(window.addEventListener("resize",this._onRefresh,{passive:!0}),window.addEventListener("scroll",this._onRefresh,{passive:!0})):(this._resizeObserver.observe(this.$target),this._mutationObserver.observe(this.$target,{childList:!0}),Array.from(this.$target.children).forEach((function(e){return t._resizeObserver.observe(e)})),this.$target.addEventListener("scroll",this._onRefresh,{passive:!0})))},e.prototype.updateContentObserve=function(t){var e=this;if(void 0===t&&(t=[]),this.$target){var n=t.filter((function(t){return"childList"===t.type}));n.forEach((function(t){Array.from(t.addedNodes).filter((function(t){return t instanceof Element})).forEach((function(t){return e._resizeObserver.observe(t)})),Array.from(t.removedNodes).filter((function(t){return t instanceof Element})).forEach((function(t){return e._resizeObserver.unobserve(t)}))})),n.length&&this.deferredRefresh()}},e.prototype.unbindEvents=function(){this.removeEventListener("click",this._onClick),this.$scrollbarThumb.removeEventListener("mousedown",this._onMouseDown),this.unbindTargetEvents(),window.removeEventListener("esl:refresh",this._onRefresh)},e.prototype.unbindTargetEvents=function(){this.$target&&(document.documentElement===this.$target?(window.removeEventListener("resize",this._onRefresh),window.removeEventListener("scroll",this._onRefresh)):(this._resizeObserver.disconnect(),this._mutationObserver.disconnect(),this.$target.removeEventListener("scroll",this._onRefresh)))},Object.defineProperty(e.prototype,"scrollableSize",{get:function(){return this.$target?this.horizontal?this.$target.scrollWidth-this.$target.clientWidth:this.$target.scrollHeight-this.$target.clientHeight:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trackOffset",{get:function(){return this.horizontal?this.$scrollbarTrack.offsetWidth:this.$scrollbarTrack.offsetHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thumbOffset",{get:function(){return this.horizontal?this.$scrollbarThumb.offsetWidth:this.$scrollbarThumb.offsetHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thumbSize",{get:function(){if(!this.$target||!this.$target.scrollWidth||!this.$target.scrollHeight)return 1;var t=this.horizontal?this.$target.clientWidth:this.$target.clientHeight,e=this.horizontal?this.$target.scrollWidth:this.$target.scrollHeight;return Math.min((t+1)/e,1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){if(!this.$target)return 0;var t=this.horizontal?_n.normalizeScrollLeft(this.$target):this.$target.scrollTop;return this.scrollableSize?t/this.scrollableSize:0},set:function(t){this.scrollTargetTo(this.scrollableSize*this.normalizePosition(t)),this.update()},enumerable:!1,configurable:!0}),e.prototype.normalizePosition=function(t){var e=Math.min(1,Math.max(0,t));return this.$target&&!_n.isRtl(this.$target)?e:"negative"===_n.scrollType?e-1:1-e},e.prototype.scrollTargetTo=function(t){var e;this.$target&&this.$target.scrollTo(((e={})[this.horizontal?"left":"top"]=t,e.behavior=this.dragging?"auto":"smooth",e))},e.prototype.update=function(){var t;if(this.$$fire("change:scroll",{bubbles:!1}),this.$scrollbarThumb&&this.$scrollbarTrack){var e=this.trackOffset*this.thumbSize,n=(this.trackOffset-e)*this.position,o=((t={})[this.horizontal?"left":"top"]=n+"px",t[this.horizontal?"width":"height"]=e+"px",t);Object.assign(this.$scrollbarThumb.style,o)}},e.prototype.updateMarkers=function(){var t=this.position,e=this.thumbSize;this.toggleAttribute("at-start",e<1&&t<=0),this.toggleAttribute("at-end",e<1&&t>=1),this.toggleAttribute("inactive",e>=1)},e.prototype.refresh=function(){this.update(),this.updateMarkers()},e.prototype._onMouseDown=function(t){var e;this.toggleAttribute("dragging",!0),null===(e=this.$target)||void 0===e||e.style.setProperty("scroll-behavior","auto"),this._initialPosition=this.position,this._initialMousePosition=this.horizontal?t.clientX:t.clientY,window.addEventListener("mousemove",this._onMouseMove),window.addEventListener("mouseup",this._onMouseUp),window.addEventListener("click",this._onBodyClick,{capture:!0}),t.preventDefault()},e.prototype._dragToCoordinate=function(t){var e=t-this._initialMousePosition,n=this.trackOffset-this.thumbOffset,o=n?e/n:0;this.position=this._initialPosition+o,this.updateMarkers()},e.prototype._onMouseMove=function(t){this.dragging&&(this._deferredDragToCoordinate(this.horizontal?t.clientX:t.clientY),t.preventDefault(),t.stopPropagation())},e.prototype._onMouseUp=function(){var t;this.toggleAttribute("dragging",!1),null===(t=this.$target)||void 0===t||t.style.removeProperty("scroll-behavior"),window.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("mouseup",this._onMouseUp)},e.prototype._onBodyClick=function(t){t.stopImmediatePropagation(),window.removeEventListener("click",this._onBodyClick,{capture:!0})},e.prototype._onClick=function(t){if(t.target===this.$scrollbarTrack||t.target===this){var e=M.normalizeCoordinates(t,this.$scrollbarTrack),n=this.horizontal?e.x:e.y,o=this.trackOffset-this.thumbOffset,r=(n-this.thumbOffset/2)/o;this.position=Math.min(this.position+this.thumbSize,Math.max(this.position-this.thumbSize,r))}},e.prototype._onRefresh=function(t){var e=t.target;"scroll"===t.type&&this.dragging||("esl:refresh"!==t.type||Bt(e.parentNode,this.$target))&&this.deferredRefresh()},e.is="esl-scrollbar",Pn([I()],e.prototype,"horizontal",void 0),Pn([x({defaultValue:"::parent"})],e.prototype,"target",void 0),Pn([x({defaultValue:"scrollbar-thumb"})],e.prototype,"thumbClass",void 0),Pn([x({defaultValue:"scrollbar-track"})],e.prototype,"trackClass",void 0),Pn([I({readonly:!0})],e.prototype,"dragging",void 0),Pn([I({readonly:!0})],e.prototype,"inactive",void 0),Pn([I({readonly:!0})],e.prototype,"atStart",void 0),Pn([I({readonly:!0})],e.prototype,"atEnd",void 0),Pn([Be],e.prototype,"connectedCallback",null),Pn([Be],e.prototype,"disconnectedCallback",null),Pn([d],e.prototype,"_onMouseDown",null),Pn([d],e.prototype,"_onMouseMove",null),Pn([d],e.prototype,"_onMouseUp",null),Pn([d],e.prototype,"_onBodyClick",null),Pn([d],e.prototype,"_onClick",null),Pn([d],e.prototype,"_onRefresh",null),Pn([f("Scrollbar")],e)}(N),Tn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),jn=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Sn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return Tn(e,t),n=e,Object.defineProperty(e,"observedAttributes",{get:function(){return["target"]},enumerable:!1,configurable:!0}),e.init=function(){if(!document.querySelector("body > "+n.is)){var t=document.createElement(n.is);document.body.appendChild(t)}},e.prototype.mergeDefaultParams=function(t){var e=this.constructor;return Object.assign({},e.defaultConfig,this.defaultParams||{},t||{})},e.prototype.attributeChangedCallback=function(t,e,n){this.connected&&"target"===t&&(this.$target=te.first(this.target))},e.prototype.connectedCallback=function(){var e;t.prototype.connectedCallback.call(this),this.setAttribute("role",this.getAttribute("role")||"alert"),this.$content=document.createElement("div"),this.$content.className="esl-alert-content",this.innerHTML="",this.appendChild(this.$content),Ot.isIE&&this.appendChild(((e=document.createElement("iframe")).className="ie-zindex-fix",e.src="about:blank",e)),this.target&&(this.$target=te.first(this.target,this))},e.prototype.unbindEvents=function(){t.prototype.unbindEvents.call(this),this.unbindTargetEvents()},Object.defineProperty(e.prototype,"$target",{get:function(){return this._$target},set:function(t){this.unbindTargetEvents(),this._$target=t,this.bindTargetEvents()},enumerable:!1,configurable:!0}),e.prototype.bindTargetEvents=function(){this.$target&&this.connected&&(this.$target.addEventListener(n.eventNs+":show",this._onTargetEvent),this.$target.addEventListener(n.eventNs+":hide",this._onTargetEvent))},e.prototype.unbindTargetEvents=function(){this.$target&&(this.$target.removeEventListener(n.eventNs+":show",this._onTargetEvent),this.$target.removeEventListener(n.eventNs+":hide",this._onTargetEvent))},e.prototype.onShow=function(e){this._clearTimeout&&window.clearTimeout(this._clearTimeout),(e.html||e.text)&&(this.render(e),t.prototype.onShow.call(this,e)),this.hide(e)},e.prototype.onHide=function(e){var n=this;t.prototype.onHide.call(this,e),this._clearTimeout=window.setTimeout((function(){return n.clear()}),e.hideTime)},e.prototype.render=function(t){var e=t.text,n=t.html,o=t.cls;w.remove(this,this.activeCls),w.add(this,this.activeCls=o),n&&(this.$content.innerHTML=n),e&&(this.$content.textContent=e)},e.prototype.clear=function(){this.$content.innerHTML="",w.remove(this,this.activeCls)},e.prototype._onTargetEvent=function(t){if(t.type===n.eventNs+":show"){var e=Object.assign({},t.detail,{force:!0});this.show(e)}t.type===n.eventNs+":hide"&&(e=Object.assign({},{hideDelay:0},t.detail,{force:!0}),this.hide(e)),t.stopPropagation()},e.is="esl-alert",e.eventNs="esl:alert",e.defaultConfig={hideTime:300,hideDelay:2500},jn([x({defaultValue:"::parent"})],e.prototype,"target",void 0),jn([Re()],e.prototype,"defaultParams",void 0),jn([d],e.prototype,"_onTargetEvent",null),n=jn([f("Alert")],e)}(Me),Ln=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),kn=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Rn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return Ln(e,t),n=e,Object.defineProperty(e,"observedAttributes",{get:function(){return["selected","disabled"]},enumerable:!1,configurable:!0}),e.prototype.connectedCallback=function(){t.prototype.connectedCallback.call(this),this.tabIndex=0,this.setAttribute("role","checkbox"),this.setAttribute("aria-selected",String(this.selected))},e.prototype.attributeChangedCallback=function(t){"selected"===t&&this.setAttribute("aria-selected",String(this.selected)),"disabled"===t&&this.setAttribute("aria-disabled",String(this.disabled))},e.prototype.update=function(t){t&&(this.original=t),this.value=this.original.value,this.disabled=this.original.disabled,this.selected=this.original.selected,this.textContent=this.original.text},e.build=function(t){var e=document.createElement(n.is);return e.update(t),e},e.is="esl-select-item",kn([x()],e.prototype,"value",void 0),kn([I()],e.prototype,"selected",void 0),kn([I()],e.prototype,"disabled",void 0),n=kn([f("SelectItem")],e)}(N),$n=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),xn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._mutationObserver=new MutationObserver(e._onTargetMutation.bind(e)),e}return $n(e,t),Object.defineProperty(e.prototype,"$select",{get:function(){return this._$select},set:function(t){var e=this._$select;this._$select=t,this._onTargetChange(t,e)},enumerable:!1,configurable:!0}),e.prototype.connectedCallback=function(){t.prototype.connectedCallback.call(this),this.ownerDocument.addEventListener("reset",this._onReset)},e.prototype.disconnectedCallback=function(){t.prototype.disconnectedCallback.call(this),this.ownerDocument.removeEventListener("reset",this._onReset),this._mutationObserver.disconnect(),this._$select&&this._$select.removeEventListener("change",this._onChange)},e.prototype._onChange=function(t){},e.prototype._onListChange=function(){},e.prototype._onTargetChange=function(t,e){e&&e.removeEventListener("change",this._onChange),t&&t.addEventListener("change",this._onChange),this._mutationObserver.disconnect();var n=this.constructor;t&&this._mutationObserver.observe(t,n.observationConfig)},e.prototype._onTargetMutation=function(t){t.some((function(t){return t.addedNodes.length+t.removedNodes.length>0}))?this._onListChange():this._onChange()},e.prototype._onReset=function(t){var e=this;t.target&&t.target===this.form&&setTimeout((function(){return e._onChange(t)}))},Object.defineProperty(e.prototype,"multiple",{get:function(){return this.$select&&this.$select.multiple},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.$select?Array.from(this.$select.options):[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedOptions",{get:function(){return this.options.filter((function(t){return t.selected}))},enumerable:!1,configurable:!0}),e.prototype.getOption=function(t){return this.options.find((function(e){return e.value===t}))},e.prototype.setSelected=function(t,e){var n=this.getOption(t);n&&(n.selected=e),M.dispatch(this.$select,"change")},e.prototype.isSelected=function(t){var e=this.getOption(t);return!!e&&e.selected},e.prototype.hasSelected=function(){return this.options.some((function(t){return t.selected}))},e.prototype.isAllSelected=function(){return this.options.every((function(t){return t.selected||t.disabled}))},e.prototype.setAllSelected=function(t){if(!this.multiple)return!1;this.options.forEach((function(e){return e.selected=!e.disabled&&t})),M.dispatch(this.$select,"change")},Object.defineProperty(e.prototype,"value",{get:function(){var t;return null===(t=this.$select)||void 0===t?void 0:t.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"values",{get:function(){return this.selectedOptions.map((function(t){return t.value}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"form",{get:function(){var t;return null===(t=this.$select)||void 0===t?void 0:t.form},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){var t;return null===(t=this.$select)||void 0===t?void 0:t.name},set:function(t){this.$select&&(this.$select.name=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){var t;return null===(t=this.$select)||void 0===t?void 0:t.required},set:function(t){this.$select&&(this.$select.required=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"validity",{get:function(){var t;return null===(t=this.$select)||void 0===t?void 0:t.validity},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"validationMessage",{get:function(){var t;return null===(t=this.$select)||void 0===t?void 0:t.validationMessage},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"willValidate",{get:function(){var t;return null===(t=this.$select)||void 0===t?void 0:t.willValidate},enumerable:!1,configurable:!0}),e.prototype.checkValidity=function(){var t;return null===(t=this.$select)||void 0===t?void 0:t.checkValidity()},e.prototype.reportValidity=function(){var t;return null===(t=this.$select)||void 0===t?void 0:t.reportValidity()},e.prototype.setCustomValidity=function(t){var e;null===(e=this.$select)||void 0===e||e.setCustomValidity(t)},e.observationConfig={subtree:!0,attributes:!0,attributeFilter:["value","selected","disabled"],childList:!0,characterData:!0},function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);i>3&&s&&Object.defineProperty(e,n,s)}([d],e.prototype,"_onReset",null),e}(N),In=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Mn=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Dn=function(t){function e(){var e=t.call(this)||this;return e.$list=document.createElement("div"),e.$list.setAttribute("role","list"),e.$list.classList.add("esl-scrollable-content"),e.$list.classList.add("esl-select-list-container"),e.$scroll=document.createElement(An.is),e.$scroll.target="::prev",e.$selectAll=document.createElement(Rn.is),e.$selectAll.classList.add("esl-select-all-item"),e}return In(e,t),Object.defineProperty(e,"observedAttributes",{get:function(){return["select-all-label","disabled"]},enumerable:!1,configurable:!0}),e.register=function(){Rn.register(),t.register.call(this)},e.prototype.attributeChangedCallback=function(t,e,n){this.connected&&n!==e&&("select-all-label"===t&&(this.$selectAll.textContent=n),"disabled"===t&&this._updateDisabled())},e.prototype.connectedCallback=function(){t.prototype.connectedCallback.call(this),this.appendChild(this.$selectAll),this.appendChild(this.$list),this.appendChild(this.$scroll),this.bindSelect(),this.bindEvents(),this._updateDisabled()},e.prototype.disconnectedCallback=function(){t.prototype.disconnectedCallback.call(this),this.appendChild(this.$selectAll),this.appendChild(this.$list),this.appendChild(this.$scroll),this.unbindEvents()},e.prototype.bindSelect=function(){var t=this.querySelector("[esl-select-target]");t&&t instanceof HTMLSelectElement&&(this.$select=t)},e.prototype.bindEvents=function(){this.$select&&(this.addEventListener("click",this._onClick),this.addEventListener("keydown",this._onKeydown))},e.prototype.unbindEvents=function(){this.$select&&(this.removeEventListener("click",this._onClick),this.removeEventListener("keydown",this._onKeydown))},e.prototype._renderItems=function(){this.$select&&(this.$list.innerHTML="",this.$items=this.options.map(Rn.build),this.pinSelected?(this._renderGroup(this.$items.filter((function(t){return t.selected}))),this._renderGroup(this.$items.filter((function(t){return!t.selected})))):this._renderGroup(this.$items),this.toggleAttribute("multiple",this.multiple))},e.prototype._renderGroup=function(t){var e=this;t.forEach((function(t){return e.$list.appendChild(t)}));var n=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s}(t.slice(-1),1)[0];n&&n.classList.add("last-in-group")},e.prototype._updateSelectAll=function(){this.multiple?(this.$selectAll.tabIndex=0,this.$selectAll.selected=this.isAllSelected(),this.$selectAll.textContent=this.selectAllLabel):this.$selectAll.removeAttribute("tabindex")},e.prototype._updateDisabled=function(){this.setAttribute("aria-disabled",String(this.disabled)),this.$select&&(this.$select.disabled=this.disabled)},e.prototype._onTargetChange=function(e,n){t.prototype._onTargetChange.call(this,e,n),this._updateSelectAll(),this._renderItems(),this.bindEvents()},e.prototype._onChange=function(){this._updateSelectAll(),this.$items.forEach((function(t){return t.update()}))},e.prototype._onListChange=function(){this._renderItems()},e.prototype._onClick=function(t){if(!this.disabled){var e=t.target;e&&e instanceof Rn&&(e.classList.contains("esl-select-all-item")?this.setAllSelected(!e.selected):this.setSelected(e.value,!e.selected))}},e.prototype._onKeydown=function(t){if([he,fe].includes(t.key)&&(this._onClick(t),t.preventDefault()),[ve,be].includes(t.key)){var e=this.$items.indexOf(document.activeElement),n=this.$items.length,o=t.key===ve?-1:1;if(-1===e)return;this.$items[(e+o+n)%n].focus(),t.preventDefault()}},e.is="esl-select-list",Mn([x({defaultValue:"Select All"})],e.prototype,"selectAllLabel",void 0),Mn([I()],e.prototype,"disabled",void 0),Mn([I()],e.prototype,"pinSelected",void 0),Mn([d],e.prototype,"_onTargetChange",null),Mn([d],e.prototype,"_onChange",null),Mn([d],e.prototype,"_onListChange",null),Mn([d],e.prototype,"_onClick",null),Mn([d],e.prototype,"_onKeydown",null),Mn([f("SelectList")],e)}(xn),Nn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Hn=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Vn=function(t){function e(){var e=t.call(this)||this;return e._deferredRerender=pe((function(){return e.render()})),e.$remove=document.createElement("button"),e.$remove.type="button",e.$remove.setAttribute("aria-label","Clear"),e.$remove.classList.add("esl-select-clear-btn"),e.$remove.classList.add("icon-nav-close-menu"),e.$container=document.createElement("div"),e.$container.classList.add("esl-select-text-container"),e.$text=document.createElement("span"),e.$text.classList.add("esl-select-text"),e.$container.appendChild(e.$text),e.$rest=document.createElement("span"),e.$rest.classList.add("esl-select-text"),e.$container.appendChild(e.$rest),e}return Nn(e,t),Object.defineProperty(e.prototype,"owner",{get:function(){return this.parentElement instanceof Gn?this.parentElement:null},enumerable:!1,configurable:!0}),e.prototype.connectedCallback=function(){var n=this;t.prototype.connectedCallback.call(this),this.appendChild(this.$container),this.appendChild(this.$remove),this.bindEvents(),customElements.whenDefined(e.is).then((function(){return n.render()}))},e.prototype.disconnectedCallback=function(){t.prototype.disconnectedCallback.call(this),this.removeChild(this.$container),this.removeChild(this.$remove),this.unbindEvents()},e.prototype.bindEvents=function(){this.owner&&(this.owner.addEventListener("esl:change:value",this.render),this.$remove.addEventListener("click",this._onClear),window.addEventListener("resize",this._deferredRerender))},e.prototype.unbindEvents=function(){this.owner&&(this.owner.removeEventListener("esl:change:value",this.render),this.$remove.removeEventListener("click",this._onClear),window.removeEventListener("resize",this._deferredRerender))},e.prototype.render=function(){if(this.owner){var t=this.owner.selectedOptions;this.hasValue=!!t.length,this.toggleAttribute("multiple",this.owner.multiple),this.applyItems(t.map((function(t){return t.text})))}},e.prototype.apply=function(t,e){var n=t.length,o=n-e,r={rest:o,length:n,limit:e};this.$text.textContent=t.slice(0,e).join(", "),this.$rest.textContent=o>0?$(this.moreLabelFormat||"",r):""},e.prototype.applyItems=function(t){var e=0;do{this.apply(t,++e)}while(e<=t.length&&this.$container.scrollWidth<=this.$container.clientWidth);this.apply(t,e-1)},e.prototype._onClear=function(t){this.owner&&(this.owner.setAllSelected(!1),t.stopPropagation(),t.preventDefault())},e.is="esl-select-renderer",Hn([x()],e.prototype,"emptyText",void 0),Hn([x()],e.prototype,"moreLabelFormat",void 0),Hn([I()],e.prototype,"hasValue",void 0),Hn([d],e.prototype,"render",null),Hn([d],e.prototype,"_onClear",null),e}(N),zn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Un=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Bn=function(t){function e(){var e=t.call(this)||this;return e._deferredUpdatePosition=pe((function(){return e.updatePosition()})),e.closeOnEsc=!0,e.closeOnOutsideAction=!0,e.$list=document.createElement(Dn.is),e}return zn(e,t),e.register=function(){Dn.register(),t.register.call(this)},e.prototype.setInitialState=function(){},e.prototype.connectedCallback=function(){t.prototype.connectedCallback.call(this),this.appendChild(this.$list)},e.prototype.disconnectedCallback=function(){t.prototype.disconnectedCallback.call(this),this.removeChild(this.$list)},e.prototype.bindEvents=function(){t.prototype.bindEvents.call(this),window.addEventListener("resize",this._deferredUpdatePosition)},e.prototype.unbindEvents=function(){t.prototype.unbindEvents.call(this),window.removeEventListener("resize",this._deferredUpdatePosition)},e.prototype.onShow=function(e){document.body.appendChild(this),this._disposeTimeout&&window.clearTimeout(this._disposeTimeout),this.$list.pinSelected=this.$owner.pinSelected,this.$list.selectAllLabel=this.$owner.selectAllLabel,this.$list.$select=this.$owner.$select,t.prototype.onShow.call(this,e);var n=this.querySelector("[tabindex]");null==n||n.focus({preventScroll:!0}),this.updatePosition()},e.prototype.onHide=function(e){var n=this,o=this.activator;t.prototype.onHide.call(this,e),this._disposeTimeout=window.setTimeout((function(){n.parentNode===document.body&&document.body.removeChild(n)}),1e3),o&&setTimeout((function(){return o.focus({preventScroll:!0})}),0)},e.prototype._onKeyboardEvent=function(e){t.prototype._onKeyboardEvent.call(this,e),"Tab"===e.key&&this._onTabKey(e)},e.prototype._onTabKey=function(t){var e=this.querySelectorAll("[tabindex]"),n=e[0],o=e[e.length-1];n&&t.target===o&&!t.shiftKey&&n.focus(),o&&t.target===n&&t.shiftKey&&o.focus()},e.prototype.updatePosition=function(){if(this.activator){var t=window.scrollY||window.pageYOffset,e=this.activator.getBoundingClientRect();this.style.top=t+e.top+e.height+"px",this.style.left=e.left+"px",this.style.width=e.width+"px"}},e.is="esl-select-dropdown",Un([Fe()],e.prototype,"closeOnEsc",void 0),Un([Fe()],e.prototype,"closeOnOutsideAction",void 0),Un([d],e.prototype,"_onKeyboardEvent",null),Un([d],e.prototype,"updatePosition",null),e}(Me),Fn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),qn=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Gn=function(t){function e(){var e=t.call(this)||this;return e.$renderer=document.createElement(Vn.is),e.$dropdown=document.createElement(Bn.is),e}return Fn(e,t),Object.defineProperty(e,"observedAttributes",{get:function(){return["disabled"]},enumerable:!1,configurable:!0}),e.register=function(){Bn.register(),Vn.register(),t.register.call(this)},e.prototype.attributeChangedCallback=function(t){"disabled"===t&&this._updateDisabled()},e.prototype.connectedCallback=function(){t.prototype.connectedCallback.call(this),this.$select=this.querySelector("[esl-select-target]"),this.$select&&(this._prepare(),this._updateDisabled(),this.bindEvents(),this._onUpdate())},e.prototype.disconnectedCallback=function(){t.prototype.disconnectedCallback.call(this),this.unbindEvents(),this._dispose()},e.prototype.focus=function(t){this.$select.focus(t)},e.prototype.update=function(t){void 0===t&&(t=!0),this._onUpdate(),t&&M.dispatch(this,"esl:change:value",{detail:{event:null}})},e.prototype.bindEvents=function(){this.addEventListener("click",this._onClick),this.addEventListener("keydown",this._onKeydown),this.addEventListener("focusout",this._onUpdate),this.$dropdown.addEventListener("esl:show",this._onPopupStateChange),this.$dropdown.addEventListener("esl:hide",this._onPopupStateChange)},e.prototype.unbindEvents=function(){this.removeEventListener("click",this._onClick),this.removeEventListener("keydown",this._onKeydown),this.removeEventListener("focusout",this._onUpdate),this.$dropdown.removeEventListener("esl:show",this._onPopupStateChange),this.$dropdown.removeEventListener("esl:hide",this._onPopupStateChange)},e.prototype._prepare=function(){this.$renderer.className=this.$select.className,this.$renderer.emptyText=this.placeholder,this.$renderer.moreLabelFormat=this.moreLabelFormat,this.$dropdown.$owner=this,this.appendChild(this.$renderer)},e.prototype._dispose=function(){this.$select.className=this.$renderer.className,this.removeChild(this.$renderer)},e.prototype._updateDisabled=function(){this.setAttribute("aria-disabled",String(this.disabled)),this.$select&&(this.$select.disabled=this.disabled,this.disabled&&this.open&&this.$dropdown.hide())},e.prototype._onChange=function(t){this._onUpdate(),M.dispatch(this,"esl:change:value",{detail:{event:t}})},e.prototype._onUpdate=function(){var t=this.hasSelected();this.toggleAttribute("has-value",t),w.toggle(this,this.hasValueClass,t);var e=document.activeElement,n=this.open||e&&this.contains(e);w.toggle(this,this.hasFocusClass,!!n)},e.prototype._onClick=function(){this.disabled||this.$dropdown.toggle(!this.$dropdown.open,{activator:this,initiator:"select"})},e.prototype._onKeydown=function(t){[he,fe].includes(t.key)&&(this.click(),t.preventDefault())},e.prototype._onPopupStateChange=function(t){t.target===this.$dropdown&&(this.open=this.$dropdown.open,this._onUpdate())},e.is="esl-select",qn([x()],e.prototype,"placeholder",void 0),qn([x()],e.prototype,"hasValueClass",void 0),qn([x()],e.prototype,"hasFocusClass",void 0),qn([x({defaultValue:"Select All"})],e.prototype,"selectAllLabel",void 0),qn([x({defaultValue:"+ {rest} more..."})],e.prototype,"moreLabelFormat",void 0),qn([I()],e.prototype,"open",void 0),qn([I()],e.prototype,"disabled",void 0),qn([I()],e.prototype,"pinSelected",void 0),qn([d],e.prototype,"_onChange",null),qn([d],e.prototype,"_onUpdate",null),qn([d],e.prototype,"_onClick",null),qn([d],e.prototype,"_onKeydown",null),qn([d],e.prototype,"_onPopupStateChange",null),qn([f("Select")],e)}(xn),Wn=window||n.g,Kn=Wn.__esl_sequences__||new Map;Wn.__esl_sequences__=Kn;var Yn=function(t){return void 0===t&&(t=""),t+Date.now().toString(32)+"-"+Math.round(1024*Math.random()*1024).toString(32)};function Qn(t){return t.map((function(t){return{index:""+t.index,text:t.html}}))}var Xn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Zn=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Jn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._notes=[],e}var n;return Xn(e,t),n=e,Object.defineProperty(e.prototype,"scopeEl",{get:function(){return te.first(this.scopeTarget,this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"footnotesList",{get:function(){return this.reindex(),"enable"!==this.grouping?Qn(this._notes):function(t){var e=new Map;Qn(t).forEach((function(t){var n=t.index,o=t.text;e.set(o,e.has(o)?e.get(o)+", "+n:n)}));var n=[];return e.forEach((function(t,e){return n.push({index:t,text:e})})),n}(this._notes)},enumerable:!1,configurable:!0}),e.prototype.reindex=function(){this._notes=this._notes.sort((function(t,e){var n=t.getBoundingClientRect(),o=e.getBoundingClientRect();return n.top-o.top||n.left-o.left})),this._notes.forEach((function(t,e){return t.setIndex(e+1)}))},e.prototype.connectedCallback=function(){t.prototype.connectedCallback.call(this),this.bindEvents(),this._sendRequestToNote()},e.prototype.disconnectedCallback=function(){t.prototype.disconnectedCallback.call(this),this.unbindEvents(),this._notes.forEach((function(t){return t.unlink()})),this._notes=[]},e.prototype.bindEvents=function(){this.scopeEl&&this.scopeEl.addEventListener(n.eventNs+":response",this._onNoteSubscribe),this.addEventListener("click",this._onClick)},e.prototype.unbindEvents=function(){this.scopeEl&&this.scopeEl.removeEventListener(n.eventNs+":response",this._onNoteSubscribe),this.removeEventListener("click",this._onClick)},e.prototype.linkNote=function(t){if(!this._notes.includes(t)){this._notes.push(t);var e=+function(t,e){void 0===e&&(e=t);var n=(Kn.get(t)||0)+1;return Kn.set(t,n),e+n}(n.is,"");t.link(this,e)}},e.prototype.unlinkNote=function(t){this._notes=this._notes.filter((function(e){return e!==t})),this.update()},e.prototype.update=function(){this.innerHTML=this.buildItems()},e.prototype.buildItems=function(){var t=this;return'<ul class="esl-footnotes-items">'+this.footnotesList.map((function(e){return t.buildItem(e)})).join("")+"</ul>"},e.prototype.buildItem=function(t){var e=""+this.buildItemIndex(t)+this.buildItemText(t)+this.buildItemBack(t);return'<li class="esl-footnotes-item" data-order="'+t.index+'">'+e+"</li>"},e.prototype.buildItemIndex=function(t){return'<span class="esl-footnotes-index">'+t.index+"</span>"},e.prototype.buildItemText=function(t){return'<span class="esl-footnotes-text">'+t.text+"</span>"},e.prototype.buildItemBack=function(t){return'<span class="esl-footnotes-back-to-note" tabindex="0"></span>'},e.prototype._onNoteSubscribe=function(t){var e=t.target;this.linkNote(e),this.update(),t.stopImmediatePropagation()},e.prototype._onClick=function(t){var e,n=t.target;if(n&&n.classList.contains("esl-footnotes-back-to-note")){var o=null===(e=n.closest(".esl-footnotes-item"))||void 0===e?void 0:e.getAttribute("data-order"),r=null==o?void 0:o.split(",").map((function(t){return+t}));r&&this._onBackToNote(r)}},e.prototype._onBackToNote=function(t){var e=t[t.length-1];this._notes.forEach((function(n){n.highlight(t.includes(n.index)),n.index===e&&n.activate()}))},e.prototype.turnOffHighlight=function(t){this._notes.filter((function(e){return t.html===e.html})).forEach((function(t){return t.highlight(!1)}))},e.prototype._sendRequestToNote=function(){M.dispatch(this,n.eventNs+":request")},e.is="esl-footnotes",e.eventNs="esl:footnotes",Zn([x({defaultValue:"::parent"})],e.prototype,"scopeTarget",void 0),Zn([x({defaultValue:"enable"})],e.prototype,"grouping",void 0),Zn([G()],e.prototype,"scopeEl",null),Zn([d],e.prototype,"_onNoteSubscribe",null),Zn([d],e.prototype,"_onClick",null),n=Zn([f("Footnotes")],e)}(N),to=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),eo=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},no=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return to(e,t),n=e,Object.defineProperty(e,"sharedInstance",{get:function(){return document.createElement("esl-tooltip")},enumerable:!1,configurable:!0}),e.show=function(t){void 0===t&&(t={}),n.sharedInstance.hide(t),n.sharedInstance.show(t)},e.hide=function(t){void 0===t&&(t={}),n.sharedInstance.hide(t)},e.prototype.connectedCallback=function(){this.disableArrow||this._appendArrow(),t.prototype.connectedCallback.call(this),this.classList.add(en.is)},e.prototype.setInitialState=function(){},e.prototype._createArrow=function(){var t=document.createElement("span");return t.className="esl-popup-arrow",t},e.prototype._appendArrow=function(){this.$arrow=this._createArrow(),this.appendChild(this.$arrow)},e.prototype.onShow=function(e){e.disableArrow&&(this.disableArrow=e.disableArrow),e.text&&(this.innerText=e.text),e.html&&(this.innerHTML=e.html),e.extraClass&&w.add(this,e.extraClass),document.body.appendChild(this),t.prototype.onShow.call(this,e),this._updateActivatorState(!0)},e.prototype.onHide=function(e){this._updateActivatorState(!1),t.prototype.onHide.call(this,e),document.body.removeChild(this),e.extraClass&&w.remove(this,e.extraClass)},e.prototype._updateActivatorState=function(t){var e;null===(e=this.activator)||void 0===e||e.toggleAttribute("tooltip-shown",t)},e.is="esl-tooltip",eo([x({defaultValue:"top"})],e.prototype,"position",void 0),eo([x({defaultValue:"fit"})],e.prototype,"behavior",void 0),eo([I()],e.prototype,"disableArrow",void 0),eo([G()],e.prototype,"_createArrow",null),eo([G()],e,"sharedInstance",null),n=eo([f("Tooltip")],e)}(en),oo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ro=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},io=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},so=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},ao=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return oo(e,t),Object.defineProperty(e.prototype,"allowHover",{get:function(){return Ot.hasHover&&Nt.for(this.trackHover).matches},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allowClick",{get:function(){return Nt.for(this.trackClick).matches},enumerable:!1,configurable:!0}),Object.defineProperty(e,"observedAttributes",{get:function(){return["tooltip-shown"]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),e.prototype.connectedCallback=function(){this.html||(this.html=this.innerHTML),t.prototype.connectedCallback.call(this),this.bindEvents(),this._sendResponseToFootnote()},e.prototype.disconnectedCallback=function(){var e;t.prototype.disconnectedCallback.call(this),this.unbindEvents(),null===(e=this._$footnotes)||void 0===e||e.unlinkNote(this),this.restore()},e.prototype.attributeChangedCallback=function(t,e,n){var o;this.connected&&e!==n&&"tooltip-shown"===t&&null===n&&(null===(o=this._$footnotes)||void 0===o||o.turnOffHighlight(this))},e.prototype.bindEvents=function(){document.body.addEventListener(Jn.eventNs+":request",this._onFootnotesReady),this.addEventListener("click",this._onClick),this.addEventListener("keydown",this._onKeydown),this.addEventListener("mouseenter",this._onMouseEnter),this.addEventListener("mouseleave",this._onMouseLeave)},e.prototype.unbindEvents=function(){document.body.removeEventListener(Jn.eventNs+":request",this._onFootnotesReady),this.removeEventListener("click",this._onClick),this.removeEventListener("keydown",this._onKeydown),this.removeEventListener("mouseenter",this._onMouseEnter),this.removeEventListener("mouseleave",this._onMouseLeave)},e.prototype.activate=function(){var t,e,n=this;(t=this,e={behavior:"smooth",block:"nearest"},t.scrollIntoView(e),new Promise((function(e,n){var o=new IntersectionObserver((function(n){(function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s})(n,1)[0].isIntersecting&&(o.unobserve(t),e())}));o.observe(t)}))).then((function(){return n.showTooltip()}))},e.prototype.highlight=function(t){void 0===t&&(t=!0),this.classList.toggle("highlight",t)},e.prototype.link=function(t,e){this.linked=!0,this._$footnotes=t,this.setIndex(e),this.tabIndex=0},e.prototype.unlink=function(){this.restore(),this._sendResponseToFootnote()},e.prototype.setIndex=function(t){this._index=t,this.innerHTML=""+t},e.prototype.restore=function(){this.linked=!1,this._$footnotes=null,this.innerHTML=this.html,this.tabIndex=-1},e.prototype.mergeToggleableParams=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object.assign.apply(Object,so([{initiator:"note",activator:this,html:this.html}],io(t),!1))},e.prototype.showTooltip=function(t){void 0===t&&(t={});var e=this.mergeToggleableParams({},t);no.show(e),this.highlight()},e.prototype.hideTooltip=function(t){void 0===t&&(t={});var e=this.mergeToggleableParams({},t);no.hide(e)},e.prototype.toggleTooltip=function(t,e){void 0===t&&(t={}),void 0===e&&(e=!this.tooltipShown),e?this.showTooltip(t):this.hideTooltip(t)},e.prototype._onClick=function(t){if(this.allowClick)return t.preventDefault(),this.toggleTooltip({event:t})},e.prototype._onKeydown=function(t){if([he,fe].includes(t.key))return t.preventDefault(),this.toggleTooltip({event:t})},e.prototype._onMouseEnter=function(t){this.allowHover&&(this.showTooltip({event:t}),t.preventDefault())},e.prototype._onMouseLeave=function(t){this.allowHover&&(this.hideTooltip({event:t,trackHover:!0}),t.preventDefault())},e.prototype._onFootnotesReady=function(t){this.linked||this._sendResponseToFootnote()},e.prototype._sendResponseToFootnote=function(){M.dispatch(this,Jn.eventNs+":response")},e.is="esl-note",ro([I()],e.prototype,"linked",void 0),ro([I()],e.prototype,"tooltipShown",void 0),ro([x()],e.prototype,"html",void 0),ro([x({defaultValue:"all"})],e.prototype,"trackClick",void 0),ro([x({defaultValue:"all"})],e.prototype,"trackHover",void 0),ro([Be],e.prototype,"connectedCallback",null),ro([d],e.prototype,"_onClick",null),ro([d],e.prototype,"_onKeydown",null),ro([d],e.prototype,"_onMouseEnter",null),ro([d],e.prototype,"_onMouseLeave",null),ro([d],e.prototype,"_onFootnotesReady",null),ro([f("Note")],e)}(N),co=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),lo=(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._state=we.UNINITIALIZED,e}co(e,t),e.parseUrl=function(t){try{if(!t)return null;var e=new URL(t).protocol;return"http:"!==e&&"https:"!==e?null:{mediaSrc:t}}catch(t){return null}},e.prototype.buildIframe=function(){var t=document.createElement("iframe");return t.id="esl-media-iframe-"+Yn(),t.className="esl-media-inner esl-media-iframe",t.title=this.config.title,t.setAttribute("aria-label",this.config.title),t.setAttribute("frameborder","0"),t.setAttribute("tabindex","0"),t.setAttribute("scrolling","no"),t.setAttribute("allowfullscreen","yes"),t.toggleAttribute("playsinline",this.config.playsinline),t.src=this.config.mediaSrc||"",t},e.prototype.bind=function(){var t=this;this._state===we.UNINITIALIZED&&(this._ready=new Promise((function(e,n){t._el=t.buildIframe(),t._el.onload=function(){return e(t)},t._el.onerror=function(t){return n(t)},t._state=we.UNSTARTED,t.component.appendChild(t._el)})),this._ready.then((function(){t._state=we.PLAYING,t.component._onReady(),t.component._onPlay()})),this._ready.catch((function(e){return t.component._onError(e)})))},e.prototype.unbind=function(){this.component._onDetach(),this._state=we.UNINITIALIZED,t.prototype.unbind.call(this)},Object.defineProperty(e.prototype,"ready",{get:function(){return Promise.resolve()},enumerable:!1,configurable:!0}),e.prototype.focus=function(){this._el&&this._el.contentWindow&&this._el.contentWindow.focus()},Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultAspectRatio",{get:function(){return 0},enumerable:!1,configurable:!0}),e.prototype.seekTo=function(t){console.error("[ESLMedia] Unsupported action: can not execute seekTo on abstract iframe provider")},e.prototype.play=function(){this.state===we.UNINITIALIZED&&this.bind()},e.prototype.pause=function(){this.unbind()},e.prototype.stop=function(){this.unbind()},e.providerName="iframe",e=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([Pe.register],e)}(Pe),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),uo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return lo(e,t),e.parseUrl=function(t){return this.urlPattern.test(t)?{mediaSrc:t}:null},e.applyElementSettings=function(t,e){return t.classList.add("esl-media-inner"),t.autoplay=e.autoplay,t.preload=e.preload||"auto",t.loop=e.loop,t.muted=e.muted,t.controls=e.controls,t.tabIndex=0,t.toggleAttribute("playsinline",e.playsinline),t},e.prototype.onConfigChange=function(n,o){t.prototype.onConfigChange.call(this,n,o),e.applyElementSettings(this._el,this.config)},e.prototype.bind=function(){this._el=this.createElement(),e.applyElementSettings(this._el,this.config),this.component.appendChild(this._el),this.bindListeners()},e.prototype.bindListeners=function(){var t=this;this._el.addEventListener("loadedmetadata",(function(){return t.component._onReady()})),this._el.addEventListener("play",(function(){return t.component._onPlay()})),this._el.addEventListener("pause",(function(){return t.component._onPaused()})),this._el.addEventListener("ended",(function(){return t.component._onEnded()})),this._el.addEventListener("error",(function(e){return t.component._onError(e)}))},e.prototype.unbind=function(){this.component._onDetach(),t.prototype.unbind.call(this)},Object.defineProperty(e.prototype,"ready",{get:function(){return Promise.resolve()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._el?this._el.ended?we.ENDED:this._el.played&&this._el.played.length?this._el.paused?we.PAUSED:we.PLAYING:we.UNSTARTED:we.UNINITIALIZED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._el?this._el.duration:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._el?this._el.currentTime:0},enumerable:!1,configurable:!0}),e.prototype.seekTo=function(t){this._el.currentTime=t},e.prototype.play=function(){return this._el.play()},e.prototype.pause=function(){return this._el.pause()},e.prototype.stop=function(){this._el.pause(),this._el.currentTime=0},e}(Pe),po=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ho=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}po(e,t),e.prototype.createElement=function(){var t=document.createElement("audio");return t.src=this.config.mediaSrc||"",t},Object.defineProperty(e.prototype,"defaultAspectRatio",{get:function(){return 0},enumerable:!1,configurable:!0}),e.providerName="audio",e.urlPattern=/\.(mp3|wav|aac)(\?|$)/,e=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([Pe.register],e)}(uo),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}());function fo(t,e){return new Promise((function(n,o){var r=document.getElementById(t)||function(t,e){var n=document.createElement("script");return n.id=t,n.async=!0,n.src=e,n}(t,e);switch(r.getAttribute("state")){case"success":n(new Event("load"));break;case"error":o(new Event("error"));break;default:r.addEventListener("load",(function(t){r.setAttribute("state","success"),n(t)})),r.addEventListener("error",(function(t){r.setAttribute("state","error"),o(t)}))}if(!r.parentNode){var i=document.querySelector("script")||document.querySelector("head title");i&&i.parentNode?i.parentNode.insertBefore(r,i):o("Page document structure is incorrect")}}))}!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}ho(e,t),e.prototype.createElement=function(){var t=document.createElement("video");return t.src=this.config.mediaSrc||"",t},Object.defineProperty(e.prototype,"defaultAspectRatio",{get:function(){return this._el.videoWidth/this._el.videoHeight},enumerable:!1,configurable:!0}),e.providerName="video",e.urlPattern=/\.(mp4|webm|ogv|mov)(\?|$)/,e=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([Pe.register],e)}(uo);var yo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),vo=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;yo(e,t),n=e,e.parseUrl=function(t){if(this.providerRegexp.test(t)){var e=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s}(t.match(this.idRegexp)||[],2)[1];return e?{mediaId:e}:null}return null},e.getCoreApi=function(){return n._coreApiPromise||(n._coreApiPromise=new Promise((function(t){if(window.YT&&window.YT.Player)return t(window.YT);fo("YT_API_SOURCE","//www.youtube.com/iframe_api");var e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){try{"function"==typeof e&&e.apply(window)}catch(t){}return t(window.YT)}}))),n._coreApiPromise},e.mapOptions=function(t){return{enablejsapi:1,origin:location.origin,rel:0,showinfo:0,iv_load_policy:0,autoplay:Number(t.autoplay),controls:Number(t.controls),playsinline:Number(t.playsinline),disablekb:Number(!t.controls),autohide:Number(!t.controls)}},e.buildIframe=function(t){var e=document.createElement("div");return e.id="esl-media-yt-"+Yn(),e.className="esl-media-inner esl-media-youtube",e.title=t.title,e.setAttribute("aria-label",e.title),e.setAttribute("frameborder","0"),e.setAttribute("tabindex","0"),e.setAttribute("allowfullscreen","yes"),e},e.prototype.bind=function(){var t=this;this._el=n.buildIframe(this.config),this.component.appendChild(this._el),this._ready=n.getCoreApi().then((function(){return t.onCoreApiReady()})).then((function(){return t.onPlayerReady()})).catch((function(e){return t.component._onError(e)}))},e.prototype.onCoreApiReady=function(){var t=this;return new Promise((function(e,o){console.debug("[ESL]: Media Youtube Player initialization for ",t),t._api=new YT.Player(t._el.id,{videoId:t.config.mediaId,events:{onError:function(t){return o(t)},onReady:function(){return e(t)},onStateChange:function(e){return t._onStateChange(e)}},playerVars:n.mapOptions(t.config)})}))},e.prototype.onPlayerReady=function(){console.debug("[ESL]: Media Youtube Player ready ",this),this._el=this._api.getIframe(),this.config.muted&&this._api.mute(),this.component._onReady()},e.prototype.unbind=function(){this.component._onDetach(),this._api&&this._api.destroy(),t.prototype.unbind.call(this)},e.prototype._onStateChange=function(t){switch(+t.data){case we.PLAYING:this.component._onPlay();break;case we.PAUSED:this.component._onPaused();break;case we.ENDED:this.config.loop?this._api.playVideo():this.component._onEnded()}},e.prototype.onConfigChange=function(e,n){t.prototype.onConfigChange.call(this,e,n),"muted"===e&&(n?this._api.mute():this._api.unMute())},e.prototype.focus=function(){this._el instanceof HTMLIFrameElement&&this._el.contentWindow&&this._el.contentWindow.focus()},Object.defineProperty(e.prototype,"state",{get:function(){return this._api&&"function"==typeof this._api.getPlayerState?this._api.getPlayerState():we.UNINITIALIZED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._api?this._api.getDuration():0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._api?this._api.getCurrentTime():0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultAspectRatio",{get:function(){return 1.7777777777777777},enumerable:!1,configurable:!0}),e.prototype.seekTo=function(t){this._api.seekTo(t,!1)},e.prototype.play=function(){this.state===we.ENDED&&this._api.seekTo(0,!1),this._api.playVideo()},e.prototype.pause=function(){this._api.pauseVideo()},e.prototype.stop=function(){this._api.stopVideo()},e.providerName="youtube",e.idRegexp=/(?:v\/|v=|vi=|vi\/|e\/|embed\/|user\/.*\/u\/\d+\/)([_0-9a-zA-Z-]+)/i,e.providerRegexp=/^\s*(?:http(?:s)?:\/\/)?(?:www\.)?(?:youtu\.be|youtube(-nocookie)?\.com)/i,e=n=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([Pe.register],e)}(Pe),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),go="BC_API_SOURCE",bo=(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.videojsClasses="video-js vjs-default-skin video-js-brightcove",e}vo(e,t),e.getAccount=function(t){return{playerId:t.getAttribute("player-id"),accountId:t.getAttribute("player-account")}},e.loadAPI=function(t){var e="//players.brightcove.net/"+t.accountId+"/"+t.playerId+"_default/index.min.js",n=document.getElementById(go);return n&&n.parentNode&&n.getAttribute("src")!==e&&n.parentNode.removeChild(n),fo(go,e)},e.prototype.buildVideo=function(){var t=document.createElement("video-js");return t.id="esl-media-brightcove-"+Yn(),t.className="esl-media-inner esl-media-brightcove "+this.videojsClasses,t.title=this.config.title,t.toggleAttribute("loop",this.config.loop),t.toggleAttribute("muted",this.config.muted),t.toggleAttribute("controls",this.config.controls),t.setAttribute("aria-label",t.title),t.setAttribute("data-embed","default"),t.setAttribute("data-video-id","ref:"+this.config.mediaId),t.toggleAttribute("playsinline",this.config.playsinline),this._account.playerId&&t.setAttribute("data-player",this._account.playerId),this._account.accountId&&t.setAttribute("data-account",this._account.accountId),t},e.prototype.$$fromEvent=function(t){var e=this;return this._api?new Promise((function(n,o){return e._api?e._api.one(t,n):o()})):Promise.reject()},e.prototype.onAPILoaded=function(){var t=this;if("function"!=typeof window.bc||"function"!=typeof window.videojs)throw new Error("Brightcove API is not in the global scope");return console.debug("ESL Media: Brightcove API init for ",this),this._api=window.bc(this._el),new Promise((function(e,n){return t._api?t._api.ready(e):n()}))},e.prototype.onAPIReady=function(){var t=this;return console.debug("ESL Media: Brightcove API is ready ",this),this._api.autoplay(this._autoplay||this.config.autoplay),this._api.on("play",(function(){return t.component._onPlay()})),this._api.on("pause",(function(){return t.component._onPaused()})),this._api.on("ended",(function(){return t.component._onEnded()})),this.component._onReady(),this.$$fromEvent("loadedmetadata")},e.prototype.bind=function(){var t=this,e=this.constructor;this._account=e.getAccount(this.component),this._el=this.buildVideo(),this.component.appendChild(this._el),this._ready=e.loadAPI(this._account).then((function(){return t.onAPILoaded()})).then((function(){return t.onAPIReady()})).catch((function(e){return t.component._onError(e)}))},e.prototype.unbind=function(){this.component._onDetach(),this._api&&this._api.dispose(),t.prototype.unbind.call(this)},e.prototype.onConfigChange=function(e,n){t.prototype.onConfigChange.call(this,e,n),"function"==typeof this._api[e]&&this._api[e](n)},e.prototype.focus=function(){this._api&&this._api.focus()},Object.defineProperty(e.prototype,"state",{get:function(){return this._api?this._api.ended()?we.ENDED:this._api.paused()?we.PAUSED:this._api.played()?we.PLAYING:we.UNSTARTED:we.UNINITIALIZED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultAspectRatio",{get:function(){return this._api?this._api.videoWidth()/this._api.videoHeight():0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._api?this._api.currentTime():0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._api?this._api.duration():0},enumerable:!1,configurable:!0}),e.prototype.seekTo=function(t){this._api.currentTime(t)},e.prototype.play=function(){this._api.play()},e.prototype.pause=function(){this._api.pause()},e.prototype.stop=function(){this._api.currentTime(0),this._api.pause()},e.prototype.safePlay=function(){return this._autoplay=!0,t.prototype.safePlay.call(this)},e.prototype.safeStop=function(){return this._autoplay=!0,t.prototype.safeStop.call(this)},e.providerName="brightcove",e=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([Pe.register],e)}(Pe),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),mo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bo(e,t),Object.defineProperty(e.prototype,"index",{get:function(){return this.parentNode?Array.prototype.indexOf.call(this.parentNode.children,this):-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return this.hasAttribute("active")},enumerable:!1,configurable:!0}),e.prototype._setActive=function(t){this.toggleAttribute("active",t)},Object.defineProperty(e.prototype,"first",{get:function(){return this.hasAttribute("first")},enumerable:!1,configurable:!0}),e.prototype._setFirst=function(t){this.toggleAttribute("first",t)},e}(N),_o=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),wo=function(t){this.carousel=t},Oo=null,Eo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.registry=new Map,e}return _o(e,t),Object.defineProperty(e,"instance",{get:function(){return null===Oo&&(Oo=new e),Oo},enumerable:!1,configurable:!0}),e.prototype.createViewInstance=function(t,e){var n=this.registry.get(t);return n?new n(e):null},e.prototype.registerView=function(t,e){if(this.registry.has(t))throw new Error("View with name "+t+" already defined");this.registry.set(t,e),this.fire(t,e)},e}(H),Co=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Po=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ao=function(t){function e(){var e=t.call(this)||this;return e._currentConfig={},e._plugins=new Map,e._onMatchChange=e.update.bind(e,!1),e._onRegistryChange=e._onRegistryChange.bind(e),e}var n;return Co(e,t),n=e,Object.defineProperty(e,"observedAttributes",{get:function(){return["config"]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$slidesArea",{get:function(){return this.querySelector("[data-slides-area]")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$slides",{get:function(){var t=this.$slidesArea&&this.$slidesArea.querySelectorAll(mo.is);return t?Array.from(t):[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this.$slides.length||0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeIndexes",{get:function(){return this.$slides.reduce((function(t,e,n){return e.active&&t.push(n),t}),[])},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeCount",{get:function(){return this.activeConfig.count||0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"firstIndex",{get:function(){var t=this.$slides.findIndex((function(t){return t.first}));return Math.max(t,0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeConfig",{get:function(){return this._currentConfig},set:function(t){this._currentConfig=Object.assign({},t)},enumerable:!1,configurable:!0}),e.prototype.goTo=function(t,e,n){var o=this;if(void 0===n&&(n=!1),!this.dataset.isAnimated&&(t<0&&(t=0),this.firstIndex!==t||n)){e||(e=t>this.firstIndex?t-this.firstIndex>(this.firstIndex-t+this.count)%this.count?"left":"right":this.firstIndex-t>=(t-this.firstIndex-t+this.count)%this.count?"right":"left");var r={bubbles:!0,detail:{direction:e}},i=this.$$fire("slide:change",r);if(this._view&&i&&this.firstIndex!==t&&this._view.goTo(t,e),this._view&&i){var s=0;for(this.$slides.forEach((function(e,n){e._setActive((t+o.count)%o.count<=n&&n<(t+o.activeCount+o.count)%o.count)}));s<this.activeCount;){var a=(t+s+this.count)%this.count;this.$slides[a]._setActive(!0),++s}"multiple"===this.activeConfig.view&&(this.$slides[this.firstIndex]._setFirst(!1),this.$slides[t]._setFirst(!0))}this.$$fire("slide:changed",r)}},e.prototype.prev=function(){this.goTo((this.firstIndex-this.activeCount+this.count)%this.count,"left")},e.prototype.next=function(){this.goTo((this.firstIndex+this.activeCount+this.count)%this.count,"right")},e.prototype.connectedCallback=function(){t.prototype.connectedCallback.call(this),this.update(!0),this.goTo(this.firstIndex,"",!0),this._bindEvents(),Eo.instance.addListener(this._onRegistryChange)},e.prototype.disconnectedCallback=function(){t.prototype.disconnectedCallback.call(this),this._unbindEvents(),Eo.instance.removeListener(this._onRegistryChange)},e.prototype.attributeChangedCallback=function(t,e,n){"config"===t&&(this.configRules=Ut.parse(this.config,Ut.OBJECT_PARSER),this.update(!0))},e.prototype._bindEvents=function(){this.addEventListener("click",this._onClick,!1)},e.prototype._unbindEvents=function(){this.removeEventListener("click",this._onClick,!1)},Object.defineProperty(e.prototype,"configRules",{get:function(){return this._configRules||(this.configRules=Ut.parse(this.config,Ut.OBJECT_PARSER)),this._configRules},set:function(t){this._configRules&&this._configRules.removeListener(this._onMatchChange),this._configRules=t,this._configRules.addListener(this._onMatchChange)},enumerable:!1,configurable:!0}),e.prototype.update=function(t){void 0===t&&(t=!1);var e=Object.assign({view:"multiple",count:1},this.configRules.activeValue);if(t||!P(this.activeConfig,e)){this.activeConfig=e;var n=this.activeConfig.view;n&&(this._view=Eo.instance.createViewInstance(n,this),(t||this.activeIndexes.length!==this.activeConfig.count)&&this._view&&this._view.draw())}},e.prototype.getNextGroup=function(t){var e=this.activeIndexes.length-1,n=Math.floor(this.activeIndexes[e]/this.activeCount),o=Math.ceil(this.count/this.activeCount);return(n+t+o)%o},e.prototype._onClick=function(t){var e=t.target.closest("[data-slide-target]");if(e&&e.dataset.slideTarget){var n=e.dataset.slideTarget;if("prev"===n)this.prev();else if("next"===n)this.next();else if("g"===n[0]){var o=+n.substr(1)-1,r=Math.floor(this.count/this.activeCount);this.goTo(o===r?this.count-this.activeCount:this.activeCount*o)}else this.goTo(+n-1)}},e.prototype._onRegistryChange=function(){this._view||this.update(!0)},e.prototype.addPlugin=function(t){t.carousel||this.appendChild(t)},e.prototype.removePlugin=function(t){"string"==typeof t&&(t=this._plugins.get(t)),t&&t.carousel===this&&t.parentNode&&t.parentNode.removeChild(t)},e.prototype._addPlugin=function(t){this._plugins.has(t.key)||(this._plugins.set(t.key,t),this.isConnected&&t.bind())},e.prototype._removePlugin=function(t){this._plugins.has(t.key)&&(t.unbind(),this._plugins.delete(t.key))},e.register=function(e){var o=this;mo.register((e||n.is)+"-slide"),customElements.whenDefined(mo.is).then((function(){return t.register.call(o,e)}))},e.Slide=mo,e.is="esl-carousel",Po([x()],e.prototype,"config",void 0),n=Po([f("Carousel")],e)}(N),To=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),jo=function(t){function e(e){return t.call(this,e)||this}return To(e,t),e.prototype.bind=function(){},e.prototype.draw=function(){var t=this.carousel,e=t.$slides,n=t.$slidesArea;if(n&&e.length){var o=getComputedStyle(e[this.carousel.firstIndex]),r=getComputedStyle(n),i=parseFloat(r.width)-parseFloat(o.marginLeft)-parseFloat(o.marginRight),s=-parseFloat(r.width)/this.carousel.firstIndex;e.forEach((function(t){t.style.minWidth=i+"px",t.style.left=s+"px"}))}},e.prototype.goTo=function(t,e){var n=this;if(this.carousel.firstIndex!==t){this.carousel.setAttribute("data-is-animated","true"),this.carousel.setAttribute("direction",e);var o=this.carousel.$slides[this.carousel.firstIndex],r=this.carousel.$slides[t];o.classList.add(e),r.classList.add(e),o.classList.add("prev"),o.addEventListener("animationend",(function(t){return n._cleanAnimation(t)})),r.addEventListener("animationend",(function(t){return n._cleanAnimation(t)}))}},e.prototype._cleanAnimation=function(t){var e=t.target,n=this.carousel.getAttribute("direction");n&&e.classList.remove(n),e.classList.remove("prev"),this.carousel.removeAttribute("data-is-animated")},e.prototype.unbind=function(){},e}(wo);Eo.instance.registerView("single",jo);var So=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Lo=function(t){function e(e){return t.call(this,e)||this}return So(e,t),e.prototype.bind=function(){},e.prototype.draw=function(){var t=this.carousel,e=t.$slides,n=t.$slidesArea;if(n&&e.length){var o=getComputedStyle(e[this.carousel.firstIndex]),r="none"!==o.transform?parseFloat(o.transform.split(",")[4]):0,i=getComputedStyle(n),s=parseFloat(i.width)/this.carousel.activeCount-parseFloat(o.marginLeft)-parseFloat(o.marginRight),a=0===this.carousel.firstIndex?-r:-parseFloat(i.width)/this.carousel.activeCount*this.carousel.firstIndex-r;e.forEach((function(t){t.style.minWidth=s+"px",t.style.left=a+"px"}))}},e.prototype.goTo=function(t,e){var n=this,o="right"===e?this.carousel.activeIndexes[0]:this.carousel.firstIndex,r=getComputedStyle(this.carousel.$slides[o]),i=parseFloat(r.width)+parseFloat(r.marginLeft)+parseFloat(r.marginRight),s=i*this.carousel.$slides.length,a=1e3*parseFloat(r.transitionDuration),c=parseFloat(r.left),l=parseFloat(r.transform.split(",")[4])||0;if(this.carousel.firstIndex===t)return 0;var u=0;"left"===e?u=(this.carousel.firstIndex-t+this.carousel.count)%this.carousel.count:"right"===e&&(u=(this.carousel.count-this.carousel.firstIndex+t)%this.carousel.count);for(var p=l-u*i*("left"===e?-1:1),h=[],f=0;f<this.carousel.activeCount;++f)h.push((t+f+this.carousel.count)%this.carousel.count);var d=h.filter((function(t){return n.carousel.activeIndexes.includes(t)})),y=0,v=u<this.carousel.activeCount?this.carousel.activeCount:u,g=function(o){var r=(t+o+b.carousel.count)%b.carousel.count,i=Math.min.apply(Math,function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}([],function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s}(b.carousel.activeIndexes),!1));if(y=r>=b.carousel.firstIndex&&"left"===e?c-s:r<=i&&"right"===e?c+s:c,d.includes(r)||(b.carousel.$slides[r].style.left=y+"px"),d.includes(r)){var l=h.indexOf(r),u="right"===e?a/b.carousel.activeCount*l:a/b.carousel.activeCount*(b.carousel.activeCount-l-1),p=y;setTimeout((function(){n.carousel.$slides[r].style.left=p+"px"}),u)}},b=this;for(f=0;f<v;++f)g(f);this.carousel.$slides.forEach((function(t){t.style.transform="translateX("+p+"px)";var o=t.index;if(d.includes(o)){var r=h.indexOf(o),i="right"===e?a/n.carousel.activeCount*r:a/n.carousel.activeCount*(n.carousel.activeCount-r-1);setTimeout((function(){n.carousel.$slides[o].style.transform="translateX("+p+"px)"}),i)}})),this.carousel.setAttribute("data-is-animated","true"),setTimeout((function(){n.carousel.removeAttribute("data-is-animated")}),a)},e.prototype.unbind=function(){this.carousel.$slides.forEach((function(t){t.style.transform="none",t.style.left="none"}))},e}(wo);Eo.instance.registerView("multiple",Lo);var ko=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ro=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ko(e,t),e.prototype.findCarouselOwner=function(){return this.constructor.freePlacement?this.closest(Ao.is):this.parentNode},Object.defineProperty(e.prototype,"key",{get:function(){return this.nodeName.toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"carousel",{get:function(){return this._carousel},enumerable:!1,configurable:!0}),e.prototype.connectedCallback=function(){var t=this.findCarouselOwner();if(!(t instanceof Ao))throw new Error("Invalid esl-carousel-plugin placement: plugin element should be placed under the esl-carousel node");this._carousel=t,this._carousel._addPlugin(this)},e.prototype.disconnectedCallback=function(){this.carousel&&(this.carousel._removePlugin(this),delete this._carousel)},e.register=function(e){var n=this;customElements.whenDefined(Ao.is).then((function(){return t.register.call(n,e)}))},e.freePlacement=!1,e}(N),$o=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),xo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._onUpdate=function(){return e.rerender()},e}return $o(e,t),e.prototype.bind=function(){this.rerender(),this.carousel.addEventListener("esl:slide:changed",this._onUpdate)},e.prototype.unbind=function(){this.innerHTML="",this.carousel.removeEventListener("esl:slide:changed",this._onUpdate)},e.prototype.rerender=function(){for(var t="",e=Math.floor(this.carousel.activeIndexes[this.carousel.activeCount-1]/this.carousel.activeCount),n=0;n<Math.ceil(this.carousel.count/this.carousel.activeCount);++n)t+=this.buildDot(n,n===e);this.innerHTML=t},e.prototype.buildDot=function(t,e){return'<button role="button" class="carousel-dot '+(e?"active-dot":"")+'" data-slide-target="g'+(t+1)+'"></button>'},e.is="esl-carousel-dots",e.freePlacement=!0,function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([f("CarouselPlugins.Dots")],e)}(Ro),Io=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Mo=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Do=function(t){function e(){var e=t.call(this)||this;return e._onSlideChange=e._onSlideChange.bind(e),e}return Io(e,t),Object.defineProperty(e,"observedAttributes",{get:function(){return["to","direction"]},enumerable:!1,configurable:!0}),e.prototype.bind=function(){this.target||(this.target=document.querySelector(this.to)),this.target instanceof Ao&&("both"!==this.direction&&"reverse"!==this.direction||this.target.addEventListener("esl:slide:changed",this._onSlideChange),"both"!==this.direction&&"target"!==this.direction||this.carousel.addEventListener("esl:slide:changed",this._onSlideChange))},e.prototype.unbind=function(){this.target&&this.target.removeEventListener("esl:slide:changed",this._onSlideChange),this.carousel&&this.carousel.removeEventListener("esl:slide:changed",this._onSlideChange)},e.prototype._onSlideChange=function(t){if(this.target&&this.carousel){var e=t.target===this.carousel?this.target:this.carousel,n=t.target===this.carousel?this.carousel:this.target;e.goTo(n.firstIndex,t.detail.direction)}},e.prototype.attributeChangedCallback=function(t,e,n){this.carousel&&e!==n&&(this.unbind(),"to"===t&&(this._target=null),this.bind())},Object.defineProperty(e.prototype,"target",{get:function(){return this._target},set:function(t){this._target=t},enumerable:!1,configurable:!0}),e.is="esl-carousel-link-plugin",Mo([x()],e.prototype,"to",void 0),Mo([x({defaultValue:"both"})],e.prototype,"direction",void 0),Mo([f("CarouselPlugins.Link")],e)}(Ro),No=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ho=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isTouchStarted=!1,e.startPoint={x:0,y:0},e.onTouchStart=function(t){t instanceof TouchEvent&&1!==t.touches.length||t instanceof PointerEvent&&"touch"!==t.pointerType?e.isTouchStarted=!1:(e.isTouchStarted=!0,e.startPoint=M.normalizeTouchPoint(t))},e.onTouchMove=function(t){e.isTouchStarted},e.onTouchEnd=function(t){if(e.isTouchStarted){var n=M.normalizeTouchPoint(t),o={x:n.x-e.startPoint.x,y:n.y-e.startPoint.y};e.isTouchStarted=!1,Math.abs(o.x)<Math.abs(o.y)||Math.abs(o.x)<100||(o.x<0?e.carousel.next():e.carousel.prev(),t.preventDefault(),t.stopPropagation())}},e}return No(e,t),e.prototype.bind=function(){var t=Ot.TOUCH_EVENTS;this.carousel.addEventListener(t.START,this.onTouchStart),this.carousel.addEventListener(t.MOVE,this.onTouchMove),this.carousel.addEventListener(t.END,this.onTouchEnd)},e.prototype.unbind=function(){var t=Ot.TOUCH_EVENTS;this.carousel.removeEventListener(t.START,this.onTouchStart),this.carousel.removeEventListener(t.MOVE,this.onTouchMove),this.carousel.removeEventListener(t.END,this.onTouchEnd)},e.is="esl-carousel-touch-plugin",function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([f("CarouselPlugins.Touch")],e)}(Ro),Vo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),zo=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Uo={Dots:xo,Link:Do,Touch:Ho,Autoplay:function(t){function e(){var e=t.call(this)||this;return e._timeout=null,e._onInterval=e._onInterval.bind(e),e._onInteract=e._onInteract.bind(e),e}return Vo(e,t),Object.defineProperty(e.prototype,"active",{get:function(){return this._active},enumerable:!1,configurable:!0}),e.prototype.bind=function(){this.carousel.addEventListener("mouseover",this._onInteract),this.carousel.addEventListener("mouseout",this._onInteract),this.carousel.addEventListener("focusin",this._onInteract),this.carousel.addEventListener("focusout",this._onInteract),this.carousel.addEventListener("esl:slide:changed",this._onInteract),this.start()},e.prototype.unbind=function(){this.carousel.removeEventListener("mouseover",this._onInteract),this.carousel.removeEventListener("mouseout",this._onInteract),this.carousel.removeEventListener("focusin",this._onInteract),this.carousel.removeEventListener("focusout",this._onInteract),this.carousel.removeEventListener("esl:slide:changed",this._onInteract),this.stop()},e.prototype.start=function(){this._active=!0,this.reset()},e.prototype.stop=function(){this._active=!1,this.reset()},e.prototype.reset=function(){"number"==typeof this._timeout&&clearTimeout(this._timeout),this._timeout=this._active?window.setTimeout(this._onInterval,this.timeout):null},e.prototype._onInterval=function(){if(this._active){switch(this.direction){case"next":return void this.carousel.next();case"prev":return void this.carousel.prev()}this.reset()}},e.prototype._onInteract=function(t){switch(t.type){case"mouseover":case"focusin":return void this.stop();case"mouseout":case"focusout":return void this.start();case"esl:slide:changed":return void this.reset()}},e.is="esl-carousel-autoplay-plugin",zo([x({defaultValue:"next"})],e.prototype,"direction",void 0),zo([x({defaultValue:"5000"})],e.prototype,"timeout",void 0),zo([f("CarouselPlugins.Autoplay")],e)}(Ro)};ae.register(),Le.register(),He.init(),Me.register(),en.register(),cn.register(),rn.register(),fn.register(),vn.register(),mn.register(),En.register(),An.register(),Sn.register(),Sn.init(),Dn.register(),Gn.register(),Jn.register(),ao.register(),no.register(),Ao.register(),Uo.Dots.register(),Uo.Link.register(),Uo.Touch.register(),Uo.Autoplay.register()}()}();
//# sourceMappingURL=localdev.js.map