!function(){"use strict";var t={512:function(){var t,e=this&&this.__extends||(t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)},function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,o=e&&t[e],n=0;if(o)return o.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},n=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),Object.defineProperty(n.prototype,"target",{get:function(){var t=this.getAttribute("target");return t?Array.from(document.querySelectorAll(t)):[]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"actions",{get:function(){return this.getAttribute("actions")||n.ACTIONS_ALL},enumerable:!1,configurable:!0}),n.prototype.render=function(){var t,e,r=this.actions.split(",");this.innerHTML="";try{for(var i=o(r),s=i.next();!s.done;s=i.next()){var a=s.value,c=n.ACTIONS[a];if(!c)return;this.appendChild(c.render(a,c))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},n.prototype.onClick=function(t){var e=t.target.dataset.action;if(e&&n.ACTIONS[e]){var o=n.ACTIONS[e],r=o.action;this.target.forEach((function(t){return r.call(t,t,e,o)}))}},n.prototype.connectedCallback=function(){this.render(),this.addEventListener("click",this.onClick.bind(this))},n.ACTIONS={play:{title:"Play",action:function(t){return t.play()},render:r},pause:{title:"Pause",action:function(t){return t.pause()},render:r},stop:{title:"Stop",action:function(t){return t.stop()},render:r}},n.ACTIONS_ALL=Object.keys(n.ACTIONS).join(","),n}(HTMLElement);function r(t,e){var o=document.createElement("button");return o.className="btn btn-sec-blue",o.dataset.action=t,o.textContent=e.title,o}customElements.define("test-media-controls",n)},252:function(){Element.prototype.toggleAttribute||(Element.prototype.toggleAttribute=function(t,e){var o=this.hasAttribute(t),n=void 0===e?!o:!!e;return o!==n&&(n?this.setAttribute(t,""):this.removeAttribute(t)),n})},536:function(){!function(t){var e=Object.getOwnPropertyDescriptor(t,"key");if(e){var o={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};Object.defineProperty(t,"key",{get:function(){var t=e.get.call(this);return Object.prototype.hasOwnProperty.call(o,t)?o[t]:t}})}}(KeyboardEvent.prototype)},342:function(){"isConnected"in Node.prototype||Object.defineProperty(Node.prototype,"isConnected",{get:function(){return!(this.ownerDocument&&this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}})},277:function(){if(!("customElements"in window))throw new Error("Browser is not support customElements, load polyfills before")}},e={};function o(n){var r=e[n];if(void 0!==r)return r.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,o),i.exports}o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),function(){!function(t){if(void 0!==window.Reflect&&void 0!==window.customElements&&!window.customElements.polyfillWrapFlushCallback){Object.defineProperty(window,t.name,{value:function(){return Reflect.construct(t,[],this.constructor)}});var e=window[t.name];e.prototype=t.prototype,e.prototype.constructor=e,Object.setPrototypeOf(e,t)}}(HTMLElement),o(342),o(536),o(252),o(277);function t(t){return function(e){return function(t,e){"ESL"in window&&function(t,e,o){e.split(".").reduce((function(t,n,r,i){if(i.length===r+1)return t[n]=t[n]||o;var s=typeof t[n];if("undefined"!==s&&"object"!==s&&"function"!==s)throw new Error("Can not define ".concat(o," on ").concat(e));return t[n]=t[n]||{}}),t)}(window.ESL,t,e)}(t||e.name,e)}}t.declare=function(){"ESL"in window||Object.defineProperty(window,"ESL",{value:{}})},t.declare();var e=new Map,n=function(){function o(){}var n;return n=o,o.add=function(t,o,i){if(t=t.toLowerCase(),n.BP_NAME_REGEXP.test(t)){var s=e.get(t);return e.set(t,new r(t,o,i)),s}throw new Error("The shortcut should consist only of Latin characters and be at least one character long.")},o.remove=function(t){return e.delete(t.toLowerCase())},o.get=function(t){return e.get((t||"").toLowerCase())},Object.defineProperty(o,"names",{get:function(){var t=[];return e.forEach((function(e,o){return t.push(o)})),t},enumerable:!1,configurable:!0}),o.process=function(t){var e=function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s}(t.match(n.BP_REGEXP)||[],3),o=e[1],r=e[2],i=n.get(r);if(i)return"+"===o?i.mediaQueryGE:"-"===o?i.mediaQueryLE:i.mediaQuery},o.BP_REGEXP=/^([+-]?)([a-z]+)/i,o.BP_NAME_REGEXP=/^[a-z]+/i,n=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s}([t("ScreenBreakpoints")],o)}(),r=function(){function t(t,e,o){this.name=t,this.min=e,this.max=o}return Object.defineProperty(t.prototype,"mediaQuery",{get:function(){return"(min-width: ".concat(this.min,"px) and (max-width: ").concat(this.max,"px)")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mediaQueryGE",{get:function(){return"(min-width: ".concat(this.min,"px)")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mediaQueryLE",{get:function(){return"(max-width: ".concat(this.max,"px)")},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[".concat(this.name,"]: ").concat(this.min," to ").concat(this.max)},t}();function i(t,e,o){if(!o||"function"!=typeof o.value)throw new TypeError("Only class methods can be decorated via @bind");var n=o.value;return{enumerable:o.enumerable,configurable:o.configurable,get:function(){if(!this||this===t||Object.hasOwnProperty.call(this,"constructor"))return n;var e=this.__fnBindings__;return e||(e=this.__fnBindings__=new WeakMap),e.has(n)||e.set(n,n.bind(this)),e.get(n)},set:function(t){Object.defineProperty(this,e,{writable:!0,enumerable:!1,configurable:!0,value:t})}}}n.add("xs",1,767),n.add("sm",768,991),n.add("md",992,1199),n.add("lg",1200,1599),n.add("xl",1600,999999),n.add("xs",1,599),n.add("sm",600,991),n.add("md",992,1199),n.add("lg",1200,1599),n.add("xl",1600,999999);var s=function(t){return t},a=function(t){return null==t?[]:Array.isArray(t)?t:[t]};function c(t,e){void 0===e&&(e=s);for(var o=Array(t),n=0;n<t;)o[n]=e(n++);return o}var l=new WeakMap,u=function(t,e,o){if("!"===e[0])return h.remove(t,e.substr(1),o);o&&function(t,e,o){var n=l.get(t)||new Map,r=n.get(e)||new Set;r.add(o),n.set(e,r),l.set(t,n)}(t,e,o),t.classList.add(e)},p=function(t,e,o){if("!"===e[0])return h.add(t,e.substr(1),o);o&&!function(t,e,o){var n=l.get(t);if(!n)return!0;var r=n.get(e);return!r||(r.delete(o),!r.size)}(t,e,o)||(o||h.unlock(t,e),t.classList.remove(e))},h=function(){function t(){}return t.splitTokens=function(t){return(t||"").split(" ").filter((function(t){return!!t}))},t.add=function(e,o,n){var r=t.splitTokens(o);a(e).forEach((function(t){return r.forEach((function(e){return u(t,e,n)}))}))},t.remove=function(e,o,n){var r=t.splitTokens(o);a(e).forEach((function(t){return r.forEach((function(e){return p(t,e,n)}))}))},t.toggle=function(e,o,n,r){(n?t.add:t.remove)(e,o,r)},t.unlock=function(t,e){e?a(t).forEach((function(t){var o;return null===(o=l.get(t))||void 0===o?void 0:o.delete(e)})):a(t).forEach((function(t){return l.delete(t)}))},t}(),f=function(t){var e="function"==typeof Symbol&&Symbol.iterator,o=e&&t[e],n=0;if(o)return o.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},d=function(t){return!!t&&"object"==typeof t},y=function(t){return null==t||"string"==typeof t||"number"==typeof t||"boolean"==typeof t||"symbol"==typeof t};function v(t,e){if(Object.is(t,e))return!0;if(typeof t!=typeof e)return!1;if(d(t)&&d(e)){var o=Object.keys(t),n=Object.keys(e);return o.length===n.length&&!o.some((function(o){return!v(t[o],e[o])}))}return!1}function g(t,e){for(var o=t;o;){var n=Object.getOwnPropertyDescriptor(o,e);if(n)return n;o=Object.getPrototypeOf(o)}}function b(){for(var t,e,o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];try{for(var r=f(o),i=r.next();!i.done;i=r.next()){var s=i.value;if(void 0!==s)return s}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}}var m=function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase()},_=function(t){return t.trim().replace(/^\((.*)\)$/,"$1").trim()},w=function(t,e){if(0===t)return 0;var o=+(t||NaN);return isNaN(o)?e:o};function O(t,e){try{return t?new Function("return ".concat(t))():e}catch(o){return console.warn("Cannot parse value ",t,o),e}}var E=/{[{%]?([\w.]+)[%}]?}/g;function C(t,e,o){return void 0===o&&(o=E),t.replace(o,(function(t,o){var n,r,i=(n=e,void 0===(r=(o||"").split(".").reduce((function(t,e){if(d(o=t)||"function"==typeof o)return t[e];var o}),n))?undefined:r);return void 0===i?t:i}))}var P,A=function(t){return void 0===t&&(t={}),t=Object.assign({defaultValue:""},t),function(e,o){var n=function(t,e){return e?"data-".concat(m(t)):m(t)}(t.name||o,!!t.dataAttr);Object.defineProperty(e,o,function(t,e,o){function n(){var e=this.getAttribute(t);return"string"==typeof e?e:o}return e?{get:n}:{get:n,set:function(e){null==e||!1===e?this.removeAttribute(t):this.setAttribute(t,!0===e?"":e)}}}(n,!!t.readonly,t.defaultValue))}},T=function(t){return void 0===t&&(t={}),function(e,o){var n=function(t,e){return e?"data-".concat(m(t)):m(t)}(t.name||o,!!t.dataAttr);Object.defineProperty(e,o,function(t,e){function o(){return this.hasAttribute(t)}return e?{get:o}:{get:o,set:function(e){this.toggleAttribute(t,e)}}}(n,!!t.readonly))}},j=function(){function t(){}return t.dispatch=function(t,e,o){var n=Object.assign({bubbles:!0,composed:!0,cancelable:!0},o||{});return t.dispatchEvent(new CustomEvent(e,n))},t.source=function(t){var e=t.composedPath&&t.composedPath();return e?e[0]:t.target},t.normalizeTouchPoint=function(t){var e=t instanceof TouchEvent?t.changedTouches[0]:t;return{x:e.pageX,y:e.pageY}},t.normalizeCoordinates=function(t,e){var o=e.getBoundingClientRect(),n=o.top+window.pageYOffset,r=o.left+window.pageXOffset;return{x:t.pageX-r,y:t.pageY-n}},t.stopPropagation=function(t){null==t||t.stopPropagation()},t.preventDefault=function(t){null==t||t.preventDefault()},t}(),S=(P=function(t,e){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},P(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}P(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._connected=!1,e}return S(e,t),e.prototype.connectedCallback=function(){this._connected=!0,this.classList.add(this.constructor.is)},e.prototype.disconnectedCallback=function(){this._connected=!1},Object.defineProperty(e.prototype,"connected",{get:function(){return this._connected},enumerable:!1,configurable:!0}),e.prototype.$$fire=function(t,e){return j.dispatch(this,"esl:"+t,e)},e.register=function(t){if(!(t=t||this.is))throw new Error("Can not define custom element");var e=customElements.get(t);if(e){if(e.is!==t)throw new Error("Element declaration tag inconsistency")}else this.is!==t&&(this.is=t),customElements.define(t,this)},Object.defineProperty(e,"registered",{get:function(){return customElements.whenDefined(this.is)},enumerable:!1,configurable:!0}),e.is="",e}(HTMLElement),L=function(){function t(){this._listeners=new Set}return t.prototype.addListener=function(t){this._listeners.add(t)},t.prototype.removeListener=function(t){this._listeners.delete(t)},t.prototype.fire=function(){for(var t=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];this._listeners.forEach((function(o){try{o.apply(t,e)}catch(t){console.error(t)}}))},t}(),R=function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s},$=function(t,e,o){if(o||2===arguments.length)for(var n,r=0,i=e.length;r<i;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))};function x(t,e){function o(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(void 0,$([],R(n),!1));return null!==i&&"string"!=typeof i?(console.warn("Can't cache value for ".concat(t.name," call.")),t.apply(this,n)):(o.cache.has(i)||o.cache.set(i,t.apply(this,n)),o.cache.get(i))}return void 0===e&&(e=I),o.cache=new Map,o.clear=function(){return o.cache.clear()},o.has=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(void 0,$([],R(t),!1));return void 0!==r&&o.cache.has(r)},o}function I(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?null:t.length>1||"string"!=typeof t[0]&&"number"!=typeof t[0]&&"boolean"!=typeof t[0]?void 0:String(t[0])}var M=function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s},D=function(t,e,o){if(o||2===arguments.length)for(var n,r=0,i=e.length;r<i;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))};function N(t){return void 0===t&&(t=I),function(e,o,n){if(!n||"function"!=typeof(n.value||n.get))throw new TypeError("Only get accessors or class methods can be decorated via @memoize");var r;r=e,Object.hasOwnProperty.call(r,"constructor")?("function"==typeof n.get&&(n.get=function(t,e){return function(){for(var o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];if(H.get(this)===e)return t;var r=t.call(this);return V(this,e,r),r}}(n.get,o)),"function"==typeof n.value&&(n.value=function(t,e,o){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(H.get(this)===e)return t;var i=x(t,o);return V(this,e,i),i.apply(this,n)}}(n.value,o,t))):("function"==typeof n.get&&(n.get=x(n.get)),"function"==typeof n.value&&(n.value=x(n.value,t)))}}var H=new WeakMap,V=function(t,e,o){H.set(t,e),Object.defineProperty(t,e,{value:o,writable:!0,configurable:!0}),H.delete(t)};N.clear=function(t,e){var o=g(t,e);if(o)return"function"==typeof o.get&&"function"==typeof o.get.clear?o.get.clear():"function"==typeof o.value&&"function"==typeof o.value.clear?o.value.clear():void(Object.hasOwnProperty.call(t,e)&&delete t[e])},N.has=function(t,e){for(var o,n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var s=g(t,e);return!!s&&("function"==typeof s.get&&"function"==typeof s.get.has?(o=s.get).has.apply(o,D([],M(r),!1)):"function"==typeof s.value&&"function"==typeof s.value.has?(n=s.value).has.apply(n,D([],M(r),!1)):Object.hasOwnProperty.call(t,e))};var z,B=window.navigator,U=B.userAgent,q=B.vendor,F=B.platform,G=/trident/i.test(U),W=G,K=/edg([ea]|ios)/i.test(U),Y=/\sedg\//i.test(U),Q=K||Y,X=/gecko/i.test(U)&&!/like gecko/i.test(U),Z=/firefox|iceweasel|fxios/i.test(U),J=/(?:^opera.+?version|opr)/.test(U),tt=!J&&/google inc/.test(q),et=/(apple)?webkit/i.test(U),ot=et&&/^((?!chrome|android).)*safari/i.test(U),nt=et&&!ot,rt=/Chrome-Lighthouse|Google Page Speed Insights/i.test(U),it=/Android/i.test(U),st="MacIntel"===F&&window.navigator.maxTouchPoints>1,at=/iPad|iPhone|iPod/.test(F)||st,ct=/webOS|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),lt=at||it||ct,ut=at&&et&&/CriOS/i.test(U),pt=!(!(z=window.navigator).maxTouchPoints&&!z.msMaxTouchPoints)||"ontouchstart"in window||"DocumentTouch"in window&&document instanceof Touch,ht=!matchMedia("(hover: none)").matches,ft={START:pt?"touchstart":"pointerdown",MOVE:pt?"touchmove":"pointermove",END:pt?"touchend":"pointerup"},dt=function(){function e(){}return e.isTrident=G,e.isIE=W,e.isEdgeHTML=K,e.isBlinkEdge=Y,e.isEdge=Q,e.isGecko=X,e.isFirefox=Z,e.isOpera=J,e.isChrome=tt,e.isWebkit=et,e.isSafari=ot,e.isBlink=nt,e.isBot=rt,e.isAndroid=it,e.isMobileIOS13=st,e.isMobileIOS=at,e.isLegacyMobile=ct,e.isMobile=lt,e.isMobileSafari=ut,e.isTouchDevice=pt,e.hasHover=ht,e.TOUCH_EVENTS=ft,function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s}([t("DeviceDetector")],e)}(),yt=function(){function e(){}var o;return o=e,e.toDPI=function(t){return(96*t).toFixed(1)},e.process=function(t){if(o.VALUE_REGEXP.test(t)){var e=parseFloat(t);if(!(e<0||isNaN(e)))return o.ignoreBotsDpr&&dt.isBot&&e>1?"not all":dt.isSafari?"(-webkit-min-device-pixel-ratio: ".concat(e,")"):"(min-resolution: ".concat(o.toDPI(e),"dpi)")}},e.VALUE_REGEXP=/(\d(\.\d)?)x/,e.ignoreBotsDpr=!1,o=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s}([t("ScreenDPR")],e)}(),vt=new Map,gt=function(){function e(){}return e.add=function(t,e){return["boolean","string"].includes(typeof e)||(e=!1),vt.set(t.toLowerCase(),e)},e.remove=function(t){return vt.delete(t.toLowerCase())},e.process=function(t){if(vt.has(t))return vt.get(t)},e._shortcuts=vt,function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s}([t("EnvShortcuts")],e)}();gt.add("touch",dt.isTouchDevice),gt.add("bot",dt.isBot),gt.add("mobile",dt.isMobile),gt.add("desktop",!dt.isMobile),gt.add("android",dt.isAndroid),gt.add("ios",dt.isMobileIOS),gt.add("ie",dt.isIE),gt.add("edge",dt.isEdgeHTML),gt.add("gecko",dt.isGecko),gt.add("blink",dt.isBlink),gt.add("safari",dt.isSafari),gt.add("safari-ios",dt.isMobileSafari);var bt=function(){function t(t){this._matches=t}return Object.defineProperty(t.prototype,"matches",{get:function(){return this._matches},enumerable:!1,configurable:!0}),t.prototype.addListener=function(t){},t.prototype.removeListener=function(t){},t.prototype.optimize=function(){return this},t.prototype.toString=function(){return this._matches?"all":"not all"},t.prototype.eq=function(t){return t.toString().trim()===this.toString()},t}(),mt=new bt(!0),_t=new bt(!1),wt=function(){function t(t,e){void 0===e&&(e=!1),this._inverted=e,this._mq=matchMedia(t.trim()||"all")}return Object.defineProperty(t.prototype,"matches",{get:function(){return this._inverted?!this._mq.matches:this._mq.matches},enumerable:!1,configurable:!0}),t.prototype.addListener=function(t){"function"==typeof this._mq.addEventListener?this._mq.addEventListener("change",t):this._mq.addListener(t)},t.prototype.removeListener=function(t){"function"==typeof this._mq.removeEventListener?this._mq.removeEventListener("change",t):this._mq.removeListener(t)},t.prototype.optimize=function(){return mt.eq(this)?this._inverted?_t:mt:_t.eq(this)?this._inverted?mt:_t:this},t.prototype.toString=function(){var t=this._mq.media,e=this._inverted;return(e?"not ":"")+(e&&/\)[\s\w]+\(/.test(t)?"(".concat(t,")"):t)},t}(),Ot=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Et=function(t){function e(e){void 0===e&&(e=[]);var o=t.call(this)||this;return o.items=e,o._matches=o.matches,o._onChildChange=o._onChildChange.bind(o),o}return Ot(e,t),e.prototype.addListener=function(e){var o=this;t.prototype.addListener.call(this,e),this._listeners.size>1||this.items.forEach((function(t){return t.addListener(o._onChildChange)}))},e.prototype.removeListener=function(e){var o=this;t.prototype.removeListener.call(this,e),this._listeners.size||this.items.forEach((function(t){return t.removeListener(o._onChildChange)}))},Object.defineProperty(e.prototype,"matches",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.optimize=function(){return this},e.prototype._onChildChange=function(){var t=this.matches;this._matches!==t&&this.fire(this._matches=t)},e}(L),Ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ot(e,t),Object.defineProperty(e.prototype,"matches",{get:function(){return this.items.every((function(t){return t.matches}))},enumerable:!1,configurable:!0}),e.prototype.optimize=function(){var t=this.items.map((function(t){return t.optimize()}));if(t.some((function(t){return _t.eq(t)})))return _t;var o=t.filter((function(t){return!mt.eq(t)}));return 0===o.length?mt:1===o.length?o[0]:new e(o)},e.prototype.toString=function(){return this.items.join(" and ")},e}(Et),Pt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ot(e,t),Object.defineProperty(e.prototype,"matches",{get:function(){return this.items.some((function(t){return t.matches}))},enumerable:!1,configurable:!0}),e.prototype.optimize=function(){var t=this.items.map((function(t){return t.optimize()}));if(t.some((function(t){return mt.eq(t)})))return mt;var o=t.filter((function(t){return!_t.eq(t)}));return 0===o.length?_t:1===o.length?o[0]:new e(o)},e.prototype.toString=function(t){return void 0===t&&(t=!1),this.items.join(t?" or ":", ")},e}(Et),At=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},Tt=function(){function e(){}var o;return o=e,e.use=function(t){return this._preprocessors.unshift(t),this},e.for=function(t){return o.from(t)},e.from=function(t){var e=t.split(/\sor\s|,/).map((function(t){var e=t.split(/\sand\s/).map(o.parseSimpleQuery);return new Ct(e)}));return new Pt(e).optimize()},e.preprocess=function(t){var e,o;if(!this.SHORTCUT_PATTERN.test(t))return t;var n=t.trim().substr(1).toLowerCase();try{for(var r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,o=e&&t[e],n=0;if(o)return o.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this._preprocessors),i=r.next();!i.done;i=r.next()){var s=i.value.process(n);if("string"==typeof s)return s;if("boolean"==typeof s)return s?"all":"not all"}}catch(t){e={error:t}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(e)throw e.error}}return t},e.parseSimpleQuery=function(t){var e=t.replace(/^\s*not\s+/,""),n=e!==t,r=o.preprocess(e),i=r.replace(/^\s*not\s+/,""),s=n!==(r!==i);return mt.eq(i)?s?_t:mt:_t.eq(i)?s?mt:_t:new wt(i,s)},e.ALL=mt,e.NOT_ALL=_t,e.SHORTCUT_PATTERN=/@([a-z0-9.+-]+)/i,e._preprocessors=[],At([N()],e,"for",null),o=At([t("MediaQuery")],e)}();Tt.use(yt),Tt.use(n),Tt.use(gt);var jt,St=function(){function t(t,e){void 0===e&&(e=""),this._query=Tt.for(e),this._default=!e,this._payload=t}return t.prototype.toString=function(){return"".concat(this._query," => ").concat(this._payload)},t.prototype.addListener=function(t){this._query.addListener(t)},t.prototype.removeListener=function(t){this._query.removeListener(t)},Object.defineProperty(t.prototype,"matches",{get:function(){return this._query.matches},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"payload",{get:function(){return this._payload},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"default",{get:function(){return this._default},enumerable:!1,configurable:!0}),t.parse=function(e,o){var n=e.split("=>"),r=2===n.length?n[0]:"",i=o((2===n.length?n[1]:n[0]).trim());if(void 0!==i)return new t(i,r.trim())},t.all=function(e){return new t(e,"all")},t.default=function(e){return new t(e)},t.empty=function(){return new t(void 0,"all")},t}(),kt=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Lt=function(e){function o(t){var o=e.call(this)||this;return o._rules=t,o._default=t.filter((function(t){return t.default}))[0],o._onMatchChanged=o._onMatchChanged.bind(o),o}var n;return kt(o,e),n=o,o.parse=function(t,e){void 0===e&&(e=n.STRING_PARSER);var o=[];return t.split("|").forEach((function(t){var n=t.trim(),r=St.parse(n,e);r&&(r.default?o.unshift(r):o.push(r))})),new n(o)},o.parseTuple=function(t,e){var o=t.split("|"),r=e.split("|");if(o.length!==r.length)throw new Error("Value doesn't correspond to mask");var i=r.map((function(t,e){return new St(o[e],t)}));return new n(i)},o.prototype.addListener=function(t){var o=this;e.prototype.addListener.call(this,t),this._listeners.size>1||this._rules.forEach((function(t){return t.addListener(o._onMatchChanged)}))},o.prototype.removeListener=function(t){var o=this;e.prototype.removeListener.call(this,t),this._listeners.size||this._rules.forEach((function(t){return t.removeListener(o._onMatchChanged)}))},Object.defineProperty(o.prototype,"rules",{get:function(){return this._rules},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"active",{get:function(){return this._active&&this._listeners.size||(this._active=this.activeRule),this._active},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"activeRule",{get:function(){var t=this.rules.filter((function(t){return t.matches}));return t.length>0?t[t.length-1]:St.empty()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"activeValue",{get:function(){var t=this.active.payload;return y(t)||!this.default||y(this.default.payload)?t:Object.assign({},this._default.payload||{},t)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"default",{get:function(){return this._default},enumerable:!1,configurable:!0}),o.prototype._onMatchChanged=function(){var t=this.activeRule;this._active!==t&&this.fire(this._active=t,this)},o.STRING_PARSER=function(t){return t},o.OBJECT_PARSER=function(t){return O(t)},n=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s}([t("MediaRuleList")],o)}(L),Rt=function(t,e){return t&&e&&(t.contains(e)||e.contains(t))},$t=function(t){return function(e,o){for(var n=t(e);n;n=t(n))if(!o||n.matches(o))return n;return null}},xt=$t((function(t){return t.nextElementSibling})),It=$t((function(t){return t.previousElementSibling})),Mt=$t((function(t){return t.parentElement})),Dt=function(t,e){return e?Array.from(t.querySelectorAll(e)):[t]},Nt=function(t,e){return Array.from(t.children).filter((function(t){return!e||t.matches(e)}))},Ht=function(t,e,o){void 0===o&&(o=!1);for(var n=o&&t?t.parentNode:t;n;){if(e(n))return n;n=n.parentNode}return null},Vt=(function(){function t(){}t.isRelative=Rt,t.closestBy=Ht,t.createSequenceFinder=$t,t.findNext=xt,t.findPrev=It,t.findParent=Mt,t.findAll=Dt,t.findChildren=Nt}(),function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s}),zt=function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s},Bt=function(t,e,o){if(o||2===arguments.length)for(var n,r=0,i=e.length;r<i;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))},Ut=function(){function e(){}var o;return o=e,Object.defineProperty(e,"PROCESSORS_REGEX",{get:function(){var t=Object.keys(this.ELEMENT_PROCESSORS).concat(Object.keys(this.COLLECTION_PROCESSORS));return new RegExp("(".concat(t.join("|"),")"),"g")},enumerable:!1,configurable:!0}),e.isCollectionProcessor=function(t){var e=zt(t,1)[0];return e&&e in this.COLLECTION_PROCESSORS},e.processElement=function(t,e){var o=zt(e,2),n=o[0],r=o[1],i=_(r||"");return n&&n in this.ELEMENT_PROCESSORS?a(this.ELEMENT_PROCESSORS[n](t,i)):[]},e.processCollection=function(t,e){var o=zt(e,2),n=o[0],r=o[1],i=_(r||"");return n&&n in this.COLLECTION_PROCESSORS?a(this.COLLECTION_PROCESSORS[n](t,i)):[]},e.traverseChain=function(t,e,o){var n,r;if(!e.length||!t.length)return t;var i=zt(e),s=i[0],a=i.slice(1);if(this.isCollectionProcessor(s)){var c=this.processCollection(t,s);return this.traverseChain(c,a,o)}var l=[];try{for(var u=function(t){var e="function"==typeof Symbol&&Symbol.iterator,o=e&&t[e],n=0;if(o)return o.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),p=u.next();!p.done;p=u.next()){var h=p.value,f=(c=this.processElement(h,s),this.traverseChain(c,a,o));if(f.length){if(o)return f.slice(0,1);l.push.apply(l,Bt([],zt(f),!1))}}}catch(t){n={error:t}}finally{try{p&&!p.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return function(t){var e=[],o=new Set;return t.forEach((function(t){return o.add(t)})),o.forEach((function(t){return e.push(t)})),e}(l)},e.traverse=function(t,e,o,n){void 0===n&&(n=document);var r=t.split(this.PROCESSORS_REGEX).map((function(t){return t.trim()})),i=r.shift(),s=o?[o]:[],a=i?Array.from(n.querySelectorAll(i)):s;return this.traverseChain(a,r.reduce((function(t,e){return(0===t.length||t[t.length-1].length>=2)&&t.push([]),t[t.length-1].push(e),t}),[]),e)},e.first=function(t,e,n){return o.traverse(t,!0,e,n)[0]||null},e.all=function(t,e,n){return o.traverse(t,!1,e,n)},e.ELEMENT_PROCESSORS={"::find":Dt,"::next":xt,"::prev":It,"::child":Nt,"::parent":Mt},e.COLLECTION_PROCESSORS={"::first":function(t){return t.slice(0,1)},"::last":function(t){return t.slice(-1)},"::nth":function(t,e){return a(t[(e?+e:NaN)-1])},"::not":function(t,e){return t.filter((function(t){return!t.matches(e||"")}))},"::filter":function(t,e){return t.filter((function(t){return t.matches(e||"")}))}},o=Vt([t("TraversingQuery")],e)}();function qt(){return jt||(jt=new IntersectionObserver((function(t){t.forEach(Ft)}),{threshold:[.01],rootMargin:dt.isMobile?"250px":"500px"})),jt}function Ft(t){var e=t.target;e instanceof Yt&&(t.isIntersecting||t.intersectionRatio>0)&&e.triggerLoad()}var Gt={cover:{apply:function(t,e){var o=e.src,n=!o||Yt.isEmptyImage(o);t.style.backgroundImage=n?"":'url("'.concat(o,'")')},clear:function(t){t.style.backgroundImage=""}},"save-ratio":{apply:function(t,e){var o=e.src,n=!o||Yt.isEmptyImage(o);t.style.backgroundImage=n?"":'url("'.concat(o,'")'),0!==e.width&&(t.style.paddingTop=n?"":"".concat(100*e.height/e.width,"%"))},clear:function(t){t.style.paddingTop="",t.style.backgroundImage=""}},fit:{apply:function(t,e){var o=t.attachInnerImage();o.src=e.src,o.removeAttribute("width")},clear:function(t){t.removeInnerImage()}},origin:{apply:function(t,e){var o=t.attachInnerImage();o.src=e.src,o.width=e.width/window.devicePixelRatio},clear:function(t){t.removeInnerImage()}},"inner-svg":{apply:function(t,e){var o=new XMLHttpRequest;o.open("GET",e.src,!0),o.onreadystatechange=function(){if(4===o.readyState&&200===o.status){var e=document.createElement("div");e.innerHTML=o.responseText,Array.from(e.querySelectorAll("script")||[]).forEach((function(t){return t.remove()})),t.innerHTML=e.innerHTML}},o.send()},clear:function(t){t.innerHTML=""}}},Wt=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Kt=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},Yt=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}var n;return Wt(o,e),n=o,Object.defineProperty(o,"STRATEGIES",{get:function(){return Gt},enumerable:!1,configurable:!0}),Object.defineProperty(o,"EMPTY_IMAGE",{get:function(){return"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="},enumerable:!1,configurable:!0}),Object.defineProperty(o,"observedAttributes",{get:function(){return["alt","role","mode","aria-label","data-src","data-src-base","lazy-triggered"]},enumerable:!1,configurable:!0}),o.prototype.connectedCallback=function(){e.prototype.connectedCallback.call(this),this.alt=this.alt||this.getAttribute("aria-label")||this.getAttribute("data-alt")||"",this.updateA11y(),this.srcRules.addListener(this._onMediaMatchChange),this.lazyObservable&&(this.removeAttribute("lazy-triggered"),qt().observe(this),this._detachLazyTrigger=function(){qt().unobserve(this),this._detachLazyTrigger=null}),this.refresh()},o.prototype.disconnectedCallback=function(){e.prototype.disconnectedCallback.call(this),this._detachLazyTrigger&&this._detachLazyTrigger(),this._srcRules&&this._srcRules.removeListener(this._onMediaMatchChange)},o.prototype.attributeChangedCallback=function(t,e,o){if(this.connected&&e!==o)switch(t){case"aria-label":this.alt=o||"";break;case"alt":case"role":this.updateA11y();break;case"data-src":this.srcRules=Lt.parse(o),this.refresh();break;case"data-src-base":this.refresh();break;case"mode":this.changeMode(e,o);break;case"lazy-triggered":this.lazyTriggered&&this.update()}},Object.defineProperty(o.prototype,"srcRules",{get:function(){return this._srcRules||(this.srcRules=Lt.parse(this.src)),this._srcRules},set:function(t){this._srcRules&&this._srcRules.removeListener(this._onMediaMatchChange),this._srcRules=t,this._srcRules.addListener(this._onMediaMatchChange)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"currentSrc",{get:function(){return this._currentSrc},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"empty",{get:function(){return!this._currentSrc||n.isEmptyImage(this._currentSrc)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"canUpdate",{get:function(){return this.lazyTriggered||"none"===this.lazy},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"lazyObservable",{get:function(){return"none"!==this.lazy&&"manual"!==this.lazy},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"originalWidth",{get:function(){return this._shadowImageElement?this._shadowImageElement.width:0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"originalHeight",{get:function(){return this._shadowImageElement?this._shadowImageElement.height:0},enumerable:!1,configurable:!0}),o.prototype.triggerLoad=function(){this.setAttribute("lazy-triggered","")},o.prototype.changeMode=function(t,e){if((t=t||"save-ratio")!==(e=e||"save-ratio")){if(!Gt[e])throw this.mode=t,new Error("ESL Image: Unsupported mode: "+e);this.clearImage(),this.loaded&&this.syncImage()}},o.prototype.update=function(t){if(void 0===t&&(t=!1),this.canUpdate){var e=this.getPath(this.srcRules.activeValue);this._currentSrc===e&&this.ready&&!t||(this._currentSrc=e,this._shadowImg.src=e,!this.refreshOnUpdate&&this.ready||this.syncImage(),this._shadowImg.complete&&(this._shadowImgError?this._onError():this._onLoad())),this._detachLazyTrigger&&this._detachLazyTrigger()}},o.prototype.updateA11y=function(){var t=this.getAttribute("role")||"img";this.setAttribute("role",t),this.innerImage&&(this.innerImage.alt=this.alt),"img"===t&&this.setAttribute("aria-label",this.alt)},o.prototype.getPath=function(t){return t&&"0"!==t&&"none"!==t?this.srcBase+t:n.EMPTY_IMAGE},o.prototype.refresh=function(){this.removeAttribute("loaded"),this.removeAttribute("ready"),this.updateContainerClasses(),this.clearImage(),this.update(!0)},o.prototype.syncImage=function(){var t=Gt[this.mode];this._strategy=t,t&&t.apply(this,this._shadowImg)},o.prototype.clearImage=function(){this._strategy&&this._strategy.clear(this),this._strategy=null},Object.defineProperty(o.prototype,"innerImage",{get:function(){return this._innerImg},enumerable:!1,configurable:!0}),o.prototype.attachInnerImage=function(){return this._innerImg||(this._innerImg=this.querySelector("img.".concat(this.innerImageClass))||this._shadowImg.cloneNode(),this._innerImg.className=this.innerImageClass),this._innerImg.parentNode||this.appendChild(this._innerImg),this._innerImg.alt=this.alt,this._innerImg},o.prototype.removeInnerImage=function(){var t=this;this.innerImage&&(this.removeChild(this.innerImage),setTimeout((function(){t._innerImg&&!t._innerImg.parentNode&&(t._innerImg=null)})))},Object.defineProperty(o.prototype,"_shadowImg",{get:function(){return this._shadowImageElement||(this._shadowImageElement=new Image,this._shadowImageElement.onload=this._onLoad,this._shadowImageElement.onerror=this._onError),this._shadowImageElement},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_shadowImgError",{get:function(){return!!this._shadowImg.complete&&".svg"!==this._shadowImg.src.substr(-4)&&this._shadowImg.naturalHeight<=0},enumerable:!1,configurable:!0}),o.prototype._onLoad=function(){this.syncImage(),this._onReadyState(!0),this.updateContainerClasses()},o.prototype._onError=function(){this._onReadyState(!1),this.updateContainerClasses()},o.prototype._onMediaMatchChange=function(){this.update()},o.prototype._onReadyState=function(t){this.ready||(this.toggleAttribute("loaded",t),this.toggleAttribute("error",!t),this.toggleAttribute("ready",!0),this.$$fire(t?"load":"error"),this.$$fire("ready"))},o.prototype.updateContainerClasses=function(){if(null!==this.containerClass){var t=this.containerClass||this.constructor.DEFAULT_CONTAINER_CLS,e=function(t){return["error","loaded","ready"].includes(t)}(this.containerClassState)&&this[this.containerClassState],o=Ut.first(this.containerClassTarget,this);o&&h.toggle(o,t,e)}},o.prototype.$$fire=function(t,e){return void 0===e&&(e={bubbles:!1}),j.dispatch(this,t,e)},o.isEmptyImage=function(t){return t===n.EMPTY_IMAGE},o.is="esl-image",o.DEFAULT_CONTAINER_CLS="img-container-loaded",Kt([A()],o.prototype,"alt",void 0),Kt([A({defaultValue:"save-ratio"})],o.prototype,"mode",void 0),Kt([A({dataAttr:!0})],o.prototype,"src",void 0),Kt([A({dataAttr:!0})],o.prototype,"srcBase",void 0),Kt([A({defaultValue:"none"})],o.prototype,"lazy",void 0),Kt([T()],o.prototype,"lazyTriggered",void 0),Kt([T()],o.prototype,"refreshOnUpdate",void 0),Kt([A({defaultValue:"inner-image"})],o.prototype,"innerImageClass",void 0),Kt([A({defaultValue:null})],o.prototype,"containerClass",void 0),Kt([A({defaultValue:"::parent"})],o.prototype,"containerClassTarget",void 0),Kt([A({defaultValue:"ready"})],o.prototype,"containerClassState",void 0),Kt([T({readonly:!0})],o.prototype,"ready",void 0),Kt([T({readonly:!0})],o.prototype,"loaded",void 0),Kt([T({readonly:!0})],o.prototype,"error",void 0),Kt([i],o.prototype,"_onLoad",null),Kt([i],o.prototype,"_onError",null),Kt([i],o.prototype,"_onMediaMatchChange",null),n=Kt([t("Image")],o)}(k),Qt=function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s},Xt=function(t,e,o){if(o||2===arguments.length)for(var n,r=0,i=e.length;r<i;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))},Zt=function(t){return requestAnimationFrame((function(){return requestAnimationFrame(t)}))},Jt=function(t){var e=null;return function(){for(var o=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];null===e&&requestAnimationFrame((function(){e&&t.call.apply(t,Xt([o],Qt(e),!1)),e=null})),e=n}};function te(t,e){return new Promise((function(o){return setTimeout(o.bind(null,e),t)}))}function ee(t,e,o,n){return new Promise((function(r,i){t.addEventListener(e,(function o(i){t.removeEventListener(e,o,n),r(i)}),n),"number"==typeof o&&o>=0&&setTimeout((function(){return i(new Error("Rejected by timeout"))}),o)}))}function oe(t,e,o){return void 0===o&&(o=e),t[e]?Promise.resolve(t):ee(t,o).then((function(){return t}))}function ne(t,e,o){return void 0===e&&(e=2),void 0===o&&(o=100),new Promise((function(n,r){!function i(){var s;try{s=t()}catch(t){s=void 0}s||e--<0?s?n(s):r(new Error("Rejected by limit of tries")):setTimeout(i,o)}()}))}function re(t,e){return void 0===e&&(e=1),e<1?Promise.reject():1===e?Promise.resolve().then(t):re(t,e-1).then(t)}function ie(){var t,e;return{promise:new Promise((function(o,n){e=o,t=n})),resolve:e,reject:t}}function se(t){return Promise.resolve(t)}function ae(t){return Promise.reject(t)}function ce(t,e,o){void 0===e&&(e=10);var n=null,r=null;function i(){for(var i=this,s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];r=r||ie(),"number"==typeof n&&clearTimeout(n),n=window.setTimeout((function(){n=null,r.resolve(t.apply(o||i,s)),r=null}),e)}return Object.defineProperty(i,"promise",{get:function(){return r?r.promise:Promise.resolve()}}),Object.defineProperty(i,"cancel",{writable:!1,enumerable:!1,value:function(){"number"==typeof n&&clearTimeout(n),n=null,null==r||r.reject(),r=null}}),i}!function(){function t(){}t.fromTimeout=te,t.fromEvent=ee,t.fromMarker=oe,t.repeat=re,t.tryUntil=ne,t.deferred=ie,t.resolve=se,t.reject=ae}();var le,ue="Enter",pe=" ",he="Pause",fe="ArrowLeft",de="ArrowUp",ye="ArrowRight",ve="ArrowDown";function ge(t){return void 0===t&&(t=!1),le||t||(le=new IntersectionObserver((function(t){t.forEach(be)}),{threshold:[.2,.75]})),le}function be(t){var e=t.target;e instanceof je&&(e.active&&t.intersectionRatio<=.2&&e.pause(),!e.active&&e.autoplay&&t.intersectionRatio>=.75&&e.play())}var me,_e=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),we=null,Oe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.providersMap=new Map,e}return _e(e,t),Object.defineProperty(e,"instance",{get:function(){return we||(we=new e),we},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"providers",{get:function(){var t=[];return this.providersMap.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),e.prototype.register=function(t){if(!t.providerName)throw new Error("Provider should have a name");this.providersMap.set(t.providerName,t),this.fire(t.providerName,t)},e.prototype.has=function(t){return this.providersMap.has(t)},e.prototype.findByName=function(t){return t&&"auto"!==t&&this.providersMap.get(t.toLowerCase())||null},e.prototype.createFor=function(t){return this.createByType(t)||this.createBySrc(t)},e.prototype.createByType=function(t){var o=this.findByName(t.mediaType);return o?e._create(o,t):null},e.prototype.createBySrc=function(t){var o,n;try{for(var r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,o=e&&t[e],n=0;if(o)return o.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.providers.reverse()),i=r.next();!i.done;i=r.next()){var s=i.value,a=s.parseUrl(t.mediaSrc);if(a)return e._create(s,t,a)}}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return null},e._create=function(t,e,o){void 0===o&&(o=t.parseUrl(e.mediaSrc));var n=Object.assign({},o||{},t.parseConfig(e));return new t(e,n)},e}(L);!function(t){t[t.BUFFERING=3]="BUFFERING",t[t.ENDED=0]="ENDED",t[t.PAUSED=2]="PAUSED",t[t.PLAYING=1]="PLAYING",t[t.UNSTARTED=-1]="UNSTARTED",t[t.VIDEO_CUED=5]="VIDEO_CUED",t[t.UNINITIALIZED=-2]="UNINITIALIZED"}(me||(me={}));var Ee=function(){function t(t,e){this.config=e,this.component=t}return t.parseUrl=function(t){return null},t.parseConfig=function(t){var e=t.loop,o=t.muted,n=t.controls,r=t.autoplay,i=t.title,s=t.preload,a=t.playsinline,c=t.mediaId,l=t.mediaSrc,u={loop:e,muted:o,controls:n,autoplay:r,title:i,preload:s,playsinline:a};return c&&Object.assign(u,{mediaId:c}),l&&Object.assign(u,{mediaSrc:l}),u},Object.defineProperty(t.prototype,"ready",{get:function(){if(!this._ready){var t=Promise.reject("Not Initialized");return t.catch((function(t){return console.log("Rejected Media Operation: ",t)})),t}return this._ready},enumerable:!1,configurable:!0}),t.prototype.unbind=function(){Array.from(this.component.querySelectorAll(".esl-media-inner")).forEach((function(t){return t.parentNode&&t.parentNode.removeChild(t)}))},Object.defineProperty(t.prototype,"name",{get:function(){return this.constructor.providerName},enumerable:!1,configurable:!0}),t.prototype.focus=function(){var t;null===(t=this._el)||void 0===t||t.focus()},t.prototype.onConfigChange=function(t,e){this.config[t]=e},t.prototype.setSize=function(t,e){this._el&&(this._el.style.setProperty("width","auto"===t?null:"".concat(t,"px")),this._el.style.setProperty("height","auto"===e?null:"".concat(e,"px")))},t.prototype.toggle=function(){return[me.PAUSED,me.UNSTARTED,me.VIDEO_CUED].includes(this.state)?this.play():this.pause()},t.prototype.onSafeConfigChange=function(t,e){var o=this;this.ready.then((function(){return o.onConfigChange(t,e)}))},t.prototype.safeSeekTo=function(t){var e=this;return this.ready.then((function(){return e.seekTo(t)}))},t.prototype.safePlay=function(){var t=this;return this.ready.then((function(){return t.play()}))},t.prototype.safePause=function(){var t=this;return this.ready.then((function(){return t.pause()}))},t.prototype.safeStop=function(){var t=this;return this.ready.then((function(){return t.stop()}))},t.prototype.safeToggle=function(){var t=this;return this.ready.then((function(){return t.toggle()}))},t.register=function(e){if((e=e||this)===t)throw new Error("`BaseProvider` can't be registered.");if(!((null==e?void 0:e.prototype)instanceof t))throw new Error("Provider should be instanceof `BaseProvider`");Oe.instance.register(e)},t}(),Ce=new Map,Pe=function(){function t(){}return Object.defineProperty(t,"managerMap",{get:function(){return Ce},enumerable:!1,configurable:!0}),t.registerPlay=function(t){if(t.group){var e=Ce.get(t.group);if(Ce.set(t.group,t),!e||e===t||!e.active)return;e.$$fire("mangedpause")&&e.pause()}},t.unregister=function(t){t.group&&Ce.get(t.group)===t&&Ce.delete(t.group)},t}(),Ae=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Te=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},je=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.deferredResize=Jt((function(){return t._onResize()})),t.deferredReinitialize=ce((function(){return t.reinitInstance()})),t}return Ae(o,e),Object.defineProperty(o,"PLAYER_STATES",{get:function(){return me},enumerable:!1,configurable:!0}),Object.defineProperty(o,"observedAttributes",{get:function(){return["disabled","media-type","media-id","media-src","fill-mode","aspect-ratio","play-in-viewport","muted","loop","controls"]},enumerable:!1,configurable:!0}),o.supports=function(t){return Oe.instance.has(t)},o.prototype.connectedCallback=function(){e.prototype.connectedCallback.call(this),this.hasAttribute("role")||this.setAttribute("role","application"),this.innerHTML+="\x3c!-- Inner Content, do not modify it manually --\x3e",this.bindEvents(),this.attachViewportConstraint(),this.deferredReinitialize()},o.prototype.disconnectedCallback=function(){e.prototype.disconnectedCallback.call(this),this.unbindEvents(),this.detachViewportConstraint(),this._provider&&this._provider.unbind()},o.prototype.attributeChangedCallback=function(t,e,o){if(this.connected&&e!==o)switch(t){case"disabled":case"media-id":case"media-src":case"media-type":this.deferredReinitialize();break;case"loop":case"muted":case"controls":this._provider&&this._provider.onSafeConfigChange(t,null!==o);break;case"fill-mode":case"aspect-ratio":this.deferredResize();break;case"play-in-viewport":this.playInViewport?this.attachViewportConstraint():this.detachViewportConstraint()}},o.prototype.bindEvents=function(){Oe.instance.addListener(this._onRegistryStateChange),this.conditionQuery&&this.conditionQuery.addListener(this.deferredReinitialize),this.fillModeEnabled&&window.addEventListener("resize",this.deferredResize),window.addEventListener("esl:refresh",this._onRefresh),this.addEventListener("keydown",this._onKeydown)},o.prototype.unbindEvents=function(){Oe.instance.removeListener(this._onRegistryStateChange),this.conditionQuery&&this.conditionQuery.removeListener(this.deferredReinitialize),this.fillModeEnabled&&window.removeEventListener("resize",this.deferredResize),window.removeEventListener("esl:refresh",this._onRefresh),this.removeEventListener("keydown",this._onKeydown)},o.prototype.canActivate=function(){return!this.disabled&&(!this.conditionQuery||this.conditionQuery.matches)},o.prototype.reinitInstance=function(){console.debug("[ESL] Media reinitialize ",this),this._provider&&this._provider.unbind(),this._provider=null,this.canActivate()&&(this._provider=Oe.instance.createFor(this),this._provider?(this._provider.bind(),console.debug("[ESL] Media provider bound",this._provider)):this._onError()),this.updateContainerMarkers()},o.prototype.updateContainerMarkers=function(){var t=Ut.first(this.loadClsTarget,this);if(t){var e=this.canActivate();h.toggle(t,this.loadClsAccepted,e),h.toggle(t,this.loadClsDeclined,!e)}},o.prototype.seekTo=function(t){return this._provider&&this._provider.safeSeekTo(t)},o.prototype.play=function(t){return void 0===t&&(t=!1),this.disabled&&t&&(this.disabled=!1,this.deferredReinitialize.cancel(),this.reinitInstance()),this.canActivate()?this._provider&&this._provider.safePlay():null},o.prototype.pause=function(){return this._provider&&this._provider.safePause()},o.prototype.stop=function(){return this._provider&&this._provider.safeStop()},o.prototype.toggle=function(){return this._provider&&this._provider.safeToggle()},o.prototype.focusPlayer=function(){this._provider&&this._provider.focus()},o.prototype._onReady=function(){this.toggleAttribute("ready",!0),this.toggleAttribute("error",!1),this.updateReadyClass(),this.deferredResize(),this.$$fire("ready")},o.prototype._onError=function(t,e){void 0===e&&(e=!0),this.toggleAttribute("ready",!0),this.toggleAttribute("error",!0),this.$$fire("error",{detail:t}),e&&this.$$fire("ready")},o.prototype._onDetach=function(){this.removeAttribute("active"),this.removeAttribute("ready"),this.removeAttribute("played"),this.updateReadyClass(),this.$$fire("detach")},o.prototype._onPlay=function(){this.autofocus&&this.focus(),this.deferredResize(),this.setAttribute("active",""),this.setAttribute("played",""),this.$$fire("play"),Pe.registerPlay(this)},o.prototype._onPaused=function(){this.removeAttribute("active"),this.$$fire("paused"),Pe.unregister(this)},o.prototype._onEnded=function(){this.removeAttribute("active"),this.$$fire("ended"),Pe.unregister(this)},o.prototype._onResize=function(){if(this._provider)if(this.fillModeEnabled&&this.actualAspectRatio>0){var t=this.offsetWidth/this.offsetHeight<this.actualAspectRatio;"inscribe"===this.fillMode&&(t=!t),t?this._provider.setSize(this.actualAspectRatio*this.offsetHeight,this.offsetHeight):this._provider.setSize(this.offsetWidth,this.offsetWidth/this.actualAspectRatio)}else this._provider.setSize("auto","auto")},o.prototype._onRefresh=function(t){var e=t.target;e instanceof HTMLElement&&e.contains(this)&&this._onResize()},o.prototype._onRegistryStateChange=function(t){var e=this.mediaType.toLowerCase()||"auto";(t===e||!this.providerType&&"auto"===e)&&this.reinitInstance()},o.prototype._onKeydown=function(t){t.target===this&&[pe,he].includes(t.key)&&(t.preventDefault(),t.stopPropagation(),this.toggle())},o.prototype.updateReadyClass=function(){var t=Ut.first(this.readyClassTarget,this);t&&h.toggle(t,this.readyClass,this.ready)},Object.defineProperty(o.prototype,"providerType",{get:function(){return this._provider?this._provider.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"state",{get:function(){return this._provider?this._provider.state:me.UNINITIALIZED},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"duration",{get:function(){return this._provider?this._provider.duration:0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"currentTime",{get:function(){return this._provider?this._provider.currentTime:0},set:function(t){this._provider&&this._provider.safeSeekTo(t)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"conditionQuery",{get:function(){if(!this._conditionQuery&&null!==this._conditionQuery){var t=this.getAttribute("load-condition");this._conditionQuery=t?Tt.for(t):null}return this._conditionQuery},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"fillModeEnabled",{get:function(){return"cover"===this.fillMode||"inscribe"===this.fillMode},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"actualAspectRatio",{get:function(){return this.aspectRatio&&"auto"!==this.aspectRatio?function(t){var e=function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s}(t.split(/[:/]/),2),o=e[0],n=e[1];return void 0!==n?+o/+n:+o||0}(this.aspectRatio):this._provider?this._provider.defaultAspectRatio:0},enumerable:!1,configurable:!0}),o.prototype.attachViewportConstraint=function(){this.playInViewport&&ge().observe(this)},o.prototype.detachViewportConstraint=function(){var t=ge(!0);t&&t.unobserve(this)},o.prototype.$$fire=function(t,e){var o=this.constructor.eventNs;return j.dispatch(this,o+t,e)},o.is="esl-media",o.eventNs="esl:media:",Te([A()],o.prototype,"mediaId",void 0),Te([A()],o.prototype,"mediaSrc",void 0),Te([A()],o.prototype,"mediaType",void 0),Te([A()],o.prototype,"group",void 0),Te([A()],o.prototype,"fillMode",void 0),Te([A()],o.prototype,"aspectRatio",void 0),Te([T()],o.prototype,"disabled",void 0),Te([T()],o.prototype,"autoplay",void 0),Te([T()],o.prototype,"autofocus",void 0),Te([T()],o.prototype,"muted",void 0),Te([T()],o.prototype,"loop",void 0),Te([T()],o.prototype,"controls",void 0),Te([T()],o.prototype,"playsinline",void 0),Te([T()],o.prototype,"playInViewport",void 0),Te([A({defaultValue:"auto"})],o.prototype,"preload",void 0),Te([A()],o.prototype,"readyClass",void 0),Te([A()],o.prototype,"readyClassTarget",void 0),Te([A()],o.prototype,"loadClsAccepted",void 0),Te([A()],o.prototype,"loadClsDeclined",void 0),Te([A({defaultValue:"::parent"})],o.prototype,"loadClsTarget",void 0),Te([T({readonly:!0})],o.prototype,"ready",void 0),Te([T({readonly:!0})],o.prototype,"active",void 0),Te([T({readonly:!0})],o.prototype,"played",void 0),Te([T({readonly:!0})],o.prototype,"error",void 0),Te([i],o.prototype,"_onRefresh",null),Te([i],o.prototype,"_onRegistryStateChange",null),Te([i],o.prototype,"_onKeydown",null),Te([t("Media")],o)}(k),Se=function(){function t(){var t=this;this._fn=null,this._timeout=null,this.run=function(){t._timeout=null,t._fn&&t._fn()}}return Object.defineProperty(t.prototype,"fn",{get:function(){return this._fn},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){void 0===e&&(e=!1);var o=this.cancel();return"function"==typeof t&&(e&&"string"==typeof e&&(e=+e),"number"==typeof e&&e>=0?(this._fn=t,this._timeout=window.setTimeout(this.run,e)):t()),o},t.prototype.cancel=function(){var t=this._fn;return"number"==typeof this._timeout&&clearTimeout(this._timeout),this._fn=this._timeout=null,t},t}(),ke=function(t){return void 0===t&&(t={}),t=Object.assign({defaultValue:{}},t),function(e,o){var n=function(t,e){return e?"data-".concat(m(t)):m(t)}(t.name||o,!!t.dataAttr);Object.defineProperty(e,o,function(t,e,o){function n(){return O((this.getAttribute(t)||"").trim(),o)}return e?{get:n}:{get:n,set:function(e){"object"!=typeof e&&console.error("Can not set json value: value should be object");try{if(e){var o=JSON.stringify(e);this.setAttribute(t,o)}else this.removeAttribute(t)}catch(t){console.error("[ESL] jsonAttr: Can not set json value ",t)}}}}(n,!!t.readonly,t.defaultValue))}},Le=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Re=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},$e=new WeakMap,xe=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t._open=!1,t._task=new Se,t._trackHover=!1,t}return Le(o,e),Object.defineProperty(o,"observedAttributes",{get:function(){return["open","group"]},enumerable:!1,configurable:!0}),o.prototype.connectedCallback=function(){e.prototype.connectedCallback.call(this),this.initiallyOpened=this.hasAttribute("open"),this.bindEvents(),this.setInitialState()},o.prototype.disconnectedCallback=function(){e.prototype.disconnectedCallback.call(this),this.unbindEvents(),$e.delete(this)},o.prototype.attributeChangedCallback=function(t,e,o){if(this.connected&&o!==e)switch(t){case"open":if(this.open===this.hasAttribute("open"))return;this.toggle(this.open,{initiator:"attribute",showDelay:0,hideDelay:0});break;case"group":this.$$fire("change:group",{detail:{oldGroupName:e,newGroupName:o}})}},o.prototype.setInitialState=function(){this.initialParams&&this.toggle(this.initiallyOpened,this.initialParams)},o.prototype.bindEvents=function(){this.addEventListener("click",this._onClick),this.addEventListener("keydown",this._onKeyboardEvent)},o.prototype.unbindEvents=function(){this.removeEventListener("click",this._onClick),this.removeEventListener("keydown",this._onKeyboardEvent),this.bindOutsideEventTracking(!1),this.bindHoverStateTracking(!1)},o.prototype.bindOutsideEventTracking=function(t){document.body.removeEventListener("mouseup",this._onOutsideAction,!0),document.body.removeEventListener("touchend",this._onOutsideAction,!0),t&&(document.body.addEventListener("mouseup",this._onOutsideAction,!0),document.body.addEventListener("touchend",this._onOutsideAction,!0))},o.prototype.bindHoverStateTracking=function(t,e){dt.hasHover&&(this._trackHoverDelay=t&&void 0!==e?+e:void 0,this._trackHover!==t&&(this._trackHover=t,this.removeEventListener("mouseenter",this._onMouseEnter),this.removeEventListener("mouseleave",this._onMouseLeave),this._trackHover&&(this.addEventListener("mouseenter",this._onMouseEnter),this.addEventListener("mouseleave",this._onMouseLeave))))},o.prototype.mergeDefaultParams=function(t){return Object.assign({},this.defaultParams,function(t,e){void 0===e&&(e=function(){return!0});var o=Object.assign({},t||{});return Object.keys(o).forEach((function(t){!e(t,o[t])&&delete o[t]})),o}(t||{},(function(t,e){return void 0!==e})))},o.prototype.toggle=function(t,e){return void 0===t&&(t=!this.open),t?this.show(e):this.hide(e)},o.prototype.show=function(t){return t=this.mergeDefaultParams(t),this._task.put(this.showTask.bind(this,t),b(t.showDelay,t.delay)),this.bindOutsideEventTracking(this.closeOnOutsideAction),this.bindHoverStateTracking(!!t.trackHover,b(t.hideDelay,t.delay)),this},o.prototype.hide=function(t){return t=this.mergeDefaultParams(t),this._task.put(this.hideTask.bind(this,t),b(t.hideDelay,t.delay)),this.bindOutsideEventTracking(!1),this.bindHoverStateTracking(!!t.trackHover,b(t.hideDelay,t.delay)),this},o.prototype.showTask=function(t){!t.force&&this.open||(t.silent||this.$$fire("before:show",{detail:{params:t}}))&&(this.activator=t.activator,this.open=!0,this.onShow(t),t.silent||this.$$fire("show",{detail:{params:t},cancelable:!1}))},o.prototype.hideTask=function(t){(t.force||this.open)&&(t.silent||this.$$fire("before:hide",{detail:{params:t}}))&&(this.open=!1,this.onHide(t),this.bindOutsideEventTracking(!1),t.silent||this.$$fire("hide",{detail:{params:t},cancelable:!1}))},o.prototype.onShow=function(t){h.add(this,this.activeClass),h.add(document.body,this.bodyClass,this),this.updateA11y(),this.$$fire("esl:refresh")},o.prototype.onHide=function(t){h.remove(this,this.activeClass),h.remove(document.body,this.bodyClass,this),this.updateA11y()},Object.defineProperty(o.prototype,"open",{get:function(){return this._open},set:function(t){this.toggleAttribute("open",this._open=t)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"activator",{get:function(){return $e.get(this)},set:function(t){t?$e.set(this,t):$e.delete(this)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"$a11yTarget",{get:function(){var t=this.getAttribute("a11y-target");return"none"===t?null:t?this.querySelector(t):this},enumerable:!1,configurable:!0}),o.prototype.updateA11y=function(){var t=this.$a11yTarget;t&&t.setAttribute("aria-hidden",String(!this._open))},o.prototype._onClick=function(t){var e=t.target;this.closeTrigger&&e.closest(this.closeTrigger)&&this.hide({initiator:"close",activator:e,event:t})},o.prototype._onOutsideAction=function(t){var e=t.target;this.contains(e)||this.activator&&this.activator.contains(e)||this.hide({initiator:"outsideaction",hideDelay:0,event:t})},o.prototype._onKeyboardEvent=function(t){this.closeOnEsc&&"Escape"===t.key&&this.hide({initiator:"keyboard",event:t})},o.prototype._onMouseEnter=function(t){var e=this._trackHoverDelay,o={initiator:"mouseenter",trackHover:!0,activator:this.activator,event:t,hideDelay:e};this.show(Object.assign(o,this.trackHoverParams))},o.prototype._onMouseLeave=function(t){var e=this._trackHoverDelay,o={initiator:"mouseleave",trackHover:!0,activator:this.activator,event:t,hideDelay:e};this.hide(Object.assign(o,this.trackHoverParams))},o.is="esl-toggleable",Re([A()],o.prototype,"bodyClass",void 0),Re([A({defaultValue:"open"})],o.prototype,"activeClass",void 0),Re([A({name:"group"})],o.prototype,"groupName",void 0),Re([A({name:"close-on"})],o.prototype,"closeTrigger",void 0),Re([T()],o.prototype,"closeOnEsc",void 0),Re([T()],o.prototype,"closeOnOutsideAction",void 0),Re([ke({defaultValue:{force:!0,initiator:"init"}})],o.prototype,"initialParams",void 0),Re([ke({defaultValue:{}})],o.prototype,"defaultParams",void 0),Re([ke({defaultValue:{}})],o.prototype,"trackHoverParams",void 0),Re([i],o.prototype,"_onClick",null),Re([i],o.prototype,"_onOutsideAction",null),Re([i],o.prototype,"_onKeyboardEvent",null),Re([i],o.prototype,"_onMouseEnter",null),Re([i],o.prototype,"_onMouseLeave",null),Re([t("Toggleable")],o)}(k),Ie=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Me=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},De=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t._popups=new Map,t}return Ie(o,e),o.init=function(t,e){if(void 0===t&&(t=document.body),void 0===e&&(e=this.is),!t)throw new Error("Root element should be specified");t.getElementsByTagName(e).length||(this.register(e),t.insertAdjacentElement("afterbegin",document.createElement(e)))},o.prototype.connectedCallback=function(){e.prototype.connectedCallback.call(this),this.root=this.parentElement},o.prototype.disconnectedCallback=function(){e.prototype.disconnectedCallback.call(this),this.root=null},o.prototype.bindEvents=function(){this.root&&(this.root.addEventListener("esl:before:show",this._onBeforeShow),this.root.addEventListener("esl:show",this._onShow),this.root.addEventListener("esl:hide",this._onHide),this.root.addEventListener("esl:change:group",this._onChangeGroup))},o.prototype.unbindEvents=function(){this.root&&(this.root.removeEventListener("esl:before:show",this._onBeforeShow),this.root.removeEventListener("esl:show",this._onShow),this.root.removeEventListener("esl:hide",this._onHide),this.root.removeEventListener("esl:change:group",this._onChangeGroup))},Object.defineProperty(o.prototype,"root",{get:function(){return this._root},set:function(t){this.unbindEvents(),this._root=t,this.bindEvents()},enumerable:!1,configurable:!0}),o.prototype.isAcceptable=function(t){return t instanceof xe&&!!t.groupName&&"none"!==t.groupName},o.prototype.hideActive=function(t,e){var o=this.getActive(t);o&&o!==e&&o.hide({initiator:"dispatcher",dispatcher:this,activator:e})},o.prototype.setActive=function(t,e){t&&(this.hideActive(t,e),this._popups.set(t,e))},o.prototype.getActive=function(t){return this._popups.get(t)},o.prototype.deleteActive=function(t,e){this.getActive(t)===e&&this._popups.delete(t)},o.prototype._onBeforeShow=function(t){var e=j.source(t);this.isAcceptable(e)&&this.hideActive(e.groupName,e)},o.prototype._onShow=function(t){var e=j.source(t);this.isAcceptable(e)&&this.setActive(e.groupName,e)},o.prototype._onHide=function(t){var e=j.source(t);this.isAcceptable(e)&&this.deleteActive(e.groupName,e)},o.prototype._onChangeGroup=function(t){var e=j.source(t);if(this.isAcceptable(e)){var o=t.detail,n=o.oldGroupName,r=o.newGroupName;this.deleteActive(n,e),this.setActive(r,e)}},o.is="esl-toggleable-dispatcher",Me([i],o.prototype,"_onBeforeShow",null),Me([i],o.prototype,"_onShow",null),Me([i],o.prototype,"_onHide",null),Me([i],o.prototype,"_onChangeGroup",null),Me([t("ToggleableDispatcher")],o)}(k);function Ne(t){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(function e(){document.removeEventListener("DOMContentLoaded",e),setTimeout((function(){return t()}))})):setTimeout((function(){return t()}))}var He=function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s},Ve=function(t,e,o){if(o||2===arguments.length)for(var n,r=0,i=e.length;r<i;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))};function ze(t,e,o){if(!o||"function"!=typeof o.value)throw new TypeError("Only class methods can be decorated via document ready decorator");var n=o.value;o.value=function(){for(var t=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];Ne((function(){return n.call.apply(n,Ve([t],He(e),!1))}))}}function Be(t){return void 0===t&&(t={}),function(e,o){if(Object.hasOwnProperty.call(e,o))throw new TypeError("Can't override own property");Object.defineProperty(e,o,{value:t.value,writable:!t.readonly,enumerable:!0,configurable:!0})}}var Ue=function(){function t(t,e,o,n){this.x=0,this.y=0,this.width=0,this.height=0,this.x=t||0,this.y=e||0,this.width=o||0,this.height=n||0}return t.from=function(t){return void 0===t&&(t={}),new this(t.x||t.left,t.y||t.top,t.width,t.height)},Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cx",{get:function(){return this.x+this.width/2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cy",{get:function(){return this.y+this.height/2},enumerable:!1,configurable:!0}),t.prototype.grow=function(t){return this.y-=t,this.x-=t,this.height+=2*t,this.width+=2*t,this},t.prototype.shrink=function(t){return this.grow(-t)},t}(),qe=function(t){return!t||t instanceof Window?"":t.nodeName.toLowerCase()},Fe=function(t){return"html"===qe(t)?t:(window.ShadowRoot?t instanceof ShadowRoot?t.host:t.assignedSlot||t.parentNode:t.parentNode)||function(t){return void 0===t&&(t=window),(t instanceof Window?t.document:t.ownerDocument).documentElement}(t)},Ge=document.documentElement,We=new Set;function Ke(t,e){var o;void 0===e&&(e=[]);var n=Ye(t),r=n===(null===(o=t.ownerDocument)||void 0===o?void 0:o.body),i=r?Qe(n)?n:[]:n,s=e.concat(i);return r?s:s.concat(Ke(Fe(n)))}function Ye(t){var e;return["html","body","#document"].indexOf(qe(t))>=0?null===(e=t.ownerDocument)||void 0===e?void 0:e.body:t instanceof HTMLElement&&Qe(t)?t:Ye(Fe(t))}function Qe(t){var e=getComputedStyle(t),o=e.overflow,n=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(o+r+n)}function Xe(t,e,o){return e-t.arrow[o]/2-t.marginArrow-Ze(t,o)*t.offsetArrowRatio}function Ze(t,e){return t.element[e]-t.arrow[e]-2*t.marginArrow}!function(){function t(){}t.hasVerticalScroll=function(t){return void 0===t&&(t=Ge),t.scrollHeight>t.clientHeight},t.lock=function(e){var o=t.hasVerticalScroll();e&&"none"!==e&&o&&Ge.classList.add("esl-".concat(e,"-scroll")),Ge.classList.add("esl-disable-scroll")},t.unlock=function(){Ge.classList.remove("esl-disable-scroll","esl-pseudo-scroll","esl-native-scroll")},t.requestLock=function(e,o){e&&We.add(e),We.size>0&&t.lock(o)},t.requestUnlock=function(e,o){e&&We.delete(e),0===We.size&&t.unlock()}}();var Je=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),to=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},eo=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t._deferredUpdatePosition=Jt((function(){return t._updatePosition()})),t._intersectionRatio={},t.closeOnEsc=!0,t.closeOnOutsideAction=!0,t}return Je(o,e),o.prototype.connectedCallback=function(){e.prototype.connectedCallback.call(this),this.$arrow=this.querySelector("span.esl-popup-arrow")},Object.defineProperty(o.prototype,"_isPositioningAlongHorizontal",{get:function(){return["left","right"].includes(this.position)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_isPositioningAlongVertical",{get:function(){return["top","bottom"].includes(this.position)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_offsetArrowRatio",{get:function(){return function(t,e){void 0===e&&(e=0);var o=w(t,e);return Math.max(0,Math.min(void 0!==o?o:e,100))}(this.offsetArrow,50)/100},enumerable:!1,configurable:!0}),o.prototype.onShow=function(t){var o=this;e.prototype.onShow.call(this,t),t.position&&(this.position=t.position),t.behavior&&(this.behavior=t.behavior),t.marginArrow&&(this.marginArrow=t.marginArrow),t.offsetArrow&&(this.offsetArrow=t.offsetArrow),this._offsetTrigger=t.offsetTrigger||0,this._offsetWindow=t.offsetWindow||0,this.style.visibility="hidden",setTimeout((function(){o._updatePosition(),o.style.visibility="visible",o.activator&&o._addActivatorObserver(o.activator)}))},o.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.activator&&this._removeActivatorObserver(this.activator)},o.prototype._checkIntersectionForAdjacentAxis=function(t,e){t&&e<.7&&this.hide()},o.prototype.onActivatorIntersection=function(t,e){var o=t[0];this._intersectionRatio={},o.isIntersecting?(o.intersectionRect.y!==o.boundingClientRect.y&&(this._intersectionRatio.top=o.intersectionRect.height/o.boundingClientRect.height,this._checkIntersectionForAdjacentAxis(this._isPositioningAlongHorizontal,this._intersectionRatio.top)),o.intersectionRect.bottom!==o.boundingClientRect.bottom&&(this._intersectionRatio.bottom=o.intersectionRect.height/o.boundingClientRect.height,this._checkIntersectionForAdjacentAxis(this._isPositioningAlongHorizontal,this._intersectionRatio.bottom)),o.intersectionRect.x!==o.boundingClientRect.x&&(this._intersectionRatio.left=o.intersectionRect.width/o.boundingClientRect.width,this._checkIntersectionForAdjacentAxis(this._isPositioningAlongVertical,this._intersectionRatio.left)),o.intersectionRect.right!==o.boundingClientRect.right&&(this._intersectionRatio.right=o.intersectionRect.width/o.boundingClientRect.width,this._checkIntersectionForAdjacentAxis(this._isPositioningAlongVertical,this._intersectionRatio.right))):this.hide()},o.prototype.onActivatorScroll=function(t){this._updatePosition()},o.prototype._addActivatorObserver=function(t){var e=this,o=Ke(t).map((function(t){var o={passive:!0};return t.addEventListener("scroll",e.onActivatorScroll,o),function(){t&&t.removeEventListener("scroll",e.onActivatorScroll,o)}})),n={rootMargin:"0px",threshold:c(9,(function(t){return t/8}))},r=new IntersectionObserver(this.onActivatorIntersection,n);r.observe(t),window.addEventListener("resize",this._deferredUpdatePosition),window.addEventListener("scroll",this._deferredUpdatePosition),this._activatorObserver={unsubscribers:o,observer:r}},o.prototype._removeActivatorObserver=function(t){var e,o;window.removeEventListener("resize",this._deferredUpdatePosition),window.removeEventListener("scroll",this._deferredUpdatePosition),null===(e=this._activatorObserver.observer)||void 0===e||e.disconnect(),this._activatorObserver.observer=void 0,null===(o=this._activatorObserver.unsubscribers)||void 0===o||o.forEach((function(t){return t()})),this._activatorObserver.unsubscribers=[]},o.prototype._updatePosition=function(){if(this.activator){var t,e=this.activator.getBoundingClientRect(),o=this.getBoundingClientRect(),n=this.$arrow?this.$arrow.getBoundingClientRect():new Ue,r=new Ue(e.left,e.top+window.pageYOffset,e.width,e.height),i=this._offsetTrigger+n.width/2,s=function(t){var e=function(t){var e=Xe(t,t.inner.cx,"width"),o=t.inner.y-t.element.height;switch(t.position){case"left":e=t.inner.x-t.element.width,o=Xe(t,t.inner.cy,"height");break;case"right":e=t.inner.right,o=Xe(t,t.inner.cy,"height");break;case"bottom":e=Xe(t,t.inner.cx,"width"),o=t.inner.bottom}return new Ue(e,o,t.element.width,t.element.height)}(t),o={x:t.marginArrow+Ze(t,"width")*t.offsetArrowRatio,y:t.marginArrow+Ze(t,"height")*t.offsetArrowRatio,position:t.position},n=function(t,e,o){if("fit"!==t.behavior)return t.position;var n,r=!1;switch(t.position){case"bottom":(t.intersectionRatio.bottom||t.outer.bottom<e.bottom)&&(e.y=t.inner.top-t.element.height,r=!0);break;case"left":(t.intersectionRatio.left||e.x<t.outer.x)&&(e.x=t.inner.right,r=!0);break;case"right":(t.intersectionRatio.right||t.outer.right<e.right)&&(e.x=t.inner.x-t.element.width,r=!0);break;default:(t.intersectionRatio.top||e.y<t.outer.y)&&(e.y=t.inner.bottom,r=!0)}return r?{top:"bottom",left:"right",right:"left",bottom:"top"}[n=t.position]||n:t.position}(t,e);return function(t,e,o){"fit"===t.behavior&&(["left","right"].includes(t.position)?function(t,e,o){if(!(t.trigger.y<t.outer.y||t.trigger.bottom>t.outer.bottom)){var n=0;e.y<t.outer.y&&(n=e.y-t.outer.y,e.y=t.outer.y),e.bottom>t.outer.bottom&&(n=e.bottom-t.outer.bottom,e.y-=n),o.y+=n}}(t,e,o):function(t,e,o){if(!(t.trigger.x<t.outer.x||t.trigger.right>t.outer.right)){var n=0;e.x<t.outer.x&&(n=e.x-t.outer.x,e.x=t.outer.x),e.right>t.outer.right&&(n=e.right-t.outer.right,e.x-=n),o.x+=n}}(t,e,o))}(t,e,o),{popup:e,placedAt:n,arrow:o}}({position:this.position,behavior:this.behavior,marginArrow:+this.marginArrow,offsetArrowRatio:this._offsetArrowRatio,intersectionRatio:this._intersectionRatio,arrow:n,element:o,trigger:r,inner:Ue.from(r).grow(i),outer:(void 0===t&&(t=window),Ue.from({x:t.scrollX,y:t.scrollY,width:t.innerWidth||t.document.documentElement.clientWidth,height:t.innerHeight||t.document.documentElement.clientHeight})).shrink(this._offsetWindow)}),a=s.placedAt,c=s.popup,l=s.arrow;this.setAttribute("placed-at",a),this.style.left="".concat(c.x,"px"),this.style.top="".concat(c.y,"px"),this.$arrow&&(this.$arrow.style.left=["top","bottom"].includes(a)?"".concat(l.x,"px"):"",this.$arrow.style.top=["left","right"].includes(a)?"".concat(l.y,"px"):"")}},o.is="esl-popup",to([A({defaultValue:"top"})],o.prototype,"position",void 0),to([A({defaultValue:"fit"})],o.prototype,"behavior",void 0),to([A({defaultValue:"5"})],o.prototype,"marginArrow",void 0),to([A({defaultValue:"".concat(50)})],o.prototype,"offsetArrow",void 0),to([ke({defaultValue:{offsetTrigger:3,offsetWindow:15}})],o.prototype,"defaultParams",void 0),to([Be()],o.prototype,"closeOnEsc",void 0),to([Be()],o.prototype,"closeOnOutsideAction",void 0),to([ze],o.prototype,"connectedCallback",null),to([i],o.prototype,"onActivatorIntersection",null),to([i],o.prototype,"onActivatorScroll",null),to([t("Popup")],o)}(xe),oo=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),no=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},ro=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t._initialHeight=0,t._fallbackTimer=0,t}return oo(o,e),Object.defineProperty(o.prototype,"initialHeight",{get:function(){return this._initialHeight},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"$group",{get:function(){return"none"===this.groupName||this.groupName?null:this.closest(ao.is)},enumerable:!1,configurable:!0}),o.prototype.bindEvents=function(){e.prototype.bindEvents.call(this),this.addEventListener("transitionend",this._onTransitionEnd)},o.prototype.unbindEvents=function(){e.prototype.unbindEvents.call(this),this.removeEventListener("transitionend",this._onTransitionEnd)},o.prototype.onShow=function(t){var o=this;this._initialHeight=this.scrollHeight,e.prototype.onShow.call(this,t),this.beforeAnimate(),t.noCollapse?Zt((function(){return o.afterAnimate()})):this.onAnimate("show")},o.prototype.onHide=function(t){var o=this;this._initialHeight=this.scrollHeight,e.prototype.onHide.call(this,t),this.beforeAnimate(),t.noCollapse?Zt((function(){return o.afterAnimate()})):this.onAnimate("hide")},o.prototype.beforeAnimate=function(){var t=this;this.toggleAttribute("animating",!0),h.add(this,this.animateClass),this.postAnimateClass&&Zt((function(){return h.add(t,t.postAnimateClass)}))},o.prototype.onAnimate=function(t){var e=this;this.style.setProperty("max-height","".concat("hide"===t?this._initialHeight:0,"px")),Zt((function(){e.style.setProperty("max-height","".concat("hide"===t?0:e._initialHeight,"px")),e.fallbackAnimate()}))},o.prototype.afterAnimate=function(){this.clearAnimation(),this.$$fire(this.open?"after:show":"after:hide")},o.prototype.clearAnimation=function(){this.toggleAttribute("animating",!1),this.style.removeProperty("max-height"),h.remove(this,this.animateClass),h.remove(this,this.postAnimateClass)},o.prototype.fallbackAnimate=function(){var t=this,e=+this.fallbackDuration;isNaN(e)||e<0||(this._fallbackTimer&&clearTimeout(this._fallbackTimer),this._fallbackTimer=window.setTimeout((function(){return t.afterAnimate()}),e))},o.prototype._onTransitionEnd=function(t){t&&"max-height"!==t.propertyName||this.afterAnimate()},o.prototype.mergeDefaultParams=function(t){var e,o=(null===(e=this.$group)||void 0===e?void 0:e.panelConfig)||{};return Object.assign({},o,this.defaultParams,t||{})},o.is="esl-panel",no([A({defaultValue:"open"})],o.prototype,"activeClass",void 0),no([A({defaultValue:"animate"})],o.prototype,"animateClass",void 0),no([A({defaultValue:"post-animate"})],o.prototype,"postAnimateClass",void 0),no([A({defaultValue:"1000"})],o.prototype,"fallbackDuration",void 0),no([ke({defaultValue:{force:!0,initiator:"init"}})],o.prototype,"initialParams",void 0),no([T({readonly:!0})],o.prototype,"animating",void 0),no([i],o.prototype,"_onTransitionEnd",null),no([t("Panel")],o)}(xe),io=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),so=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},ao=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t._previousHeight=0,t._fallbackTimer=0,t}var n;return io(o,e),n=o,Object.defineProperty(o,"observedAttributes",{get:function(){return["mode","accordion-group"]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"modeRules",{get:function(){return Lt.parse(this.mode)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"currentMode",{get:function(){return this.modeRules.activeValue||""},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"actionParams",{get:function(){return{initiator:"group",activator:this}},enumerable:!1,configurable:!0}),o.prototype.connectedCallback=function(){e.prototype.connectedCallback.call(this),this.bindEvents(),this.modeRules.addListener(this._onModeChange),this.updateMode()},o.prototype.disconnectedCallback=function(){e.prototype.disconnectedCallback.call(this),this.modeRules.removeListener(this._onModeChange),this.unbindEvents()},o.prototype.attributeChangedCallback=function(t,e,o){if(this.connected&&e!==o&&("mode"===t&&(this.modeRules.removeListener(this._onModeChange),N.clear(this,"modeRules"),this.modeRules.addListener(this._onModeChange),this.updateMode()),"accordion-group"===t)){if("single"!==o&&"multiple"!==o)return void(this.accordionGroup=e);this.reset()}},o.prototype.bindEvents=function(){this.addEventListener("esl:before:show",this._onBeforeShow),this.addEventListener("esl:show",this._onShow),this.addEventListener("esl:before:hide",this._onBeforeHide),this.addEventListener("transitionend",this._onTransitionEnd)},o.prototype.unbindEvents=function(){this.removeEventListener("esl:before:show",this._onBeforeShow),this.removeEventListener("esl:show",this._onShow),this.removeEventListener("esl:before:hide",this._onBeforeHide),this.removeEventListener("transitionend",this._onTransitionEnd)},o.prototype.updateMode=function(){var t=this;this.setAttribute("view",this.currentMode);var e=Ut.first(this.modeClsTarget,this);e&&(n.supportedModes.forEach((function(o){e.classList.toggle("esl-".concat(o,"-view"),t.currentMode===o)})),this.reset())},Object.defineProperty(o.prototype,"$panels",{get:function(){var t=this;return Array.from(this.querySelectorAll(ro.is)).filter((function(e){return t.includesPanel(e)}))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"$activePanels",{get:function(){return this.$panels.filter((function(t){return t.open}))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"shouldCollapse",{get:function(){var t=this.noCollapse.split(",").map((function(t){return t.trim()}));return!t.includes("all")&&!t.includes(this.currentMode)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"panelConfig",{get:function(){return{noCollapse:!this.shouldCollapse||"tabs"===this.currentMode}},enumerable:!1,configurable:!0}),o.prototype.includesPanel=function(t){return t instanceof ro&&t.$group===this},o.prototype.showAll=function(t){var e=this;void 0===t&&(t=[]),this.$panels.forEach((function(o){return!t.includes(o)&&o.show(e.actionParams)}))},o.prototype.hideAll=function(t){var e=this;void 0===t&&(t=[]),this.$activePanels.forEach((function(o){return!t.includes(o)&&o.hide(e.actionParams)}))},o.prototype.toggleAllBy=function(t){var e=this;this.$panels.forEach((function(o){return o.toggle(t(o),e.actionParams)}))},o.prototype.reset=function(){var t=this;ro.registered.then((function(){if("open"===t.currentMode&&t.toggleAllBy((function(){return!0})),"tabs"===t.currentMode||"accordion"===t.currentMode&&"single"===t.accordionGroup){var e=t.$panels.find((function(t){return t.initiallyOpened}));t.toggleAllBy((function(t){return t===e}))}"accordion"===t.currentMode&&"multiple"===t.accordionGroup&&t.toggleAllBy((function(t){return t.initiallyOpened}))}))},o.prototype.onAnimate=function(t,e){var o=this;this.style.height&&"auto"!==this.style.height?(this.style.height="".concat(e,"px"),this.fallbackAnimate()):(this.style.height="".concat(t,"px"),Zt((function(){o.style.height="".concat(e,"px"),o.fallbackAnimate()})))},o.prototype.beforeAnimate=function(){h.add(this,this.animationClass)},o.prototype.afterAnimate=function(){this.style.removeProperty("height"),h.remove(this,this.animationClass)},o.prototype.fallbackAnimate=function(){var t=this,e=+this.fallbackDuration;isNaN(e)||e<0||(this._fallbackTimer&&clearTimeout(this._fallbackTimer),this._fallbackTimer=window.setTimeout((function(){return t.afterAnimate()}),e))},o.prototype._onBeforeShow=function(t){var e=t.target;this.includesPanel(e)&&("accordion"===this.currentMode&&"multiple"===this.accordionGroup||this.hideAll([e]))},o.prototype._onShow=function(t){var e=this,o=t.target;this.includesPanel(o)&&"tabs"===this.currentMode&&(this.beforeAnimate(),this.shouldCollapse?this.onAnimate(this._previousHeight,o.initialHeight):Zt((function(){return e.afterAnimate()})))},o.prototype._onBeforeHide=function(t){if("open"!==this.currentMode){var e=t.target;this.includesPanel(e)&&(this._previousHeight=this.offsetHeight)}else t.preventDefault()},o.prototype._onTransitionEnd=function(t){t&&"height"!==t.propertyName||this.afterAnimate()},o.prototype._onModeChange=function(){this.updateMode()},o.is="esl-panel-group",o.supportedModes=["tabs","accordion","open"],so([A({defaultValue:"accordion"})],o.prototype,"mode",void 0),so([A({defaultValue:""})],o.prototype,"modeClsTarget",void 0),so([A({defaultValue:"animate"})],o.prototype,"animationClass",void 0),so([A({defaultValue:"auto"})],o.prototype,"fallbackDuration",void 0),so([A()],o.prototype,"noCollapse",void 0),so([A({defaultValue:"single"})],o.prototype,"accordionGroup",void 0),so([N()],o.prototype,"modeRules",null),so([i],o.prototype,"_onBeforeShow",null),so([i],o.prototype,"_onShow",null),so([i],o.prototype,"_onBeforeHide",null),so([i],o.prototype,"_onTransitionEnd",null),so([i],o.prototype,"_onModeChange",null),n=so([t("PanelGroup")],o)}(k),co=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),lo=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},uo=function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s},po=function(t,e,o){if(o||2===arguments.length)for(var n,r=0,i=e.length;r<i;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))},ho=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return co(o,e),Object.defineProperty(o,"observedAttributes",{get:function(){return["target"]},enumerable:!1,configurable:!0}),o.prototype.attributeChangedCallback=function(t){if(this.connected)return"target"===t?this.updateTargetFromSelector():void 0},Object.defineProperty(o.prototype,"$target",{get:function(){return this._$target},set:function(t){this.unbindEvents(),this._$target=t,this.bindEvents(),this._onTargetStateChange()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"$a11yTarget",{get:function(){return this.a11yTarget?this.querySelector(this.a11yTarget):this},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"allowHover",{get:function(){return dt.hasHover&&Tt.for(this.trackHover).matches},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"allowClick",{get:function(){return Tt.for(this.trackClick).matches},enumerable:!1,configurable:!0}),o.prototype.connectedCallback=function(){e.prototype.connectedCallback.call(this),this.updateTargetFromSelector(),this.initA11y()},o.prototype.disconnectedCallback=function(){this.unbindEvents()},o.prototype.bindEvents=function(){this.$target&&(this.$target.addEventListener("esl:show",this._onTargetStateChange),this.$target.addEventListener("esl:hide",this._onTargetStateChange),this.addEventListener("click",this._onClick),this.addEventListener("keydown",this._onKeydown),this.addEventListener("mouseenter",this._onMouseEnter),this.addEventListener("mouseleave",this._onMouseLeave))},o.prototype.unbindEvents=function(){this.$target&&(this.$target.removeEventListener("esl:show",this._onTargetStateChange),this.$target.removeEventListener("esl:hide",this._onTargetStateChange),this.removeEventListener("click",this._onClick),this.removeEventListener("keydown",this._onKeydown),this.removeEventListener("mouseenter",this._onMouseEnter),this.removeEventListener("mouseleave",this._onMouseLeave))},o.prototype.updateTargetFromSelector=function(){this.target&&(this.$target=Ut.first(this.target,this))},o.prototype.isTargetIgnored=function(t){if(!(t&&t instanceof HTMLElement&&this.ignore))return!1;var e=t.closest(this.ignore);return!!e&&e!==this&&this.contains(e)},o.prototype.mergeToggleableParams=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object.assign.apply(Object,po([{initiator:"trigger",activator:this}],uo(t),!1))},o.prototype.showTarget=function(t){void 0===t&&(t={});var e=this.mergeToggleableParams({delay:w(this.showDelay)},t);this.$target&&"function"==typeof this.$target.show&&this.$target.show(e)},o.prototype.hideTarget=function(t){void 0===t&&(t={});var e=this.mergeToggleableParams({delay:w(this.hideDelay)},t);this.$target&&"function"==typeof this.$target.hide&&this.$target.hide(e)},o.prototype.toggleTarget=function(t,e){void 0===t&&(t={}),void 0===e&&(e=!this.active),e?this.showTarget(t):this.hideTarget(t)},o.prototype.updateState=function(){var t,e=!!(null===(t=this.$target)||void 0===t?void 0:t.open),o=this.active;this.toggleAttribute("active",e);var n=Ut.first(this.activeClassTarget,this);return n&&h.toggle(n,this.activeClass,e),this.updateA11y(),e!==o},o.prototype._onTargetStateChange=function(t){if(this.updateState()){var e={active:this.active,originalEvent:t};this.$$fire("change:active",{detail:e})}},o.prototype._onClick=function(t){if(this.allowClick&&!this.isTargetIgnored(t.target))switch(t.preventDefault(),this.mode){case"show":return this.showTarget({event:t});case"hide":return this.hideTarget({event:t});default:return this.toggleTarget({event:t})}},o.prototype._onKeydown=function(t){if([ue,pe].includes(t.key)&&!this.isTargetIgnored(t.target))switch(t.preventDefault(),this.mode){case"show":return this.showTarget({event:t});case"hide":return this.hideTarget({event:t});default:return this.toggleTarget({event:t})}},o.prototype._onMouseEnter=function(t){if(this.allowHover){var e=w(this.hoverShowDelay);this.toggleTarget({event:t,delay:e},"hide"!==this.mode),t.preventDefault()}},o.prototype._onMouseLeave=function(t){if(this.allowHover&&"show"!==this.mode&&"hide"!==this.mode){var e=w(this.hoverHideDelay);this.hideTarget({event:t,delay:e,trackHover:!0}),t.preventDefault()}},o.prototype.initA11y=function(){this.$a11yTarget===this&&(this.hasAttribute("role")||this.setAttribute("role","button"),"button"!==this.getAttribute("role")||this.hasAttribute("tabindex")||this.setAttribute("tabindex","0"))},o.prototype.updateA11y=function(){var t=this.$a11yTarget;t&&(t.setAttribute("aria-expanded",String(this.active)),this.$target&&this.$target.id&&t.setAttribute("aria-controls",this.$target.id))},o.is="esl-trigger",lo([T({readonly:!0})],o.prototype,"active",void 0),lo([A({defaultValue:""})],o.prototype,"activeClass",void 0),lo([A({defaultValue:""})],o.prototype,"activeClassTarget",void 0),lo([A({defaultValue:"a[href]"})],o.prototype,"ignore",void 0),lo([A({defaultValue:"::next"})],o.prototype,"target",void 0),lo([A({defaultValue:"toggle"})],o.prototype,"mode",void 0),lo([A({defaultValue:"all"})],o.prototype,"trackClick",void 0),lo([A({defaultValue:"not all"})],o.prototype,"trackHover",void 0),lo([A({defaultValue:""})],o.prototype,"a11yTarget",void 0),lo([A({defaultValue:"none"})],o.prototype,"showDelay",void 0),lo([A({defaultValue:"none"})],o.prototype,"hideDelay",void 0),lo([A({defaultValue:"0"})],o.prototype,"hoverShowDelay",void 0),lo([A({defaultValue:"0"})],o.prototype,"hoverHideDelay",void 0),lo([ze],o.prototype,"connectedCallback",null),lo([ze],o.prototype,"disconnectedCallback",null),lo([i],o.prototype,"_onTargetStateChange",null),lo([i],o.prototype,"_onClick",null),lo([i],o.prototype,"_onKeydown",null),lo([i],o.prototype,"_onMouseEnter",null),lo([i],o.prototype,"_onMouseLeave",null),lo([t("Trigger")],o)}(k),fo=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),yo=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},vo=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return fo(o,e),o.prototype.initA11y=function(){var t=this.$a11yTarget;t&&(t.hasAttribute("role")||t.setAttribute("role","tab"))},o.prototype.updateA11y=function(){var t=this.$a11yTarget;t&&(t.setAttribute("aria-selected",String(this.active)),t.setAttribute("tabindex",this.active?"0":"-1"),this.$target&&this.$target.id&&this.setAttribute("aria-controls",this.$target.id))},o.is="esl-tab",yo([A({defaultValue:"show"})],o.prototype,"mode",void 0),yo([A({defaultValue:"active"})],o.prototype,"activeClass",void 0),yo([t("Tab")],o)}(ho),go=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),bo=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},mo=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return go(o,e),Object.defineProperty(o.prototype,"$root",{get:function(){return this.parentElement},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"$targets",{get:function(){return this.$root?Ut.all(this.targets,this.$root):[]},enumerable:!1,configurable:!0}),o.prototype.connectedCallback=function(){e.prototype.connectedCallback.call(this),this.bindEvents()},o.prototype.disconnectedCallback=function(){e.prototype.disconnectedCallback.call(this),this.unbindEvents()},o.prototype.bindEvents=function(){var t;null===(t=this.$root)||void 0===t||t.addEventListener("keydown",this._onKeydown)},o.prototype.unbindEvents=function(){var t;null===(t=this.$root)||void 0===t||t.removeEventListener("keydown",this._onKeydown)},o.prototype._onKeydown=function(t){var e=t.target;this.$targets.includes(e)&&([de,fe].includes(t.key)&&(this.goTo("prev",e),t.preventDefault()),[ve,ye].includes(t.key)&&(this.goTo("next",e),t.preventDefault()))},o.prototype.goTo=function(t,e){if(void 0===e&&(e=this.current()),e){var o=this[t](e);o&&(o.focus({preventScroll:this.preventScroll}),this.activateSelected&&o.click())}},o.prototype.next=function(t){var e=this.$targets,o=e.indexOf(t);return e[(o+1)%e.length]},o.prototype.prev=function(t){var e=this.$targets,o=e.indexOf(t);return e[(o-1+e.length)%e.length]},o.prototype.current=function(){var t=document.activeElement;return this.$targets.includes(t)?t:null},o.is="esl-a11y-group",bo([A({defaultValue:"::child"})],o.prototype,"targets",void 0),bo([T({})],o.prototype,"activateSelected",void 0),bo([T({})],o.prototype,"preventScroll",void 0),bo([i],o.prototype,"_onKeydown",null),bo([t("A11yGroup")],o)}(k),_o=function(){function t(){}return t.isRtl=function(t){return void 0===t&&(t=document.body),"rtl"===getComputedStyle(t).direction},Object.defineProperty(t,"scrollType",{get:function(){var t="default",e=function(){var t=document.createElement("div");return t.appendChild(document.createTextNode("ESL!")),t.dir="rtl",Object.assign(t.style,{position:"absolute",top:"-1000px",width:"4px",height:"1px",fontSize:"14px",overflow:"scroll"}),t}();return document.body.appendChild(e),e.scrollLeft<=0&&(e.scrollLeft=2,t=e.scrollLeft<2?"negative":"reverse"),document.body.removeChild(e),t},enumerable:!1,configurable:!0}),t.normalizeScrollLeft=function(e,o,n){switch(void 0===o&&(o=null),void 0===n&&(n=t.isRtl(e)),o=null===o?e.scrollLeft:o,n?t.scrollType:""){case"negative":return e.scrollWidth-e.clientWidth+o;case"reverse":return e.scrollWidth-e.clientWidth-o;default:return o}},function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);i>3&&s&&Object.defineProperty(e,o,s)}([N()],t,"scrollType",null),t}(),wo=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Oo=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},Eo=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t._deferredUpdateArrows=ce(t.updateArrows,100,t),t._deferredFitToViewport=ce(t.fitToViewport,100,t),t._onResize=Jt((function(){return t._deferredFitToViewport(t.$current,"auto")})),t}var n;return wo(o,e),n=o,Object.defineProperty(o,"observedAttributes",{get:function(){return["scrollable"]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"scrollableTypeRules",{get:function(){return Lt.parse(this.scrollable)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"currentScrollableType",{get:function(){return this.scrollableTypeRules.activeValue||""},enumerable:!1,configurable:!0}),o.prototype.connectedCallback=function(){e.prototype.connectedCallback.call(this),this.scrollableTypeRules.addListener(this._onScrollableTypeChange),this.updateScrollableType()},o.prototype.disconnectedCallback=function(){e.prototype.disconnectedCallback.call(this),this.scrollableTypeRules.removeListener(this._onScrollableTypeChange),this.unbindScrollableEvents()},o.prototype.attributeChangedCallback=function(t,e,o){this.connected&&e!==o&&"scrollable"===t&&(this.scrollableTypeRules.removeListener(this._onScrollableTypeChange),N.clear(this,"scrollableTypeRules"),this.scrollableTypeRules.addListener(this._onScrollableTypeChange),this.updateScrollableType())},o.prototype.bindScrollableEvents=function(){var t;this.addEventListener("esl:change:active",this._onTriggerStateChange),this.addEventListener("click",this._onClick,!1),this.addEventListener("focusin",this._onFocus),null===(t=this.$scrollableTarget)||void 0===t||t.addEventListener("scroll",this._onScroll,{passive:!0}),window.addEventListener("resize",this._onResize)},o.prototype.unbindScrollableEvents=function(){var t;this.removeEventListener("esl:change:active",this._onTriggerStateChange),this.removeEventListener("click",this._onClick,!1),this.removeEventListener("focusin",this._onFocus),null===(t=this.$scrollableTarget)||void 0===t||t.removeEventListener("scroll",this._onScroll),window.removeEventListener("resize",this._onResize)},Object.defineProperty(o.prototype,"$tabs",{get:function(){var t=this.querySelectorAll(vo.is);return t?Array.from(t):[]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"$current",{get:function(){return this.$tabs.find((function(t){return t.active}))||null},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"$scrollableTarget",{get:function(){return this.querySelector(this.scrollableTarget)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isScrollable",{get:function(){return"disabled"!==this.currentScrollableType},enumerable:!1,configurable:!0}),o.prototype.moveTo=function(t,e){void 0===e&&(e="smooth");var o=this.$scrollableTarget;if(o){var n=o.offsetWidth;n=_o.isRtl(this)&&"reverse"!==_o.scrollType?-n:n,n="left"===t?-n:n,o.scrollBy({left:n,behavior:e})}},o.prototype.fitToViewport=function(t,e){void 0===e&&(e="smooth"),this.updateMarkers();var o=this.$scrollableTarget;if(o&&t){var n=o.getBoundingClientRect(),r=t.getBoundingClientRect();o.scrollBy({left:this.calcScrollOffset(r,n),behavior:e}),this.updateArrows()}},o.prototype.calcScrollOffset=function(t,e){var o=_o.isRtl(this)&&"reverse"===_o.scrollType;if("center"===this.currentScrollableType){var n=t.left+t.width/2-(e.left+e.width/2);return o?-n:n}return t.right>e.right?o?Math.floor(e.right-t.right):Math.ceil(t.right-e.right):t.left<e.left?o?Math.ceil(e.left-t.left):Math.floor(t.left-e.left):void 0},o.prototype.updateArrows=function(){var t=this.$scrollableTarget;if(t){var e=_o.isRtl(this)&&"default"===_o.scrollType,o=Math.abs(t.scrollLeft)>1,n=Math.abs(t.scrollLeft)+t.clientWidth+1<t.scrollWidth,r=this.querySelector('[data-tab-direction="right"]'),i=this.querySelector('[data-tab-direction="left"]');i&&i.toggleAttribute("disabled",!(e?n:o)),r&&r.toggleAttribute("disabled",!(e?o:n))}},o.prototype.updateMarkers=function(){var t=this.$scrollableTarget;if(t){var e=this.isScrollable&&t.scrollWidth>this.clientWidth;this.toggleAttribute("has-scroll",e)}},o.prototype.updateScrollableType=function(){var t=this;n.supportedScrollableTypes.forEach((function(e){h.toggle(t,"".concat(e,"-alignment"),t.currentScrollableType===e)})),this._deferredFitToViewport(this.$current),"disabled"===this.currentScrollableType?this.unbindScrollableEvents():this.bindScrollableEvents()},o.prototype._onTriggerStateChange=function(t){t.detail.active&&this._deferredFitToViewport(this.$current)},o.prototype._onClick=function(t){var e=t.target.closest("[data-tab-direction]"),o=e&&e.dataset.tabDirection;o&&this.moveTo(o)},o.prototype._onFocus=function(t){var e=t.target;e instanceof vo&&this._deferredFitToViewport(e)},o.prototype._onScroll=function(){this._deferredUpdateArrows()},o.prototype._onScrollableTypeChange=function(){this.updateScrollableType()},o.is="esl-tabs",o.supportedScrollableTypes=["disabled","side","center"],Oo([A({defaultValue:"disabled"})],o.prototype,"scrollable",void 0),Oo([A({defaultValue:".esl-tab-container"})],o.prototype,"scrollableTarget",void 0),Oo([N()],o.prototype,"scrollableTypeRules",null),Oo([i],o.prototype,"_onTriggerStateChange",null),Oo([i],o.prototype,"_onClick",null),Oo([i],o.prototype,"_onFocus",null),Oo([i],o.prototype,"_onScroll",null),Oo([i],o.prototype,"_onScrollableTypeChange",null),n=Oo([t("Tabs")],o)}(k),Co=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Po=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},Ao=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.deferredRefresh=Jt((function(){return t.refresh()})),t._resizeObserver=new ResizeObserver(t.deferredRefresh),t._mutationObserver=new MutationObserver((function(e){return t.updateContentObserve(e)})),t._deferredDragToCoordinate=Jt(t._dragToCoordinate),t}return Co(o,e),Object.defineProperty(o,"observedAttributes",{get:function(){return["target","horizontal"]},enumerable:!1,configurable:!0}),o.prototype.connectedCallback=function(){e.prototype.connectedCallback.call(this),this.findTarget(),this.render(),this.bindEvents()},o.prototype.disconnectedCallback=function(){this.unbindEvents()},o.prototype.attributeChangedCallback=function(t,e,o){(this.connected||e!==o)&&("target"===t&&this.findTarget(),"horizontal"===t&&this.refresh())},o.prototype.findTarget=function(){this.$target=this.target?Ut.first(this.target,this):null},Object.defineProperty(o.prototype,"$target",{get:function(){return this._$target||null},set:function(t){this.unbindTargetEvents(),this._$target=t,this.bindTargetEvents(),this.deferredRefresh()},enumerable:!1,configurable:!0}),o.prototype.render=function(){this.innerHTML="",this.$scrollbarTrack=document.createElement("div"),this.$scrollbarTrack.className=this.trackClass,this.$scrollbarThumb=document.createElement("div"),this.$scrollbarThumb.className=this.thumbClass,this.$scrollbarTrack.appendChild(this.$scrollbarThumb),this.appendChild(this.$scrollbarTrack)},o.prototype.bindEvents=function(){this.addEventListener("click",this._onClick),this.$scrollbarThumb.addEventListener("mousedown",this._onMouseDown),window.addEventListener("esl:refresh",this._onRefresh)},o.prototype.bindTargetEvents=function(){var t=this;this.$target&&(document.documentElement===this.$target?(window.addEventListener("resize",this._onRefresh,{passive:!0}),window.addEventListener("scroll",this._onRefresh,{passive:!0})):(this._resizeObserver.observe(this.$target),this._mutationObserver.observe(this.$target,{childList:!0}),Array.from(this.$target.children).forEach((function(e){return t._resizeObserver.observe(e)})),this.$target.addEventListener("scroll",this._onRefresh,{passive:!0})))},o.prototype.updateContentObserve=function(t){var e=this;if(void 0===t&&(t=[]),this.$target){var o=t.filter((function(t){return"childList"===t.type}));o.forEach((function(t){Array.from(t.addedNodes).filter((function(t){return t instanceof Element})).forEach((function(t){return e._resizeObserver.observe(t)})),Array.from(t.removedNodes).filter((function(t){return t instanceof Element})).forEach((function(t){return e._resizeObserver.unobserve(t)}))})),o.length&&this.deferredRefresh()}},o.prototype.unbindEvents=function(){this.removeEventListener("click",this._onClick),this.$scrollbarThumb.removeEventListener("mousedown",this._onMouseDown),this.unbindTargetEvents(),window.removeEventListener("esl:refresh",this._onRefresh)},o.prototype.unbindTargetEvents=function(){this.$target&&(document.documentElement===this.$target?(window.removeEventListener("resize",this._onRefresh),window.removeEventListener("scroll",this._onRefresh)):(this._resizeObserver.disconnect(),this._mutationObserver.disconnect(),this.$target.removeEventListener("scroll",this._onRefresh)))},Object.defineProperty(o.prototype,"scrollableSize",{get:function(){return this.$target?this.horizontal?this.$target.scrollWidth-this.$target.clientWidth:this.$target.scrollHeight-this.$target.clientHeight:0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"trackOffset",{get:function(){return this.horizontal?this.$scrollbarTrack.offsetWidth:this.$scrollbarTrack.offsetHeight},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"thumbOffset",{get:function(){return this.horizontal?this.$scrollbarThumb.offsetWidth:this.$scrollbarThumb.offsetHeight},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"thumbSize",{get:function(){if(!this.$target||!this.$target.scrollWidth||!this.$target.scrollHeight)return 1;var t=this.horizontal?this.$target.clientWidth:this.$target.clientHeight,e=this.horizontal?this.$target.scrollWidth:this.$target.scrollHeight;return Math.min((t+1)/e,1)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"position",{get:function(){if(!this.$target)return 0;var t=this.horizontal?_o.normalizeScrollLeft(this.$target):this.$target.scrollTop;return this.scrollableSize?t/this.scrollableSize:0},set:function(t){this.scrollTargetTo(this.scrollableSize*this.normalizePosition(t)),this.update()},enumerable:!1,configurable:!0}),o.prototype.normalizePosition=function(t){var e=Math.min(1,Math.max(0,t));return this.$target&&!_o.isRtl(this.$target)?e:"negative"===_o.scrollType?e-1:1-e},o.prototype.scrollTargetTo=function(t){var e;this.$target&&this.$target.scrollTo(((e={})[this.horizontal?"left":"top"]=t,e.behavior=this.dragging?"auto":"smooth",e))},o.prototype.update=function(){var t;if(this.$$fire("change:scroll",{bubbles:!1}),this.$scrollbarThumb&&this.$scrollbarTrack){var e=this.trackOffset*this.thumbSize,o=(this.trackOffset-e)*this.position,n=((t={})[this.horizontal?"left":"top"]="".concat(o,"px"),t[this.horizontal?"width":"height"]="".concat(e,"px"),t);Object.assign(this.$scrollbarThumb.style,n)}},o.prototype.updateMarkers=function(){var t=this.position,e=this.thumbSize;this.toggleAttribute("at-start",e<1&&t<=0),this.toggleAttribute("at-end",e<1&&t>=1),this.toggleAttribute("inactive",e>=1)},o.prototype.refresh=function(){this.update(),this.updateMarkers()},o.prototype._onMouseDown=function(t){var e;this.toggleAttribute("dragging",!0),null===(e=this.$target)||void 0===e||e.style.setProperty("scroll-behavior","auto"),this._initialPosition=this.position,this._initialMousePosition=this.horizontal?t.clientX:t.clientY,window.addEventListener("mousemove",this._onMouseMove),window.addEventListener("mouseup",this._onMouseUp),window.addEventListener("click",this._onBodyClick,{capture:!0}),t.preventDefault()},o.prototype._dragToCoordinate=function(t){var e=t-this._initialMousePosition,o=this.trackOffset-this.thumbOffset,n=o?e/o:0;this.position=this._initialPosition+n,this.updateMarkers()},o.prototype._onMouseMove=function(t){this.dragging&&(this._deferredDragToCoordinate(this.horizontal?t.clientX:t.clientY),t.preventDefault(),t.stopPropagation())},o.prototype._onMouseUp=function(){var t;this.toggleAttribute("dragging",!1),null===(t=this.$target)||void 0===t||t.style.removeProperty("scroll-behavior"),window.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("mouseup",this._onMouseUp)},o.prototype._onBodyClick=function(t){t.stopImmediatePropagation(),window.removeEventListener("click",this._onBodyClick,{capture:!0})},o.prototype._onClick=function(t){if(t.target===this.$scrollbarTrack||t.target===this){var e=j.normalizeCoordinates(t,this.$scrollbarTrack),o=this.horizontal?e.x:e.y,n=this.trackOffset-this.thumbOffset,r=(o-this.thumbOffset/2)/n;this.position=Math.min(this.position+this.thumbSize,Math.max(this.position-this.thumbSize,r))}},o.prototype._onRefresh=function(t){var e=t.target;"scroll"===t.type&&this.dragging||("esl:refresh"!==t.type||Rt(e.parentNode,this.$target))&&this.deferredRefresh()},o.is="esl-scrollbar",Po([T()],o.prototype,"horizontal",void 0),Po([A({defaultValue:"::parent"})],o.prototype,"target",void 0),Po([A({defaultValue:"scrollbar-thumb"})],o.prototype,"thumbClass",void 0),Po([A({defaultValue:"scrollbar-track"})],o.prototype,"trackClass",void 0),Po([T({readonly:!0})],o.prototype,"dragging",void 0),Po([T({readonly:!0})],o.prototype,"inactive",void 0),Po([T({readonly:!0})],o.prototype,"atStart",void 0),Po([T({readonly:!0})],o.prototype,"atEnd",void 0),Po([ze],o.prototype,"connectedCallback",null),Po([ze],o.prototype,"disconnectedCallback",null),Po([i],o.prototype,"_onMouseDown",null),Po([i],o.prototype,"_onMouseMove",null),Po([i],o.prototype,"_onMouseUp",null),Po([i],o.prototype,"_onBodyClick",null),Po([i],o.prototype,"_onClick",null),Po([i],o.prototype,"_onRefresh",null),Po([t("Scrollbar")],o)}(k),To=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),jo=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},So=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}var n;return To(o,e),n=o,Object.defineProperty(o,"observedAttributes",{get:function(){return["target"]},enumerable:!1,configurable:!0}),o.init=function(t){var e=document.querySelector("body > ".concat(n.is));return e||(e=document.createElement(n.is),t&&Object.assign(e,t),document.body.appendChild(e)),e},o.prototype.mergeDefaultParams=function(t){var e=this.constructor;return Object.assign({},e.defaultConfig,this.defaultParams||{},t||{})},o.prototype.attributeChangedCallback=function(t,e,o){this.connected&&"target"===t&&(this.$target=Ut.first(this.target))},o.prototype.connectedCallback=function(){var t;e.prototype.connectedCallback.call(this),this.setAttribute("role",this.getAttribute("role")||"alert"),this.$content=document.createElement("div"),this.$content.className="esl-alert-content",this.innerHTML="",this.appendChild(this.$content),dt.isIE&&this.appendChild(((t=document.createElement("iframe")).className="ie-zindex-fix",t.src="about:blank",t)),this.target&&(this.$target=Ut.first(this.target,this))},o.prototype.unbindEvents=function(){e.prototype.unbindEvents.call(this),this.unbindTargetEvents()},Object.defineProperty(o.prototype,"$target",{get:function(){return this._$target},set:function(t){this.unbindTargetEvents(),this._$target=t,this.bindTargetEvents()},enumerable:!1,configurable:!0}),o.prototype.bindTargetEvents=function(){this.$target&&this.connected&&(this.$target.addEventListener("".concat(n.eventNs,":show"),this._onTargetEvent),this.$target.addEventListener("".concat(n.eventNs,":hide"),this._onTargetEvent))},o.prototype.unbindTargetEvents=function(){this.$target&&(this.$target.removeEventListener("".concat(n.eventNs,":show"),this._onTargetEvent),this.$target.removeEventListener("".concat(n.eventNs,":hide"),this._onTargetEvent))},o.prototype.onShow=function(t){this._clearTimeout&&window.clearTimeout(this._clearTimeout),(t.html||t.text)&&(this.render(t),e.prototype.onShow.call(this,t)),this.hide(t)},o.prototype.onHide=function(t){var o=this;e.prototype.onHide.call(this,t),this._clearTimeout=window.setTimeout((function(){return o.clear()}),t.hideTime)},o.prototype.render=function(t){var e=t.text,o=t.html,n=t.cls;h.remove(this,this.activeCls),h.add(this,this.activeCls=n),o&&(this.$content.innerHTML=o),e&&(this.$content.textContent=e)},o.prototype.clear=function(){this.$content.innerHTML="",h.remove(this,this.activeCls)},o.prototype._onTargetEvent=function(t){if(t.type==="".concat(n.eventNs,":show")){var e=Object.assign({},t.detail,{force:!0});this.show(e)}t.type==="".concat(n.eventNs,":hide")&&(e=Object.assign({},{hideDelay:0},t.detail,{force:!0}),this.hide(e)),t.stopPropagation()},o.is="esl-alert",o.eventNs="esl:alert",o.defaultConfig={hideTime:300,hideDelay:2500},jo([A({defaultValue:"::parent"})],o.prototype,"target",void 0),jo([ke()],o.prototype,"defaultParams",void 0),jo([i],o.prototype,"_onTargetEvent",null),n=jo([t("Alert")],o)}(xe),ko=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Lo=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},Ro=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}var n;return ko(o,e),n=o,Object.defineProperty(o,"observedAttributes",{get:function(){return["selected","disabled"]},enumerable:!1,configurable:!0}),o.prototype.connectedCallback=function(){e.prototype.connectedCallback.call(this),this.tabIndex=0,this.setAttribute("role","checkbox"),this.setAttribute("aria-selected",String(this.selected))},o.prototype.attributeChangedCallback=function(t){"selected"===t&&this.setAttribute("aria-selected",String(this.selected)),"disabled"===t&&this.setAttribute("aria-disabled",String(this.disabled))},o.prototype.update=function(t){t&&(this.original=t),this.value=this.original.value,this.disabled=this.original.disabled,this.selected=this.original.selected,this.textContent=this.original.text},o.build=function(t){var e=document.createElement(n.is);return e.update(t),e},o.is="esl-select-item",Lo([A()],o.prototype,"value",void 0),Lo([T()],o.prototype,"selected",void 0),Lo([T()],o.prototype,"disabled",void 0),n=Lo([t("SelectItem")],o)}(k),$o=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),xo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._mutationObserver=new MutationObserver(e._onTargetMutation.bind(e)),e}return $o(e,t),Object.defineProperty(e.prototype,"$select",{get:function(){return this._$select},set:function(t){var e=this._$select;this._$select=t,this._onTargetChange(t,e)},enumerable:!1,configurable:!0}),e.prototype.connectedCallback=function(){t.prototype.connectedCallback.call(this),this.ownerDocument.addEventListener("reset",this._onReset)},e.prototype.disconnectedCallback=function(){t.prototype.disconnectedCallback.call(this),this.ownerDocument.removeEventListener("reset",this._onReset),this._mutationObserver.disconnect(),this._$select&&this._$select.removeEventListener("change",this._onChange)},e.prototype._onChange=function(t){},e.prototype._onListChange=function(){},e.prototype._onTargetChange=function(t,e){e&&e.removeEventListener("change",this._onChange),t&&t.addEventListener("change",this._onChange),this._mutationObserver.disconnect();var o=this.constructor;t&&this._mutationObserver.observe(t,o.observationConfig)},e.prototype._onTargetMutation=function(t){t.some((function(t){return t.addedNodes.length+t.removedNodes.length>0}))?this._onListChange():this._onChange()},e.prototype._onReset=function(t){var e=this;t.target&&t.target===this.form&&setTimeout((function(){return e._onChange(t)}))},Object.defineProperty(e.prototype,"multiple",{get:function(){return this.$select&&this.$select.multiple},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.$select?Array.from(this.$select.options):[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedOptions",{get:function(){return this.options.filter((function(t){return t.selected}))},enumerable:!1,configurable:!0}),e.prototype.getOption=function(t){return this.options.find((function(e){return e.value===t}))},e.prototype.setSelected=function(t,e){var o=this.getOption(t);o&&(o.selected=e),j.dispatch(this.$select,"change")},e.prototype.isSelected=function(t){var e=this.getOption(t);return!!e&&e.selected},e.prototype.hasSelected=function(){return this.options.some((function(t){return t.selected}))},e.prototype.isAllSelected=function(){return this.options.every((function(t){return t.selected||t.disabled}))},e.prototype.setAllSelected=function(t){if(!this.multiple)return!1;this.options.forEach((function(e){return e.selected=!e.disabled&&t})),j.dispatch(this.$select,"change")},Object.defineProperty(e.prototype,"value",{get:function(){var t;return null===(t=this.$select)||void 0===t?void 0:t.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"values",{get:function(){return this.selectedOptions.map((function(t){return t.value}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"form",{get:function(){var t;return null===(t=this.$select)||void 0===t?void 0:t.form},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){var t;return null===(t=this.$select)||void 0===t?void 0:t.name},set:function(t){this.$select&&(this.$select.name=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){var t;return null===(t=this.$select)||void 0===t?void 0:t.required},set:function(t){this.$select&&(this.$select.required=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"validity",{get:function(){var t;return null===(t=this.$select)||void 0===t?void 0:t.validity},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"validationMessage",{get:function(){var t;return null===(t=this.$select)||void 0===t?void 0:t.validationMessage},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"willValidate",{get:function(){var t;return null===(t=this.$select)||void 0===t?void 0:t.willValidate},enumerable:!1,configurable:!0}),e.prototype.checkValidity=function(){var t;return null===(t=this.$select)||void 0===t?void 0:t.checkValidity()},e.prototype.reportValidity=function(){var t;return null===(t=this.$select)||void 0===t?void 0:t.reportValidity()},e.prototype.setCustomValidity=function(t){var e;null===(e=this.$select)||void 0===e||e.setCustomValidity(t)},e.observationConfig={subtree:!0,attributes:!0,attributeFilter:["value","selected","disabled"],childList:!0,characterData:!0},function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);i>3&&s&&Object.defineProperty(e,o,s)}([i],e.prototype,"_onReset",null),e}(k),Io=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Mo=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},Do=function(e){function o(){var t=e.call(this)||this;return t.$list=document.createElement("div"),t.$list.setAttribute("role","list"),t.$list.classList.add("esl-scrollable-content"),t.$list.classList.add("esl-select-list-container"),t.$scroll=document.createElement(Ao.is),t.$scroll.target="::prev",t.$selectAll=document.createElement(Ro.is),t.$selectAll.classList.add("esl-select-all-item"),t}return Io(o,e),Object.defineProperty(o,"observedAttributes",{get:function(){return["select-all-label","disabled"]},enumerable:!1,configurable:!0}),o.register=function(){Ro.register(),e.register.call(this)},o.prototype.attributeChangedCallback=function(t,e,o){this.connected&&o!==e&&("select-all-label"===t&&(this.$selectAll.textContent=o),"disabled"===t&&this._updateDisabled())},o.prototype.connectedCallback=function(){e.prototype.connectedCallback.call(this),this.appendChild(this.$selectAll),this.appendChild(this.$list),this.appendChild(this.$scroll),this.bindSelect(),this.bindEvents(),this._updateDisabled()},o.prototype.disconnectedCallback=function(){e.prototype.disconnectedCallback.call(this),this.appendChild(this.$selectAll),this.appendChild(this.$list),this.appendChild(this.$scroll),this.unbindEvents()},o.prototype.bindSelect=function(){var t=this.querySelector("[esl-select-target]");t&&t instanceof HTMLSelectElement&&(this.$select=t)},o.prototype.bindEvents=function(){this.$select&&(this.addEventListener("click",this._onClick),this.addEventListener("keydown",this._onKeydown))},o.prototype.unbindEvents=function(){this.$select&&(this.removeEventListener("click",this._onClick),this.removeEventListener("keydown",this._onKeydown))},o.prototype._renderItems=function(){this.$select&&(this.$list.innerHTML="",this.$items=this.options.map(Ro.build),this.pinSelected?(this._renderGroup(this.$items.filter((function(t){return t.selected}))),this._renderGroup(this.$items.filter((function(t){return!t.selected})))):this._renderGroup(this.$items),this.toggleAttribute("multiple",this.multiple))},o.prototype._renderGroup=function(t){var e=this;t.forEach((function(t){return e.$list.appendChild(t)}));var o=function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s}(t.slice(-1),1)[0];o&&o.classList.add("last-in-group")},o.prototype._updateSelectAll=function(){this.multiple?(this.$selectAll.tabIndex=0,this.$selectAll.selected=this.isAllSelected(),this.$selectAll.textContent=this.selectAllLabel):this.$selectAll.removeAttribute("tabindex")},o.prototype._updateDisabled=function(){this.setAttribute("aria-disabled",String(this.disabled)),this.$select&&(this.$select.disabled=this.disabled)},o.prototype._onTargetChange=function(t,o){e.prototype._onTargetChange.call(this,t,o),this._updateSelectAll(),this._renderItems(),this.bindEvents()},o.prototype._onChange=function(){this._updateSelectAll(),this.$items.forEach((function(t){return t.update()}))},o.prototype._onListChange=function(){this._renderItems()},o.prototype._onClick=function(t){if(!this.disabled){var e=t.target;e&&e instanceof Ro&&(e.classList.contains("esl-select-all-item")?this.setAllSelected(!e.selected):this.setSelected(e.value,!e.selected))}},o.prototype._onKeydown=function(t){if([ue,pe].includes(t.key)&&(this._onClick(t),t.preventDefault()),[de,ve].includes(t.key)){var e=this.$items.indexOf(document.activeElement),o=this.$items.length,n=t.key===de?-1:1;if(-1===e)return;this.$items[(e+n+o)%o].focus(),t.preventDefault()}},o.is="esl-select-list",Mo([A({defaultValue:"Select All"})],o.prototype,"selectAllLabel",void 0),Mo([T()],o.prototype,"disabled",void 0),Mo([T()],o.prototype,"pinSelected",void 0),Mo([i],o.prototype,"_onTargetChange",null),Mo([i],o.prototype,"_onChange",null),Mo([i],o.prototype,"_onListChange",null),Mo([i],o.prototype,"_onClick",null),Mo([i],o.prototype,"_onKeydown",null),Mo([t("SelectList")],o)}(xo),No=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ho=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},Vo=function(t){function e(){var e=t.call(this)||this;return e._deferredRerender=Jt((function(){return e.render()})),e.$remove=document.createElement("button"),e.$remove.type="button",e.$remove.setAttribute("aria-label","Clear"),e.$remove.classList.add("esl-select-clear-btn"),e.$remove.classList.add("icon-nav-close-menu"),e.$container=document.createElement("div"),e.$container.classList.add("esl-select-text-container"),e.$text=document.createElement("span"),e.$text.classList.add("esl-select-text"),e.$container.appendChild(e.$text),e.$rest=document.createElement("span"),e.$rest.classList.add("esl-select-text"),e.$container.appendChild(e.$rest),e}return No(e,t),Object.defineProperty(e.prototype,"owner",{get:function(){return this.parentElement instanceof Go?this.parentElement:null},enumerable:!1,configurable:!0}),e.prototype.connectedCallback=function(){var o=this;t.prototype.connectedCallback.call(this),this.appendChild(this.$container),this.appendChild(this.$remove),this.bindEvents(),customElements.whenDefined(e.is).then((function(){return o.render()}))},e.prototype.disconnectedCallback=function(){t.prototype.disconnectedCallback.call(this),this.removeChild(this.$container),this.removeChild(this.$remove),this.unbindEvents()},e.prototype.bindEvents=function(){this.owner&&(this.owner.addEventListener("esl:change:value",this.render),this.$remove.addEventListener("click",this._onClear),window.addEventListener("resize",this._deferredRerender))},e.prototype.unbindEvents=function(){this.owner&&(this.owner.removeEventListener("esl:change:value",this.render),this.$remove.removeEventListener("click",this._onClear),window.removeEventListener("resize",this._deferredRerender))},e.prototype.render=function(){if(this.owner){var t=this.owner.selectedOptions;this.hasValue=!!t.length,this.toggleAttribute("multiple",this.owner.multiple),this.applyItems(t.map((function(t){return t.text})))}},e.prototype.apply=function(t,e){var o=t.length,n=o-e,r={rest:n,length:o,limit:e};this.$text.textContent=t.slice(0,e).join(", "),this.$rest.textContent=n>0?C(this.moreLabelFormat||"",r):""},e.prototype.applyItems=function(t){var e=0;do{this.apply(t,++e)}while(e<=t.length&&this.$container.scrollWidth<=this.$container.clientWidth);this.apply(t,e-1)},e.prototype._onClear=function(t){this.owner&&(this.owner.setAllSelected(!1),t.stopPropagation(),t.preventDefault())},e.is="esl-select-renderer",Ho([A()],e.prototype,"emptyText",void 0),Ho([A()],e.prototype,"moreLabelFormat",void 0),Ho([T()],e.prototype,"hasValue",void 0),Ho([i],e.prototype,"render",null),Ho([i],e.prototype,"_onClear",null),e}(k),zo=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Bo=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},Uo=function(t){function e(){var e=t.call(this)||this;return e._deferredUpdatePosition=Jt((function(){return e.updatePosition()})),e.closeOnEsc=!0,e.closeOnOutsideAction=!0,e.$list=document.createElement(Do.is),e}return zo(e,t),e.register=function(){Do.register(),t.register.call(this)},e.prototype.setInitialState=function(){},e.prototype.connectedCallback=function(){t.prototype.connectedCallback.call(this),this.appendChild(this.$list)},e.prototype.disconnectedCallback=function(){t.prototype.disconnectedCallback.call(this),this.removeChild(this.$list)},e.prototype.bindEvents=function(){t.prototype.bindEvents.call(this),window.addEventListener("resize",this._deferredUpdatePosition)},e.prototype.unbindEvents=function(){t.prototype.unbindEvents.call(this),window.removeEventListener("resize",this._deferredUpdatePosition)},e.prototype.onShow=function(e){document.body.appendChild(this),this._disposeTimeout&&window.clearTimeout(this._disposeTimeout),this.$list.pinSelected=this.$owner.pinSelected,this.$list.selectAllLabel=this.$owner.selectAllLabel,this.$list.$select=this.$owner.$select,t.prototype.onShow.call(this,e);var o=this.querySelector("[tabindex]");null==o||o.focus({preventScroll:!0}),this.updatePosition()},e.prototype.onHide=function(e){var o=this,n=this.activator;t.prototype.onHide.call(this,e),this._disposeTimeout=window.setTimeout((function(){o.parentNode===document.body&&document.body.removeChild(o)}),1e3),n&&setTimeout((function(){return n.focus({preventScroll:!0})}),0)},e.prototype._onKeyboardEvent=function(e){t.prototype._onKeyboardEvent.call(this,e),"Tab"===e.key&&this._onTabKey(e)},e.prototype._onTabKey=function(t){var e=this.querySelectorAll("[tabindex]"),o=e[0],n=e[e.length-1];o&&t.target===n&&!t.shiftKey&&o.focus(),n&&t.target===o&&t.shiftKey&&n.focus()},e.prototype.updatePosition=function(){if(this.activator){var t=window.scrollY||window.pageYOffset,e=this.activator.getBoundingClientRect();this.style.top="".concat(t+e.top+e.height,"px"),this.style.left="".concat(e.left,"px"),this.style.width="".concat(e.width,"px")}},e.is="esl-select-dropdown",Bo([Be()],e.prototype,"closeOnEsc",void 0),Bo([Be()],e.prototype,"closeOnOutsideAction",void 0),Bo([i],e.prototype,"_onKeyboardEvent",null),Bo([i],e.prototype,"updatePosition",null),e}(xe),qo=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Fo=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},Go=function(e){function o(){var t=e.call(this)||this;return t.$renderer=document.createElement(Vo.is),t.$dropdown=document.createElement(Uo.is),t}return qo(o,e),Object.defineProperty(o,"observedAttributes",{get:function(){return["disabled"]},enumerable:!1,configurable:!0}),o.register=function(){Uo.register(),Vo.register(),e.register.call(this)},o.prototype.attributeChangedCallback=function(t){"disabled"===t&&this._updateDisabled()},o.prototype.connectedCallback=function(){e.prototype.connectedCallback.call(this),this.$select=this.querySelector("[esl-select-target]"),this.$select&&(this._prepare(),this._updateDisabled(),this.bindEvents(),this._onUpdate())},o.prototype.disconnectedCallback=function(){e.prototype.disconnectedCallback.call(this),this.unbindEvents(),this._dispose()},o.prototype.focus=function(t){this.$select.focus(t)},o.prototype.update=function(t){void 0===t&&(t=!0),this._onUpdate(),t&&j.dispatch(this,"esl:change:value",{detail:{event:null}})},o.prototype.bindEvents=function(){this.addEventListener("click",this._onClick),this.addEventListener("keydown",this._onKeydown),this.addEventListener("focusout",this._onUpdate),this.$dropdown.addEventListener("esl:show",this._onPopupStateChange),this.$dropdown.addEventListener("esl:hide",this._onPopupStateChange)},o.prototype.unbindEvents=function(){this.removeEventListener("click",this._onClick),this.removeEventListener("keydown",this._onKeydown),this.removeEventListener("focusout",this._onUpdate),this.$dropdown.removeEventListener("esl:show",this._onPopupStateChange),this.$dropdown.removeEventListener("esl:hide",this._onPopupStateChange)},o.prototype._prepare=function(){this.$renderer.className=this.$select.className,this.$renderer.emptyText=this.placeholder,this.$renderer.moreLabelFormat=this.moreLabelFormat,this.$dropdown.$owner=this,this.appendChild(this.$renderer)},o.prototype._dispose=function(){this.$select.className=this.$renderer.className,this.removeChild(this.$renderer)},o.prototype._updateDisabled=function(){this.setAttribute("aria-disabled",String(this.disabled)),this.$select&&(this.$select.disabled=this.disabled,this.disabled&&this.open&&this.$dropdown.hide())},o.prototype._onChange=function(t){this._onUpdate(),j.dispatch(this,"esl:change:value",{detail:{event:t}})},o.prototype._onUpdate=function(){var t=this.hasSelected();this.toggleAttribute("has-value",t),h.toggle(this,this.hasValueClass,t);var e=document.activeElement,o=this.open||e&&this.contains(e);h.toggle(this,this.hasFocusClass,!!o)},o.prototype._onClick=function(){this.disabled||this.$dropdown.toggle(!this.$dropdown.open,{activator:this,initiator:"select"})},o.prototype._onKeydown=function(t){[ue,pe].includes(t.key)&&(this.click(),t.preventDefault())},o.prototype._onPopupStateChange=function(t){t.target===this.$dropdown&&(this.open=this.$dropdown.open,this._onUpdate())},o.is="esl-select",Fo([A()],o.prototype,"placeholder",void 0),Fo([A()],o.prototype,"hasValueClass",void 0),Fo([A()],o.prototype,"hasFocusClass",void 0),Fo([A({defaultValue:"Select All"})],o.prototype,"selectAllLabel",void 0),Fo([A({defaultValue:"+ {rest} more..."})],o.prototype,"moreLabelFormat",void 0),Fo([T()],o.prototype,"open",void 0),Fo([T()],o.prototype,"disabled",void 0),Fo([T()],o.prototype,"pinSelected",void 0),Fo([i],o.prototype,"_onChange",null),Fo([i],o.prototype,"_onUpdate",null),Fo([i],o.prototype,"_onClick",null),Fo([i],o.prototype,"_onKeydown",null),Fo([i],o.prototype,"_onPopupStateChange",null),Fo([t("Select")],o)}(xo),Wo=window||o.g,Ko=Wo.__esl_sequences__||new Map;Wo.__esl_sequences__=Ko;var Yo=function(t){return void 0===t&&(t=""),t+Date.now().toString(32)+"-"+Math.round(1024*Math.random()*1024).toString(32)};function Qo(t){return t.map((function(t){var e=t.index,o=t.html;return{index:"".concat(e),text:o}}))}var Xo=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Zo=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},Jo=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t._notes=[],t}var n;return Xo(o,e),n=o,Object.defineProperty(o.prototype,"scopeEl",{get:function(){return Ut.first(this.scopeTarget,this)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"footnotesList",{get:function(){return this.reindex(),"enable"!==this.grouping?Qo(this._notes):function(t){var e=new Map;Qo(t).forEach((function(t){var o=t.index,n=t.text;e.set(n,e.has(n)?"".concat(e.get(n),", ").concat(o):o)}));var o=[];return e.forEach((function(t,e){return o.push({index:t,text:e})})),o}(this._notes)},enumerable:!1,configurable:!0}),o.prototype.reindex=function(){this._notes=this._notes.sort((function(t,e){var o=t.getBoundingClientRect(),n=e.getBoundingClientRect();return o.top-n.top||o.left-n.left})),this._notes.forEach((function(t,e){return t.setIndex(e+1)}))},o.prototype.connectedCallback=function(){e.prototype.connectedCallback.call(this),this.bindEvents(),this._sendRequestToNote()},o.prototype.disconnectedCallback=function(){e.prototype.disconnectedCallback.call(this),this.unbindEvents(),this._notes.forEach((function(t){return t.unlink()})),this._notes=[]},o.prototype.bindEvents=function(){this.scopeEl&&this.scopeEl.addEventListener("".concat(n.eventNs,":response"),this._onNoteSubscribe),this.addEventListener("click",this._onClick)},o.prototype.unbindEvents=function(){this.scopeEl&&this.scopeEl.removeEventListener("".concat(n.eventNs,":response"),this._onNoteSubscribe),this.removeEventListener("click",this._onClick)},o.prototype.linkNote=function(t){if(!this._notes.includes(t)){this._notes.push(t);var e=+function(t,e){void 0===e&&(e=t);var o=(Ko.get(t)||0)+1;return Ko.set(t,o),e+o}(n.is,"");t.link(this,e)}},o.prototype.unlinkNote=function(t){this._notes=this._notes.filter((function(e){return e!==t})),this.update()},o.prototype.update=function(){this.innerHTML=this.buildItems()},o.prototype.buildItems=function(){var t=this,e=this.footnotesList.map((function(e){return t.buildItem(e)})).join("");return'<ul class="esl-footnotes-items">'.concat(e,"</ul>")},o.prototype.buildItem=function(t){var e="".concat(this.buildItemIndex(t)).concat(this.buildItemText(t)).concat(this.buildItemBack(t));return'<li class="esl-footnotes-item" data-order="'.concat(t.index,'">').concat(e,"</li>")},o.prototype.buildItemIndex=function(t){return'<span class="esl-footnotes-index">'.concat(t.index,"</span>")},o.prototype.buildItemText=function(t){return'<span class="esl-footnotes-text">'.concat(t.text,"</span>")},o.prototype.buildItemBack=function(t){return'<span class="esl-footnotes-back-to-note" tabindex="0"></span>'},o.prototype._onNoteSubscribe=function(t){var e=t.target;this.linkNote(e),this.update(),t.stopImmediatePropagation()},o.prototype._onClick=function(t){var e,o=t.target;if(o&&o.classList.contains("esl-footnotes-back-to-note")){var n=null===(e=o.closest(".esl-footnotes-item"))||void 0===e?void 0:e.getAttribute("data-order"),r=null==n?void 0:n.split(",").map((function(t){return+t}));r&&this._onBackToNote(r)}},o.prototype._onBackToNote=function(t){var e=t[t.length-1];this._notes.forEach((function(o){o.highlight(t.includes(o.index)),o.index===e&&o.activate()}))},o.prototype.turnOffHighlight=function(t){this._notes.filter((function(e){return t.html===e.html})).forEach((function(t){return t.highlight(!1)}))},o.prototype._sendRequestToNote=function(){j.dispatch(this,"".concat(n.eventNs,":request"))},o.is="esl-footnotes",o.eventNs="esl:footnotes",Zo([A({defaultValue:"::parent"})],o.prototype,"scopeTarget",void 0),Zo([A({defaultValue:"enable"})],o.prototype,"grouping",void 0),Zo([N()],o.prototype,"scopeEl",null),Zo([i],o.prototype,"_onNoteSubscribe",null),Zo([i],o.prototype,"_onClick",null),n=Zo([t("Footnotes")],o)}(k),tn=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),en=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},on=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}var n;return tn(o,e),n=o,Object.defineProperty(o,"sharedInstance",{get:function(){return document.createElement("esl-tooltip")},enumerable:!1,configurable:!0}),o.show=function(t){void 0===t&&(t={}),n.sharedInstance.hide(t),n.sharedInstance.show(t)},o.hide=function(t){void 0===t&&(t={}),n.sharedInstance.hide(t)},o.prototype.connectedCallback=function(){this.disableArrow||this._appendArrow(),e.prototype.connectedCallback.call(this),this.classList.add(eo.is)},o.prototype.setInitialState=function(){},o.prototype._createArrow=function(){var t=document.createElement("span");return t.className="esl-popup-arrow",t},o.prototype._appendArrow=function(){this.$arrow=this._createArrow(),this.appendChild(this.$arrow)},o.prototype.onShow=function(t){t.disableArrow&&(this.disableArrow=t.disableArrow),t.text&&(this.innerText=t.text),t.html&&(this.innerHTML=t.html),t.extraClass&&h.add(this,t.extraClass),document.body.appendChild(this),e.prototype.onShow.call(this,t),this._updateActivatorState(!0)},o.prototype.onHide=function(t){this._updateActivatorState(!1),e.prototype.onHide.call(this,t),document.body.removeChild(this),t.extraClass&&h.remove(this,t.extraClass)},o.prototype._updateActivatorState=function(t){var e;null===(e=this.activator)||void 0===e||e.toggleAttribute("tooltip-shown",t)},o.is="esl-tooltip",en([A({defaultValue:"top"})],o.prototype,"position",void 0),en([A({defaultValue:"fit"})],o.prototype,"behavior",void 0),en([T()],o.prototype,"disableArrow",void 0),en([N()],o.prototype,"_createArrow",null),en([N()],o,"sharedInstance",null),n=en([t("Tooltip")],o)}(eo),nn=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),rn=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},sn=function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s},an=function(t,e,o){if(o||2===arguments.length)for(var n,r=0,i=e.length;r<i;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))},cn=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return nn(o,e),Object.defineProperty(o.prototype,"allowHover",{get:function(){return dt.hasHover&&Tt.for(this.trackHover).matches},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"allowClick",{get:function(){return Tt.for(this.trackClick).matches},enumerable:!1,configurable:!0}),Object.defineProperty(o,"observedAttributes",{get:function(){return["tooltip-shown"]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),o.prototype.connectedCallback=function(){this.html||(this.html=this.innerHTML),e.prototype.connectedCallback.call(this),this.bindEvents(),this._sendResponseToFootnote()},o.prototype.disconnectedCallback=function(){var t;e.prototype.disconnectedCallback.call(this),this.unbindEvents(),null===(t=this._$footnotes)||void 0===t||t.unlinkNote(this),this.restore()},o.prototype.attributeChangedCallback=function(t,e,o){var n;this.connected&&e!==o&&"tooltip-shown"===t&&null===o&&(null===(n=this._$footnotes)||void 0===n||n.turnOffHighlight(this))},o.prototype.bindEvents=function(){document.body.addEventListener("".concat(Jo.eventNs,":request"),this._onFootnotesReady),this.addEventListener("click",this._onClick),this.addEventListener("keydown",this._onKeydown),this.addEventListener("mouseenter",this._onMouseEnter),this.addEventListener("mouseleave",this._onMouseLeave)},o.prototype.unbindEvents=function(){document.body.removeEventListener("".concat(Jo.eventNs,":request"),this._onFootnotesReady),this.removeEventListener("click",this._onClick),this.removeEventListener("keydown",this._onKeydown),this.removeEventListener("mouseenter",this._onMouseEnter),this.removeEventListener("mouseleave",this._onMouseLeave)},o.prototype.activate=function(){var t,e,o,n,r=this;(t=this,e={behavior:"smooth",block:"nearest"},n=0,t.scrollIntoView(e),ne((function(){var e=t.getBoundingClientRect().top;return e!==o&&(n=0,o=e),n++>2}),80,125)).then((function(){return r.showTooltip()}))},o.prototype.highlight=function(t){void 0===t&&(t=!0),this.classList.toggle("highlight",t)},o.prototype.link=function(t,e){this.linked=!0,this._$footnotes=t,this.setIndex(e),this.tabIndex=0},o.prototype.unlink=function(){this.restore(),this._sendResponseToFootnote()},o.prototype.setIndex=function(t){this._index=t,this.innerHTML="".concat(t)},o.prototype.restore=function(){this.linked=!1,this._$footnotes=null,this.innerHTML=this.html,this.tabIndex=-1},o.prototype.mergeToggleableParams=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object.assign.apply(Object,an([{initiator:"note",activator:this,html:this.html}],sn(t),!1))},o.prototype.showTooltip=function(t){void 0===t&&(t={});var e=this.mergeToggleableParams({},t);on.show(e),this.highlight()},o.prototype.hideTooltip=function(t){void 0===t&&(t={});var e=this.mergeToggleableParams({},t);on.hide(e)},o.prototype.toggleTooltip=function(t,e){void 0===t&&(t={}),void 0===e&&(e=!this.tooltipShown),e?this.showTooltip(t):this.hideTooltip(t)},o.prototype._onClick=function(t){if(this.allowClick)return t.preventDefault(),this.toggleTooltip({event:t})},o.prototype._onKeydown=function(t){if([ue,pe].includes(t.key))return t.preventDefault(),this.toggleTooltip({event:t})},o.prototype._onMouseEnter=function(t){this.allowHover&&(this.showTooltip({event:t}),t.preventDefault())},o.prototype._onMouseLeave=function(t){this.allowHover&&(this.hideTooltip({event:t,trackHover:!0}),t.preventDefault())},o.prototype._onFootnotesReady=function(t){this.linked||this._sendResponseToFootnote()},o.prototype._sendResponseToFootnote=function(){j.dispatch(this,"".concat(Jo.eventNs,":response"))},o.is="esl-note",rn([T()],o.prototype,"linked",void 0),rn([T()],o.prototype,"tooltipShown",void 0),rn([A()],o.prototype,"html",void 0),rn([A({defaultValue:"all"})],o.prototype,"trackClick",void 0),rn([A({defaultValue:"all"})],o.prototype,"trackHover",void 0),rn([ze],o.prototype,"connectedCallback",null),rn([i],o.prototype,"_onClick",null),rn([i],o.prototype,"_onKeydown",null),rn([i],o.prototype,"_onMouseEnter",null),rn([i],o.prototype,"_onMouseLeave",null),rn([i],o.prototype,"_onFootnotesReady",null),rn([t("Note")],o)}(k),ln=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),un=(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._state=me.UNINITIALIZED,e}ln(e,t),e.parseUrl=function(t){try{if(!t)return null;var e=new URL(t).protocol;return"http:"!==e&&"https:"!==e?null:{mediaSrc:t}}catch(t){return null}},e.prototype.buildIframe=function(){var t=document.createElement("iframe");return t.id="esl-media-iframe-"+Yo(),t.className="esl-media-inner esl-media-iframe",t.title=this.config.title,t.setAttribute("aria-label",this.config.title),t.setAttribute("frameborder","0"),t.setAttribute("tabindex","0"),t.setAttribute("scrolling","no"),t.setAttribute("allowfullscreen","yes"),t.toggleAttribute("playsinline",this.config.playsinline),t.src=this.config.mediaSrc||"",t},e.prototype.bind=function(){var t=this;this._state===me.UNINITIALIZED&&(this._ready=new Promise((function(e,o){t._el=t.buildIframe(),t._el.onload=function(){return e(t)},t._el.onerror=function(t){return o(t)},t._state=me.UNSTARTED,t.component.appendChild(t._el)})),this._ready.then((function(){t._state=me.PLAYING,t.component._onReady(),t.component._onPlay()})),this._ready.catch((function(e){return t.component._onError(e)})))},e.prototype.unbind=function(){this.component._onDetach(),this._state=me.UNINITIALIZED,t.prototype.unbind.call(this)},Object.defineProperty(e.prototype,"ready",{get:function(){return Promise.resolve()},enumerable:!1,configurable:!0}),e.prototype.focus=function(){this._el&&this._el.contentWindow&&this._el.contentWindow.focus()},Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultAspectRatio",{get:function(){return 0},enumerable:!1,configurable:!0}),e.prototype.seekTo=function(t){console.error("[ESLMedia] Unsupported action: can not execute seekTo on abstract iframe provider")},e.prototype.play=function(){this.state===me.UNINITIALIZED&&this.bind()},e.prototype.pause=function(){this.unbind()},e.prototype.stop=function(){this.unbind()},e.providerName="iframe",e=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s}([Ee.register],e)}(Ee),function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}()),pn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return un(e,t),e.parseUrl=function(t){return this.urlPattern.test(t)?{mediaSrc:t}:null},e.applyElementSettings=function(t,e){return t.classList.add("esl-media-inner"),t.autoplay=e.autoplay,t.preload=e.preload||"auto",t.loop=e.loop,t.muted=e.muted,t.controls=e.controls,t.tabIndex=0,t.toggleAttribute("playsinline",e.playsinline),t},e.prototype.onConfigChange=function(o,n){t.prototype.onConfigChange.call(this,o,n),e.applyElementSettings(this._el,this.config)},e.prototype.bind=function(){this._el=this.createElement(),e.applyElementSettings(this._el,this.config),this.component.appendChild(this._el),this.bindListeners()},e.prototype.bindListeners=function(){var t=this;this._el.addEventListener("loadedmetadata",(function(){return t.component._onReady()})),this._el.addEventListener("play",(function(){return t.component._onPlay()})),this._el.addEventListener("pause",(function(){return t.component._onPaused()})),this._el.addEventListener("ended",(function(){return t.component._onEnded()})),this._el.addEventListener("error",(function(e){return t.component._onError(e)}))},e.prototype.unbind=function(){this.component._onDetach(),t.prototype.unbind.call(this)},Object.defineProperty(e.prototype,"ready",{get:function(){return Promise.resolve()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._el?this._el.ended?me.ENDED:this._el.played&&this._el.played.length?this._el.paused?me.PAUSED:me.PLAYING:me.UNSTARTED:me.UNINITIALIZED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._el?this._el.duration:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._el?this._el.currentTime:0},enumerable:!1,configurable:!0}),e.prototype.seekTo=function(t){this._el.currentTime=t},e.prototype.play=function(){return this._el.play()},e.prototype.pause=function(){return this._el.pause()},e.prototype.stop=function(){this._el.pause(),this._el.currentTime=0},e}(Ee),hn=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),fn=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}hn(e,t),e.prototype.createElement=function(){var t=document.createElement("audio");return t.src=this.config.mediaSrc||"",t},Object.defineProperty(e.prototype,"defaultAspectRatio",{get:function(){return 0},enumerable:!1,configurable:!0}),e.providerName="audio",e.urlPattern=/\.(mp3|wav|aac)(\?|$)/,e=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s}([Ee.register],e)}(pn),function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}());function dn(t,e){return new Promise((function(o,n){var r=document.getElementById(t)||function(t,e){var o=document.createElement("script");return o.id=t,o.async=!0,o.src=e,o}(t,e);switch(r.getAttribute("state")){case"success":o(new Event("load"));break;case"error":n(new Event("error"));break;default:r.addEventListener("load",(function(t){r.setAttribute("state","success"),o(t)})),r.addEventListener("error",(function(t){r.setAttribute("state","error"),n(t)}))}if(!r.parentNode){var i=document.querySelector("script")||document.querySelector("head title");i&&i.parentNode?i.parentNode.insertBefore(r,i):n("Page document structure is incorrect")}}))}!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}fn(e,t),e.prototype.createElement=function(){var t=document.createElement("video");return t.src=this.config.mediaSrc||"",t},Object.defineProperty(e.prototype,"defaultAspectRatio",{get:function(){return this._el.videoWidth/this._el.videoHeight},enumerable:!1,configurable:!0}),e.providerName="video",e.urlPattern=/\.(mp4|webm|ogv|mov)(\?|$)/,e=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s}([Ee.register],e)}(pn);var yn=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),vn=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;yn(e,t),o=e,e.parseUrl=function(t){if(this.providerRegexp.test(t)){var e=function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s}(t.match(this.idRegexp)||[],2)[1];return e?{mediaId:e}:null}return null},e.getCoreApi=function(){return o._coreApiPromise||(o._coreApiPromise=new Promise((function(t){if(window.YT&&window.YT.Player)return t(window.YT);dn("YT_API_SOURCE","//www.youtube.com/iframe_api");var e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){try{"function"==typeof e&&e.apply(window)}catch(t){}return t(window.YT)}}))),o._coreApiPromise},e.mapOptions=function(t){return{enablejsapi:1,origin:location.origin,rel:0,showinfo:0,iv_load_policy:0,autoplay:Number(t.autoplay),controls:Number(t.controls),playsinline:Number(t.playsinline),disablekb:Number(!t.controls),autohide:Number(!t.controls)}},e.buildIframe=function(t){var e=document.createElement("div");return e.id="esl-media-yt-"+Yo(),e.className="esl-media-inner esl-media-youtube",e.title=t.title,e.setAttribute("aria-label",e.title),e.setAttribute("frameborder","0"),e.setAttribute("tabindex","0"),e.setAttribute("allowfullscreen","yes"),e},e.prototype.bind=function(){var t=this;this._el=o.buildIframe(this.config),this.component.appendChild(this._el),this._ready=o.getCoreApi().then((function(){return t.onCoreApiReady()})).then((function(){return t.onPlayerReady()})).catch((function(e){return t.component._onError(e)}))},e.prototype.onCoreApiReady=function(){var t=this;return new Promise((function(e,n){console.debug("[ESL]: Media Youtube Player initialization for ",t),t._api=new YT.Player(t._el.id,{videoId:t.config.mediaId,events:{onError:function(t){return n(t)},onReady:function(){return e(t)},onStateChange:function(e){return t._onStateChange(e)}},playerVars:o.mapOptions(t.config)})}))},e.prototype.onPlayerReady=function(){console.debug("[ESL]: Media Youtube Player ready ",this),this._el=this._api.getIframe(),this.config.muted&&this._api.mute(),this.component._onReady()},e.prototype.unbind=function(){this.component._onDetach(),this._api&&this._api.destroy(),t.prototype.unbind.call(this)},e.prototype._onStateChange=function(t){switch(+t.data){case me.PLAYING:this.component._onPlay();break;case me.PAUSED:this.component._onPaused();break;case me.ENDED:this.config.loop?this._api.playVideo():this.component._onEnded()}},e.prototype.onConfigChange=function(e,o){t.prototype.onConfigChange.call(this,e,o),"muted"===e&&(o?this._api.mute():this._api.unMute())},e.prototype.focus=function(){this._el instanceof HTMLIFrameElement&&this._el.contentWindow&&this._el.contentWindow.focus()},Object.defineProperty(e.prototype,"state",{get:function(){return this._api&&"function"==typeof this._api.getPlayerState?this._api.getPlayerState():me.UNINITIALIZED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._api?this._api.getDuration():0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._api?this._api.getCurrentTime():0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultAspectRatio",{get:function(){return 1.7777777777777777},enumerable:!1,configurable:!0}),e.prototype.seekTo=function(t){this._api.seekTo(t,!1)},e.prototype.play=function(){this.state===me.ENDED&&this._api.seekTo(0,!1),this._api.playVideo()},e.prototype.pause=function(){this._api.pauseVideo()},e.prototype.stop=function(){this._api.stopVideo()},e.providerName="youtube",e.idRegexp=/(?:v\/|v=|vi=|vi\/|e\/|embed\/|user\/.*\/u\/\d+\/)([_0-9a-zA-Z-]+)/i,e.providerRegexp=/^\s*(?:http(?:s)?:\/\/)?(?:www\.)?(?:youtu\.be|youtube(-nocookie)?\.com)/i,e=o=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s}([Ee.register],e)}(Ee),function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}()),gn="BC_API_SOURCE",bn=(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.videojsClasses="video-js vjs-default-skin video-js-brightcove",e}vn(e,t),e.getAccount=function(t){return{playerId:t.getAttribute("player-id"),accountId:t.getAttribute("player-account")}},e.loadAPI=function(t){var e="//players.brightcove.net/".concat(t.accountId,"/").concat(t.playerId,"_default/index.min.js"),o=document.getElementById(gn);return o&&o.parentNode&&o.getAttribute("src")!==e&&o.parentNode.removeChild(o),dn(gn,e)},e.prototype.buildVideo=function(){var t=document.createElement("video-js");return t.id="esl-media-brightcove-"+Yo(),t.className="esl-media-inner esl-media-brightcove "+this.videojsClasses,t.title=this.config.title,t.toggleAttribute("loop",this.config.loop),t.toggleAttribute("muted",this.config.muted),t.toggleAttribute("controls",this.config.controls),t.setAttribute("aria-label",t.title),t.setAttribute("data-embed","default"),t.setAttribute("data-video-id","ref:".concat(this.config.mediaId)),t.toggleAttribute("playsinline",this.config.playsinline),this._account.playerId&&t.setAttribute("data-player",this._account.playerId),this._account.accountId&&t.setAttribute("data-account",this._account.accountId),t},e.prototype.$$fromEvent=function(t){var e=this;return this._api?new Promise((function(o,n){return e._api?e._api.one(t,o):n()})):Promise.reject()},e.prototype.onAPILoaded=function(){var t=this;if("function"!=typeof window.bc||"function"!=typeof window.videojs)throw new Error("Brightcove API is not in the global scope");return console.debug("ESL Media: Brightcove API init for ",this),this._api=window.bc(this._el),new Promise((function(e,o){return t._api?t._api.ready(e):o()}))},e.prototype.onAPIReady=function(){var t=this;return console.debug("ESL Media: Brightcove API is ready ",this),this._api.autoplay(this._autoplay||this.config.autoplay),this._api.on("play",(function(){return t.component._onPlay()})),this._api.on("pause",(function(){return t.component._onPaused()})),this._api.on("ended",(function(){return t.component._onEnded()})),this.component._onReady(),this.$$fromEvent("loadedmetadata")},e.prototype.bind=function(){var t=this,e=this.constructor;this._account=e.getAccount(this.component),this._el=this.buildVideo(),this.component.appendChild(this._el),this._ready=e.loadAPI(this._account).then((function(){return t.onAPILoaded()})).then((function(){return t.onAPIReady()})).catch((function(e){return t.component._onError(e)}))},e.prototype.unbind=function(){this.component._onDetach(),this._api&&this._api.dispose(),t.prototype.unbind.call(this)},e.prototype.onConfigChange=function(e,o){t.prototype.onConfigChange.call(this,e,o),"function"==typeof this._api[e]&&this._api[e](o)},e.prototype.focus=function(){this._api&&this._api.focus()},Object.defineProperty(e.prototype,"state",{get:function(){return this._api?this._api.ended()?me.ENDED:this._api.paused()?me.PAUSED:this._api.played()?me.PLAYING:me.UNSTARTED:me.UNINITIALIZED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultAspectRatio",{get:function(){return this._api?this._api.videoWidth()/this._api.videoHeight():0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._api?this._api.currentTime():0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._api?this._api.duration():0},enumerable:!1,configurable:!0}),e.prototype.seekTo=function(t){this._api.currentTime(t)},e.prototype.play=function(){this._api.play()},e.prototype.pause=function(){this._api.pause()},e.prototype.stop=function(){this._api.currentTime(0),this._api.pause()},e.prototype.safePlay=function(){return this._autoplay=!0,t.prototype.safePlay.call(this)},e.prototype.safeStop=function(){return this._autoplay=!0,t.prototype.safeStop.call(this)},e.providerName="brightcove",e=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s}([Ee.register],e)}(Ee),function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}()),mn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bn(e,t),Object.defineProperty(e.prototype,"index",{get:function(){return this.parentNode?Array.prototype.indexOf.call(this.parentNode.children,this):-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return this.hasAttribute("active")},enumerable:!1,configurable:!0}),e.prototype._setActive=function(t){this.toggleAttribute("active",t)},Object.defineProperty(e.prototype,"first",{get:function(){return this.hasAttribute("first")},enumerable:!1,configurable:!0}),e.prototype._setFirst=function(t){this.toggleAttribute("first",t)},e}(k),_n=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),wn=function(t){this.carousel=t},On=null,En=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.registry=new Map,e}return _n(e,t),Object.defineProperty(e,"instance",{get:function(){return null===On&&(On=new e),On},enumerable:!1,configurable:!0}),e.prototype.createViewInstance=function(t,e){var o=this.registry.get(t);return o?new o(e):null},e.prototype.registerView=function(t,e){if(this.registry.has(t))throw new Error("View with name ".concat(t," already defined"));this.registry.set(t,e),this.fire(t,e)},e}(L),Cn=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Pn=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},An=function(e){function o(){var t=e.call(this)||this;return t._currentConfig={},t._plugins=new Map,t._onMatchChange=t.update.bind(t,!1),t._onRegistryChange=t._onRegistryChange.bind(t),t}var n;return Cn(o,e),n=o,Object.defineProperty(o,"observedAttributes",{get:function(){return["config"]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"$slidesArea",{get:function(){return this.querySelector("[data-slides-area]")},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"$slides",{get:function(){var t=this.$slidesArea&&this.$slidesArea.querySelectorAll(mn.is);return t?Array.from(t):[]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"count",{get:function(){return this.$slides.length||0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"activeIndexes",{get:function(){return this.$slides.reduce((function(t,e,o){return e.active&&t.push(o),t}),[])},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"activeCount",{get:function(){return this.activeConfig.count||0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"firstIndex",{get:function(){var t=this.$slides.findIndex((function(t){return t.first}));return Math.max(t,0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"activeConfig",{get:function(){return this._currentConfig},set:function(t){this._currentConfig=Object.assign({},t)},enumerable:!1,configurable:!0}),o.prototype.goTo=function(t,e,o){var n=this;if(void 0===o&&(o=!1),!this.dataset.isAnimated&&(t<0&&(t=0),this.firstIndex!==t||o)){e||(e=t>this.firstIndex?t-this.firstIndex>(this.firstIndex-t+this.count)%this.count?"left":"right":this.firstIndex-t>=(t-this.firstIndex-t+this.count)%this.count?"right":"left");var r={bubbles:!0,detail:{direction:e}},i=this.$$fire("slide:change",r);if(this._view&&i&&this.firstIndex!==t&&this._view.goTo(t,e),this._view&&i){var s=0;for(this.$slides.forEach((function(e,o){e._setActive((t+n.count)%n.count<=o&&o<(t+n.activeCount+n.count)%n.count)}));s<this.activeCount;){var a=(t+s+this.count)%this.count;this.$slides[a]._setActive(!0),++s}"multiple"===this.activeConfig.view&&(this.$slides[this.firstIndex]._setFirst(!1),this.$slides[t]._setFirst(!0))}this.$$fire("slide:changed",r)}},o.prototype.prev=function(){this.goTo((this.firstIndex-this.activeCount+this.count)%this.count,"left")},o.prototype.next=function(){this.goTo((this.firstIndex+this.activeCount+this.count)%this.count,"right")},o.prototype.connectedCallback=function(){e.prototype.connectedCallback.call(this),this.update(!0),this.goTo(this.firstIndex,"",!0),this._bindEvents(),En.instance.addListener(this._onRegistryChange)},o.prototype.disconnectedCallback=function(){e.prototype.disconnectedCallback.call(this),this._unbindEvents(),En.instance.removeListener(this._onRegistryChange)},o.prototype.attributeChangedCallback=function(t,e,o){"config"===t&&(this.configRules=Lt.parse(this.config,Lt.OBJECT_PARSER),this.update(!0))},o.prototype._bindEvents=function(){this.addEventListener("click",this._onClick,!1)},o.prototype._unbindEvents=function(){this.removeEventListener("click",this._onClick,!1)},Object.defineProperty(o.prototype,"configRules",{get:function(){return this._configRules||(this.configRules=Lt.parse(this.config,Lt.OBJECT_PARSER)),this._configRules},set:function(t){this._configRules&&this._configRules.removeListener(this._onMatchChange),this._configRules=t,this._configRules.addListener(this._onMatchChange)},enumerable:!1,configurable:!0}),o.prototype.update=function(t){void 0===t&&(t=!1);var e=Object.assign({view:"multiple",count:1},this.configRules.activeValue);if(t||!v(this.activeConfig,e)){this.activeConfig=e;var o=this.activeConfig.view;o&&(this._view=En.instance.createViewInstance(o,this),(t||this.activeIndexes.length!==this.activeConfig.count)&&this._view&&this._view.draw())}},o.prototype.getNextGroup=function(t){var e=this.activeIndexes.length-1,o=Math.floor(this.activeIndexes[e]/this.activeCount),n=Math.ceil(this.count/this.activeCount);return(o+t+n)%n},o.prototype._onClick=function(t){var e=t.target.closest("[data-slide-target]");if(e&&e.dataset.slideTarget){var o=e.dataset.slideTarget;if("prev"===o)this.prev();else if("next"===o)this.next();else if("g"===o[0]){var n=+o.substr(1)-1,r=Math.floor(this.count/this.activeCount);this.goTo(n===r?this.count-this.activeCount:this.activeCount*n)}else this.goTo(+o-1)}},o.prototype._onRegistryChange=function(){this._view||this.update(!0)},o.prototype.addPlugin=function(t){t.carousel||this.appendChild(t)},o.prototype.removePlugin=function(t){"string"==typeof t&&(t=this._plugins.get(t)),t&&t.carousel===this&&t.parentNode&&t.parentNode.removeChild(t)},o.prototype._addPlugin=function(t){this._plugins.has(t.key)||(this._plugins.set(t.key,t),this.isConnected&&t.bind())},o.prototype._removePlugin=function(t){this._plugins.has(t.key)&&(t.unbind(),this._plugins.delete(t.key))},o.register=function(t){var o=this;mn.register((t||n.is)+"-slide"),customElements.whenDefined(mn.is).then((function(){return e.register.call(o,t)}))},o.Slide=mn,o.is="esl-carousel",Pn([A()],o.prototype,"config",void 0),n=Pn([t("Carousel")],o)}(k),Tn=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),jn=function(t){function e(e){return t.call(this,e)||this}return Tn(e,t),e.prototype.bind=function(){},e.prototype.draw=function(){var t=this.carousel,e=t.$slides,o=t.$slidesArea;if(o&&e.length){var n=getComputedStyle(e[this.carousel.firstIndex]),r=getComputedStyle(o),i=parseFloat(r.width)-parseFloat(n.marginLeft)-parseFloat(n.marginRight),s=-parseFloat(r.width)/this.carousel.firstIndex;e.forEach((function(t){t.style.minWidth=i+"px",t.style.left=s+"px"}))}},e.prototype.goTo=function(t,e){var o=this;if(this.carousel.firstIndex!==t){this.carousel.setAttribute("data-is-animated","true"),this.carousel.setAttribute("direction",e);var n=this.carousel.$slides[this.carousel.firstIndex],r=this.carousel.$slides[t];n.classList.add(e),r.classList.add(e),n.classList.add("prev"),n.addEventListener("animationend",(function(t){return o._cleanAnimation(t)})),r.addEventListener("animationend",(function(t){return o._cleanAnimation(t)}))}},e.prototype._cleanAnimation=function(t){var e=t.target,o=this.carousel.getAttribute("direction");o&&e.classList.remove(o),e.classList.remove("prev"),this.carousel.removeAttribute("data-is-animated")},e.prototype.unbind=function(){},e}(wn);En.instance.registerView("single",jn);var Sn=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),kn=function(t){function e(e){return t.call(this,e)||this}return Sn(e,t),e.prototype.bind=function(){},e.prototype.draw=function(){var t=this.carousel,e=t.$slides,o=t.$slidesArea;if(o&&e.length){var n=getComputedStyle(e[this.carousel.firstIndex]),r="none"!==n.transform?parseFloat(n.transform.split(",")[4]):0,i=getComputedStyle(o),s=parseFloat(i.width)/this.carousel.activeCount-parseFloat(n.marginLeft)-parseFloat(n.marginRight),a=0===this.carousel.firstIndex?-r:-parseFloat(i.width)/this.carousel.activeCount*this.carousel.firstIndex-r;e.forEach((function(t){t.style.minWidth=s+"px",t.style.left=a+"px"}))}},e.prototype.goTo=function(t,e){var o=this,n="right"===e?this.carousel.activeIndexes[0]:this.carousel.firstIndex,r=getComputedStyle(this.carousel.$slides[n]),i=parseFloat(r.width)+parseFloat(r.marginLeft)+parseFloat(r.marginRight),s=i*this.carousel.$slides.length,a=1e3*parseFloat(r.transitionDuration),c=parseFloat(r.left),l=parseFloat(r.transform.split(",")[4])||0;if(this.carousel.firstIndex===t)return 0;var u=0;"left"===e?u=(this.carousel.firstIndex-t+this.carousel.count)%this.carousel.count:"right"===e&&(u=(this.carousel.count-this.carousel.firstIndex+t)%this.carousel.count);for(var p=l-u*i*("left"===e?-1:1),h=[],f=0;f<this.carousel.activeCount;++f)h.push((t+f+this.carousel.count)%this.carousel.count);var d=h.filter((function(t){return o.carousel.activeIndexes.includes(t)})),y=0,v=u<this.carousel.activeCount?this.carousel.activeCount:u,g=function(n){var r=(t+n+b.carousel.count)%b.carousel.count,i=Math.min.apply(Math,function(t,e,o){if(o||2===arguments.length)for(var n,r=0,i=e.length;r<i;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))}([],function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s}(b.carousel.activeIndexes),!1));if(y=r>=b.carousel.firstIndex&&"left"===e?c-s:r<=i&&"right"===e?c+s:c,d.includes(r)||(b.carousel.$slides[r].style.left=y+"px"),d.includes(r)){var l=h.indexOf(r),u="right"===e?a/b.carousel.activeCount*l:a/b.carousel.activeCount*(b.carousel.activeCount-l-1),p=y;setTimeout((function(){o.carousel.$slides[r].style.left=p+"px"}),u)}},b=this;for(f=0;f<v;++f)g(f);this.carousel.$slides.forEach((function(t){t.style.transform="translateX(".concat(p,"px)");var n=t.index;if(d.includes(n)){var r=h.indexOf(n),i="right"===e?a/o.carousel.activeCount*r:a/o.carousel.activeCount*(o.carousel.activeCount-r-1);setTimeout((function(){o.carousel.$slides[n].style.transform="translateX(".concat(p,"px)")}),i)}})),this.carousel.setAttribute("data-is-animated","true"),setTimeout((function(){o.carousel.removeAttribute("data-is-animated")}),a)},e.prototype.unbind=function(){this.carousel.$slides.forEach((function(t){t.style.transform="none",t.style.left="none"}))},e}(wn);En.instance.registerView("multiple",kn);var Ln=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Rn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ln(e,t),e.prototype.findCarouselOwner=function(){return this.constructor.freePlacement?this.closest(An.is):this.parentNode},Object.defineProperty(e.prototype,"key",{get:function(){return this.nodeName.toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"carousel",{get:function(){return this._carousel},enumerable:!1,configurable:!0}),e.prototype.connectedCallback=function(){var t=this.findCarouselOwner();if(!(t instanceof An))throw new Error("Invalid esl-carousel-plugin placement: plugin element should be placed under the esl-carousel node");this._carousel=t,this._carousel._addPlugin(this)},e.prototype.disconnectedCallback=function(){this.carousel&&(this.carousel._removePlugin(this),delete this._carousel)},e.register=function(e){var o=this;customElements.whenDefined(An.is).then((function(){return t.register.call(o,e)}))},e.freePlacement=!1,e}(k),$n=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),xn=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t._onUpdate=function(){return t.rerender()},t}return $n(o,e),o.prototype.bind=function(){this.rerender(),this.carousel.addEventListener("esl:slide:changed",this._onUpdate)},o.prototype.unbind=function(){this.innerHTML="",this.carousel.removeEventListener("esl:slide:changed",this._onUpdate)},o.prototype.rerender=function(){for(var t="",e=Math.floor(this.carousel.activeIndexes[this.carousel.activeCount-1]/this.carousel.activeCount),o=0;o<Math.ceil(this.carousel.count/this.carousel.activeCount);++o)t+=this.buildDot(o,o===e);this.innerHTML=t},o.prototype.buildDot=function(t,e){return'<button role="button" class="carousel-dot '.concat(e?"active-dot":"",'" data-slide-target="g').concat(t+1,'"></button>')},o.is="esl-carousel-dots",o.freePlacement=!0,function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s}([t("CarouselPlugins.Dots")],o)}(Rn),In=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Mn=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},Dn=function(e){function o(){var t=e.call(this)||this;return t._onSlideChange=t._onSlideChange.bind(t),t}return In(o,e),Object.defineProperty(o,"observedAttributes",{get:function(){return["to","direction"]},enumerable:!1,configurable:!0}),o.prototype.bind=function(){this.target||(this.target=document.querySelector(this.to)),this.target instanceof An&&("both"!==this.direction&&"reverse"!==this.direction||this.target.addEventListener("esl:slide:changed",this._onSlideChange),"both"!==this.direction&&"target"!==this.direction||this.carousel.addEventListener("esl:slide:changed",this._onSlideChange))},o.prototype.unbind=function(){this.target&&this.target.removeEventListener("esl:slide:changed",this._onSlideChange),this.carousel&&this.carousel.removeEventListener("esl:slide:changed",this._onSlideChange)},o.prototype._onSlideChange=function(t){if(this.target&&this.carousel){var e=t.target===this.carousel?this.target:this.carousel,o=t.target===this.carousel?this.carousel:this.target;e.goTo(o.firstIndex,t.detail.direction)}},o.prototype.attributeChangedCallback=function(t,e,o){this.carousel&&e!==o&&(this.unbind(),"to"===t&&(this._target=null),this.bind())},Object.defineProperty(o.prototype,"target",{get:function(){return this._target},set:function(t){this._target=t},enumerable:!1,configurable:!0}),o.is="esl-carousel-link-plugin",Mn([A()],o.prototype,"to",void 0),Mn([A({defaultValue:"both"})],o.prototype,"direction",void 0),Mn([t("CarouselPlugins.Link")],o)}(Rn),Nn=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Hn=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.isTouchStarted=!1,t.startPoint={x:0,y:0},t.onTouchStart=function(e){e instanceof TouchEvent&&1!==e.touches.length||e instanceof PointerEvent&&"touch"!==e.pointerType?t.isTouchStarted=!1:(t.isTouchStarted=!0,t.startPoint=j.normalizeTouchPoint(e))},t.onTouchMove=function(e){t.isTouchStarted},t.onTouchEnd=function(e){if(t.isTouchStarted){var o=j.normalizeTouchPoint(e),n={x:o.x-t.startPoint.x,y:o.y-t.startPoint.y};t.isTouchStarted=!1,Math.abs(n.x)<Math.abs(n.y)||Math.abs(n.x)<100||(n.x<0?t.carousel.next():t.carousel.prev(),e.preventDefault(),e.stopPropagation())}},t}return Nn(o,e),o.prototype.bind=function(){var t=dt.TOUCH_EVENTS;this.carousel.addEventListener(t.START,this.onTouchStart),this.carousel.addEventListener(t.MOVE,this.onTouchMove),this.carousel.addEventListener(t.END,this.onTouchEnd)},o.prototype.unbind=function(){var t=dt.TOUCH_EVENTS;this.carousel.removeEventListener(t.START,this.onTouchStart),this.carousel.removeEventListener(t.MOVE,this.onTouchMove),this.carousel.removeEventListener(t.END,this.onTouchEnd)},o.is="esl-carousel-touch-plugin",function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s}([t("CarouselPlugins.Touch")],o)}(Rn),Vn=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),zn=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},Bn={Dots:xn,Link:Dn,Touch:Hn,Autoplay:function(e){function o(){var t=e.call(this)||this;return t._timeout=null,t._onInterval=t._onInterval.bind(t),t._onInteract=t._onInteract.bind(t),t}return Vn(o,e),Object.defineProperty(o.prototype,"active",{get:function(){return this._active},enumerable:!1,configurable:!0}),o.prototype.bind=function(){this.carousel.addEventListener("mouseover",this._onInteract),this.carousel.addEventListener("mouseout",this._onInteract),this.carousel.addEventListener("focusin",this._onInteract),this.carousel.addEventListener("focusout",this._onInteract),this.carousel.addEventListener("esl:slide:changed",this._onInteract),this.start()},o.prototype.unbind=function(){this.carousel.removeEventListener("mouseover",this._onInteract),this.carousel.removeEventListener("mouseout",this._onInteract),this.carousel.removeEventListener("focusin",this._onInteract),this.carousel.removeEventListener("focusout",this._onInteract),this.carousel.removeEventListener("esl:slide:changed",this._onInteract),this.stop()},o.prototype.start=function(){this._active=!0,this.reset()},o.prototype.stop=function(){this._active=!1,this.reset()},o.prototype.reset=function(){"number"==typeof this._timeout&&clearTimeout(this._timeout),this._timeout=this._active?window.setTimeout(this._onInterval,this.timeout):null},o.prototype._onInterval=function(){if(this._active){switch(this.direction){case"next":return void this.carousel.next();case"prev":return void this.carousel.prev()}this.reset()}},o.prototype._onInteract=function(t){switch(t.type){case"mouseover":case"focusin":return void this.stop();case"mouseout":case"focusout":return void this.start();case"esl:slide:changed":return void this.reset()}},o.is="esl-carousel-autoplay-plugin",zn([A({defaultValue:"next"})],o.prototype,"direction",void 0),zn([A({defaultValue:"5000"})],o.prototype,"timeout",void 0),zn([t("CarouselPlugins.Autoplay")],o)}(Rn)},Un=(o(512),function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}()),qn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Un(e,t),Object.defineProperty(e.prototype,"target",{get:function(){var t=this.getAttribute("target");return document.querySelector(t||"")},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=document.createElement("form");t.innerHTML='\n      <fieldset>\n        <legend>Video Settings:</legend>\n          <div class="input-group mb-2">\n          <select class="form-control" name="media-type">\n            <option value="auto">- Auto -</option>\n            <option value="audio">HTML Audio</option>\n            <option value="video">HTML Video</option>\n            <option value="youtube">Youtube</option>\n            <option value="brightcove">Brightcove</option>\n            <option value="iframe">Iframe</option>\n          </select>\n        </div>\n        <div class="input-group mb-2">\n          <input type="text" class="form-control" placeholder="Media src" name="media-src" autocomplete="on"/>\n        </div>\n        <div class="input-group mb-2">\n          <input type="text" class="form-control" placeholder="Media id" name="media-id" autocomplete="on"/>\n        </div>\n        <div class="input-group mb-2">\n          <input type="text" class="form-control" placeholder="Player id" name="player-id" autocomplete="on"/>\n        </div>\n        <div class="input-group mb-2">\n          <input type="text" class="form-control" placeholder="Player account" name="player-account" autocomplete="on"/>\n        </div>\n\n        <div class="form-group">\n          <div class="form-check form-check-inline">\n            <label class="form-check-label"><input type="checkbox" name="muted" class="form-check-input"/> Muted</label>\n          </div>\n          <div class="form-check form-check-inline">\n            <label class="form-check-label"><input type="checkbox" name="autoplay" class="form-check-input"/> Autoplay</label>\n          </div>\n          <div class="form-check form-check-inline">\n            <label class="form-check-label"><input type="checkbox" name="disabled" class="form-check-input"/> Disabled</label>\n          </div>\n        </div>\n      </fieldset>\n    ',t.action="javascript: void 0;",this.innerHTML="",this.appendChild(t)},e.prototype.onChange=function(){var t=this.target,e=this.querySelectorAll("input[name], select[name]");Array.from(e).forEach((function(e){t&&(e instanceof HTMLInputElement&&"checkbox"===e.type?t.toggleAttribute(e.name,e.checked):t.setAttribute(e.name,e.value))}))},e.prototype.connectedCallback=function(){var t=this;this.render(),this.addEventListener("change",ce((function(){return t.onChange()}),750)),this.onChange()},e}(HTMLElement);customElements.define("test-media-source",qn);var Fn=function(){var t=document.documentElement;t.style.setProperty("--100vw","".concat(t.clientWidth,"px")),t.style.setProperty("--100vh","".concat(window.innerHeight,"px"))},Gn=Jt(Fn),Wn=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Kn=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},Yn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.closeOnEsc=!0,e.closeOnOutsideAction=!0,e.submenus=".sidebar-nav-secondary",e.activeLinkSel=".sidebar-nav-secondary-item.active",e}return Wn(e,t),Object.defineProperty(e.prototype,"$submenus",{get:function(){return Array.from(this.querySelectorAll(this.submenus))},enumerable:!1,configurable:!0}),e.prototype.connectedCallback=function(){t.prototype.connectedCallback.call(this),Tt.for("@+MD").addListener(this.onBreakpointChange)},e.prototype.disconnectedCallback=function(){t.prototype.disconnectedCallback.call(this),Tt.for("@+MD").removeListener(this.onBreakpointChange)},e.prototype.storeState=function(){this.open?localStorage.removeItem("sidebar-collapsed"):localStorage.setItem("sidebar-collapsed","true")},e.prototype.setInitialState=function(){var t=Tt.for("@+MD").matches,e=!localStorage.getItem("sidebar-collapsed");this.toggle(t&&e,{force:!0,initiator:"init",immediate:!0})},e.prototype.collapseAll=function(){var t=this;this.$submenus.forEach((function(e){return e.hide({activator:t})}))},e.prototype.expandActive=function(t){var e=this;void 0===t&&(t=!1),this.$submenus.filter((function(t){return!!t.querySelector(e.activeLinkSel)})).forEach((function(o){return o.show({noCollapse:t,activator:e})}))},e.prototype.updateA11y=function(){var t=this.$a11yTarget;t&&t.setAttribute("aria-expanded",String(this.open))},e.prototype.onShow=function(e){this._animation=!e.immediate,t.prototype.onShow.call(this,e),this.expandActive("init"===e.initiator),e.activator&&e.activator.hasAttribute("data-store")&&this.storeState()},e.prototype.onHide=function(e){this._animation=!e.immediate,t.prototype.onHide.call(this,e),this.collapseAll(),e.activator&&e.activator.hasAttribute("data-store")&&this.storeState()},e.prototype.onBreakpointChange=function(){var t=Tt.for("@+MD").matches,e=!localStorage.getItem("sidebar-collapsed");this.toggle(t&&e,{force:!0,initiator:"bpchange",immediate:!t})},e.prototype._onOutsideAction=function(e){Tt.for("@+MD").matches||t.prototype._onOutsideAction.call(this,e)},e.is="esl-d-sidebar",Kn([Be()],e.prototype,"closeOnEsc",void 0),Kn([Be()],e.prototype,"closeOnOutsideAction",void 0),Kn([Be()],e.prototype,"submenus",void 0),Kn([Be()],e.prototype,"activeLinkSel",void 0),Kn([A({name:"animation"})],e.prototype,"_animation",void 0),Kn([ze],e.prototype,"connectedCallback",null),Kn([i],e.prototype,"onBreakpointChange",null),Kn([i],e.prototype,"_onOutsideAction",null),e}(xe),Qn=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Xn=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},Zn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._$active=[],e._animateTimer=0,e}return Qn(e,t),e.prototype.connectedCallback=function(){t.prototype.connectedCallback.call(this),W||this.startAnimation()},e.prototype.disconnectedCallback=function(){this.stopAnimation(),t.prototype.disconnectedCallback.call(this)},Object.defineProperty(e.prototype,"$stars",{get:function(){return Array.from(document.querySelectorAll(this.constructor.STARS_SEL))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$randomStar",{get:function(){var t=Math.floor(Math.random()*this.$stars.length);return this.$stars[t]},enumerable:!1,configurable:!0}),e.prototype.startAnimation=function(){N.clear(this,"$stars"),this.stopAnimation(),this.$stars.length<2||(this._animateTimer=window.setTimeout(this._onIteration,+this.iterationTime))},e.prototype.stopAnimation=function(){this._animateTimer&&window.clearTimeout(this._animateTimer)},e.prototype._onIteration=function(){var t=this,e=c(+this.targetsNumber,(function(){return t.$randomStar}));this._$active.forEach((function(t){return t.classList.remove("animate")})),e.forEach((function(t){return t.classList.add("animate")})),this._$active=e,this._animateTimer=window.setTimeout(this._onIteration,+this.iterationTime)},e.is="esl-d-marquee",e.STARS_SEL=["#esl-logo-shield-stars > path","#esl-logo-border-inner-stars > path","#esl-logo-border-outer-stars > path","#esl-logo-wrench-left-stars > path","#esl-logo-wrench-right-stars > path"].join(","),Xn([A({defaultValue:"4"})],e.prototype,"targetsNumber",void 0),Xn([A({defaultValue:"3000"})],e.prototype,"iterationTime",void 0),Xn([ze],e.prototype,"connectedCallback",null),Xn([N()],e.prototype,"$stars",null),Xn([i],e.prototype,"_onIteration",null),e}(k);dt.isIE||(Fn(),window.addEventListener("resize",Gn)),Yn.register(),Zn.register(),Yt.register(),je.register(),De.init(),xe.register(),eo.register(),ao.register(),ro.register(),ho.register(),vo.register(),mo.register(),Eo.register(),Ao.register(),So.register(),So.init({closeOnOutsideAction:!0}),Do.register(),Go.register(),Jo.register(),cn.register(),on.register(),An.register(),Bn.Dots.register(),Bn.Link.register(),Bn.Touch.register(),Bn.Autoplay.register()}()}();
//# sourceMappingURL=localdev.js.map