!function(){"use strict";var t={512:function(){var t,e=this&&this.__extends||(t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)},function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,o=e&&t[e],n=0;if(o)return o.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},n=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),Object.defineProperty(n.prototype,"target",{get:function(){var t=this.getAttribute("target");return t?Array.from(document.querySelectorAll(t)):[]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"actions",{get:function(){return this.getAttribute("actions")||n.ACTIONS_ALL},enumerable:!1,configurable:!0}),n.prototype.render=function(){var t,e,r=this.actions.split(",");this.innerHTML="";try{for(var i=o(r),s=i.next();!s.done;s=i.next()){var a=s.value,c=n.ACTIONS[a];if(!c)return;this.appendChild(c.render(a,c))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},n.prototype.onClick=function(t){var e=t.target.dataset.action;if(e&&n.ACTIONS[e]){var o=n.ACTIONS[e],r=o.action;this.target.forEach((function(t){return r.call(t,t,e,o)}))}},n.prototype.connectedCallback=function(){this.render(),this.addEventListener("click",this.onClick.bind(this))},n.ACTIONS={play:{title:"Play",action:function(t){return t.play()},render:r},pause:{title:"Pause",action:function(t){return t.pause()},render:r},stop:{title:"Stop",action:function(t){return t.stop()},render:r}},n.ACTIONS_ALL=Object.keys(n.ACTIONS).join(","),n}(HTMLElement);function r(t,e){var o=document.createElement("button");return o.className="btn btn-sec-blue",o.dataset.action=t,o.textContent=e.title,o}customElements.define("test-media-controls",n)},252:function(){Element.prototype.toggleAttribute||(Element.prototype.toggleAttribute=function(t,e){var o=this.hasAttribute(t),n=void 0===e?!o:!!e;return o!==n&&(n?this.setAttribute(t,""):this.removeAttribute(t)),n})},536:function(){!function(t){var e=Object.getOwnPropertyDescriptor(t,"key");if(e){var o={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};Object.defineProperty(t,"key",{get:function(){var t=e.get.call(this);return Object.prototype.hasOwnProperty.call(o,t)?o[t]:t}})}}(KeyboardEvent.prototype)},342:function(){"isConnected"in Node.prototype||Object.defineProperty(Node.prototype,"isConnected",{get:function(){return!(this.ownerDocument&&this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}})},277:function(){if(!("customElements"in window))throw new Error("Browser is not support customElements, load polyfills before")}},e={};function o(n){var r=e[n];if(void 0!==r)return r.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,o),i.exports}o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),function(){!function(t){if(void 0!==window.Reflect&&void 0!==window.customElements&&!window.customElements.polyfillWrapFlushCallback){Object.defineProperty(window,t.name,{value:function(){return Reflect.construct(t,[],this.constructor)}});var e=window[t.name];e.prototype=t.prototype,e.prototype.constructor=e,Object.setPrototypeOf(e,t)}}(HTMLElement),o(342),o(536),o(252),o(277);function t(t){return function(e){return function(t,e){"ESL"in window&&function(t,e,o){e.split(".").reduce((function(t,n,r,i){if(i.length===r+1)return t[n]=t[n]||o;var s=typeof t[n];if("undefined"!==s&&"object"!==s&&"function"!==s)throw new Error("Can not define ".concat(o," on ").concat(e));return t[n]=t[n]||{}}),t)}(window.ESL,t,e)}(t||e.name,e)}}t.declare=function(){"ESL"in window||Object.defineProperty(window,"ESL",{value:{}})},t.declare();var e=new Map,n=function(){function o(){}var n;return n=o,o.add=function(t,o,i){if(t=t.toLowerCase(),n.BP_NAME_REGEXP.test(t)){var s=e.get(t);return e.set(t,new r(t,o,i)),s}throw new Error("The shortcut should consist only of Latin characters and be at least one character long.")},o.remove=function(t){return e.delete(t.toLowerCase())},o.get=function(t){return e.get((t||"").toLowerCase())},Object.defineProperty(o,"names",{get:function(){var t=[];return e.forEach((function(e,o){return t.push(o)})),t},enumerable:!1,configurable:!0}),o.process=function(t){var e=function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s}(t.match(n.BP_REGEXP)||[],3),o=e[1],r=e[2],i=n.get(r);if(i)return"+"===o?i.mediaQueryGE:"-"===o?i.mediaQueryLE:i.mediaQuery},o.BP_REGEXP=/^([+-]?)([a-z]+)/i,o.BP_NAME_REGEXP=/^[a-z]+/i,n=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s}([t("ScreenBreakpoints")],o)}(),r=function(){function t(t,e,o){this.name=t,this.min=e,this.max=o}return Object.defineProperty(t.prototype,"mediaQuery",{get:function(){return"(min-width: ".concat(this.min,"px) and (max-width: ").concat(this.max,"px)")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mediaQueryGE",{get:function(){return"(min-width: ".concat(this.min,"px)")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mediaQueryLE",{get:function(){return"(max-width: ".concat(this.max,"px)")},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[".concat(this.name,"]: ").concat(this.min," to ").concat(this.max)},t}();n.add("xs",1,767),n.add("sm",768,991),n.add("md",992,1199),n.add("lg",1200,1599),n.add("xl",1600,999999),n.add("xs",1,599),n.add("sm",600,991),n.add("md",992,1199),n.add("lg",1200,1599),n.add("xl",1600,999999);var i,s=function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s},a=function(t,e,o){if(o||2===arguments.length)for(var n,r=0,i=e.length;r<i;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))},c=function(t){return requestAnimationFrame((function(){return requestAnimationFrame(t)}))},l=function(t){var e=null;return function(){for(var o=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];null===e&&requestAnimationFrame((function(){e&&t.call.apply(t,a([o],s(e),!1)),e=null})),e=n}},u=window.navigator,p=u.userAgent,h=u.vendor,f=u.platform,d=/trident/i.test(p),y=d,v=/edg([ea]|ios)/i.test(p),g=/\sedg\//i.test(p),b=v||g,m=/gecko/i.test(p)&&!/like gecko/i.test(p),_=/firefox|iceweasel|fxios/i.test(p),w=/(?:^opera.+?version|opr)/.test(p),O=!w&&/google inc/.test(h),E=/(apple)?webkit/i.test(p),C=E&&/^((?!chrome|android).)*safari/i.test(p),P=E&&!C,A=/Chrome-Lighthouse|Google Page Speed Insights/i.test(p),T=/Android/i.test(p),j="MacIntel"===f&&window.navigator.maxTouchPoints>1,S=/iPad|iPhone|iPod/.test(f)||j,L=/webOS|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),k=S||T||L,R=S&&E&&/CriOS/i.test(p),x=!(!(i=window.navigator).maxTouchPoints&&!i.msMaxTouchPoints)||"ontouchstart"in window||"DocumentTouch"in window&&document instanceof Touch,$=!matchMedia("(hover: none)").matches,I={START:x?"touchstart":"pointerdown",MOVE:x?"touchmove":"pointermove",END:x?"touchend":"pointerup"},M=function(){function e(){}return e.isTrident=d,e.isIE=y,e.isEdgeHTML=v,e.isBlinkEdge=g,e.isEdge=b,e.isGecko=m,e.isFirefox=_,e.isOpera=w,e.isChrome=O,e.isWebkit=E,e.isSafari=C,e.isBlink=P,e.isBot=A,e.isAndroid=T,e.isMobileIOS13=j,e.isMobileIOS=S,e.isLegacyMobile=L,e.isMobile=k,e.isMobileSafari=R,e.isTouchDevice=x,e.hasHover=$,e.TOUCH_EVENTS=I,function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s}([t("DeviceDetector")],e)}(),D=function(){function t(){}var e;return t.observe=function(){M.isIE||(this.update(),window.addEventListener("resize",this.updateDebounced))},t.destroy=function(){window.removeEventListener("resize",this.updateDebounced)},t.update=function(){var t=document.documentElement;t.style.setProperty(this.vwProp,"".concat(this.viewportWidth,"px")),t.style.setProperty(this.vhProp,"".concat(this.viewportHeight,"px"))},Object.defineProperty(t,"viewportWidth",{get:function(){return document.documentElement.clientWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t,"viewportHeight",{get:function(){return window.innerHeight},enumerable:!1,configurable:!0}),e=t,t.vwProp="--100vw",t.vhProp="--100vh",t.updateDebounced=l(e.update.bind(e)),t}();function N(t,e,o){if(!o||"function"!=typeof o.value)throw new TypeError("Only class methods can be decorated via @bind");var n=o.value;return{enumerable:o.enumerable,configurable:o.configurable,get:function(){if(!this||this===t||Object.hasOwnProperty.call(this,"constructor"))return n;var e=this.__fnBindings__;return e||(e=this.__fnBindings__=new WeakMap),e.has(n)||e.set(n,n.bind(this)),e.get(n)},set:function(t){Object.defineProperty(this,e,{writable:!0,enumerable:!1,configurable:!0,value:t})}}}var H=function(t){return t},V=function(t){return null==t?[]:Array.isArray(t)?t:[t]};function z(t,e){void 0===e&&(e=H);for(var o=Array(t),n=0;n<t;)o[n]=e(n++);return o}var U=new WeakMap,B=function(t,e,o){if("!"===e[0])return q.remove(t,e.substring(1),o);o&&function(t,e,o){var n=U.get(t)||new Map,r=n.get(e)||new Set;r.add(o),n.set(e,r),U.set(t,n)}(t,e,o),t.classList.add(e)},F=function(t,e,o){if("!"===e[0])return q.add(t,e.substring(1),o);o&&!function(t,e,o){var n=U.get(t);if(!n)return!0;var r=n.get(e);return!r||(r.delete(o),!r.size)}(t,e,o)||(o||q.unlock(t,e),t.classList.remove(e))},q=function(){function t(){}return t.splitTokens=function(t){return(t||"").split(" ").filter((function(t){return!!t}))},t.add=function(e,o,n){var r=t.splitTokens(o);V(e).forEach((function(t){return r.forEach((function(e){return B(t,e,n)}))}))},t.remove=function(e,o,n){var r=t.splitTokens(o);V(e).forEach((function(t){return r.forEach((function(e){return F(t,e,n)}))}))},t.toggle=function(e,o,n,r){(n?t.add:t.remove)(e,o,r)},t.unlock=function(t,e){e?V(t).forEach((function(t){var o;return null===(o=U.get(t))||void 0===o?void 0:o.delete(e)})):V(t).forEach((function(t){return U.delete(t)}))},t}(),G=function(t){var e="function"==typeof Symbol&&Symbol.iterator,o=e&&t[e],n=0;if(o)return o.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},W=function(t){return!!t&&"object"==typeof t},K=function(t){return null==t||"string"==typeof t||"number"==typeof t||"boolean"==typeof t||"symbol"==typeof t};function Y(t,e){if(Object.is(t,e))return!0;if(typeof t!=typeof e)return!1;if(W(t)&&W(e)){var o=Object.keys(t),n=Object.keys(e);return o.length===n.length&&!o.some((function(o){return!Y(t[o],e[o])}))}return!1}function Q(t,e){for(var o=t;o;){var n=Object.getOwnPropertyDescriptor(o,e);if(n)return n;o=Object.getPrototypeOf(o)}}function X(){for(var t,e,o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];try{for(var r=G(o),i=r.next();!i.done;i=r.next()){var s=i.value;if(void 0!==s)return s}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}}var Z=function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase()},J=function(t){return t.trim().replace(/^\((.*)\)$/,"$1").trim()},tt=function(t,e){if(0===t)return 0;var o=+(t||NaN);return isNaN(o)?e:o};function et(t,e){try{return t?new Function("return ".concat(t))():e}catch(o){return console.warn("Cannot parse value ",t,o),e}}var ot=/{[{%]?([\w.]+)[%}]?}/g;function nt(t,e,o){return void 0===o&&(o=ot),t.replace(o,(function(t,o){var n,r,i=(n=e,void 0===(r=(o||"").split(".").reduce((function(t,e){if(W(o=t)||"function"==typeof o)return t[e];var o}),n))?undefined:r);return void 0===i?t:i}))}var rt,it=function(t){return void 0===t&&(t={}),t=Object.assign({defaultValue:""},t),function(e,o){var n=function(t,e){return e?"data-".concat(Z(t)):Z(t)}(t.name||o,!!t.dataAttr);Object.defineProperty(e,o,function(t,e,o){function n(){var e=this.getAttribute(t);return"string"==typeof e?e:o}return e?{get:n}:{get:n,set:function(e){null==e||!1===e?this.removeAttribute(t):this.setAttribute(t,!0===e?"":e)}}}(n,!!t.readonly,t.defaultValue))}},st=function(t){return void 0===t&&(t={}),function(e,o){var n=function(t,e){return e?"data-".concat(Z(t)):Z(t)}(t.name||o,!!t.dataAttr);Object.defineProperty(e,o,function(t,e){function o(){return this.hasAttribute(t)}return e?{get:o}:{get:o,set:function(e){this.toggleAttribute(t,e)}}}(n,!!t.readonly))}},at=function(){function t(){}return t.dispatch=function(t,e,o){var n=Object.assign({bubbles:!0,composed:!0,cancelable:!0},o||{});return t.dispatchEvent(new CustomEvent(e,n))},t.source=function(t){var e=t.composedPath&&t.composedPath();return e?e[0]:t.target},t.isMouseEvent=function(t){return window.MouseEvent&&t instanceof MouseEvent},t.isTouchEvent=function(t){return window.TouchEvent&&t instanceof TouchEvent},t.normalizeTouchPoint=function(e){var o=t.isTouchEvent(e)?e.changedTouches[0]:e;return{x:o.pageX,y:o.pageY}},t.normalizeCoordinates=function(e,o){var n=t.isTouchEvent(e)?e.changedTouches[0]:e,r=o.getBoundingClientRect(),i=r.top+window.scrollY,s=r.left+window.scrollX;return{x:n.pageX-s,y:n.pageY-i}},t.stopPropagation=function(t){null==t||t.stopPropagation()},t.preventDefault=function(t){null==t||t.preventDefault()},t}(),ct=(rt=function(t,e){return rt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},rt(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}rt(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),lt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._connected=!1,e}return ct(e,t),e.prototype.connectedCallback=function(){this._connected=!0,this.classList.add(this.constructor.is)},e.prototype.disconnectedCallback=function(){this._connected=!1},Object.defineProperty(e.prototype,"connected",{get:function(){return this._connected},enumerable:!1,configurable:!0}),e.prototype.$$fire=function(t,e){return at.dispatch(this,"esl:"+t,e)},e.register=function(t){if(!(t=t||this.is))throw new Error("Can not define custom element");var e=customElements.get(t);if(e){if(e.is!==t)throw new Error("Element declaration tag inconsistency")}else this.is!==t&&(this.is=t),customElements.define(t,this)},Object.defineProperty(e,"registered",{get:function(){return customElements.whenDefined(this.is)},enumerable:!1,configurable:!0}),e.is="",e}(HTMLElement),ut=function(){function t(){this._listeners=new Set}return t.prototype.addListener=function(t){this._listeners.add(t)},t.prototype.removeListener=function(t){this._listeners.delete(t)},t.prototype.fire=function(){for(var t=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];this._listeners.forEach((function(o){try{o.apply(t,e)}catch(t){console.error(t)}}))},t}(),pt=function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s},ht=function(t,e,o){if(o||2===arguments.length)for(var n,r=0,i=e.length;r<i;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))};function ft(t,e){function o(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(void 0,ht([],pt(n),!1));return null!==i&&"string"!=typeof i?(console.warn("Can't cache value for ".concat(t.name," call.")),t.apply(this,n)):(o.cache.has(i)||o.cache.set(i,t.apply(this,n)),o.cache.get(i))}return void 0===e&&(e=dt),o.cache=new Map,o.clear=function(){return o.cache.clear()},o.has=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(void 0,ht([],pt(t),!1));return void 0!==r&&o.cache.has(r)},o}function dt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?null:t.length>1||"string"!=typeof t[0]&&"number"!=typeof t[0]&&"boolean"!=typeof t[0]?void 0:String(t[0])}var yt=function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s},vt=function(t,e,o){if(o||2===arguments.length)for(var n,r=0,i=e.length;r<i;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))};function gt(t){return void 0===t&&(t=dt),function(e,o,n){if(!n||"function"!=typeof(n.value||n.get))throw new TypeError("Only get accessors or class methods can be decorated via @memoize");var r;r=e,Object.hasOwnProperty.call(r,"constructor")?("function"==typeof n.get&&(n.get=function(t,e){return function(){for(var o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];if(bt.get(this)===e)return t;var r=t.call(this);return mt(this,e,r),r}}(n.get,o)),"function"==typeof n.value&&(n.value=function(t,e,o){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(bt.get(this)===e)return t;var i=ft(t,o);return mt(this,e,i),i.apply(this,n)}}(n.value,o,t))):("function"==typeof n.get&&(n.get=ft(n.get)),"function"==typeof n.value&&(n.value=ft(n.value,t)))}}var bt=new WeakMap,mt=function(t,e,o){bt.set(t,e),Object.defineProperty(t,e,{value:o,writable:!0,configurable:!0}),bt.delete(t)};gt.clear=function(t,e){var o=Q(t,e);if(o)return"function"==typeof o.get&&"function"==typeof o.get.clear?o.get.clear():"function"==typeof o.value&&"function"==typeof o.value.clear?o.value.clear():void(Object.hasOwnProperty.call(t,e)&&delete t[e])},gt.has=function(t,e){for(var o,n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var s=Q(t,e);return!!s&&("function"==typeof s.get&&"function"==typeof s.get.has?(o=s.get).has.apply(o,vt([],yt(r),!1)):"function"==typeof s.value&&"function"==typeof s.value.has?(n=s.value).has.apply(n,vt([],yt(r),!1)):Object.hasOwnProperty.call(t,e))};var _t=function(){function e(){}var o;return o=e,e.toDPI=function(t){return(96*t).toFixed(1)},e.process=function(t){if(o.VALUE_REGEXP.test(t)){var e=parseFloat(t);if(!(e<0||isNaN(e)))return o.ignoreBotsDpr&&M.isBot&&e>1?"not all":M.isSafari?"(-webkit-min-device-pixel-ratio: ".concat(e,")"):"(min-resolution: ".concat(o.toDPI(e),"dpi)")}},e.VALUE_REGEXP=/(\d(\.\d)?)x/,e.ignoreBotsDpr=!1,o=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s}([t("ScreenDPR")],e)}(),wt=new Map,Ot=function(){function e(){}return e.add=function(t,e){return["boolean","string"].includes(typeof e)||(e=!1),wt.set(t.toLowerCase(),e)},e.remove=function(t){return wt.delete(t.toLowerCase())},e.process=function(t){if(wt.has(t))return wt.get(t)},e._shortcuts=wt,function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s}([t("EnvShortcuts")],e)}();Ot.add("touch",M.isTouchDevice),Ot.add("bot",M.isBot),Ot.add("mobile",M.isMobile),Ot.add("desktop",!M.isMobile),Ot.add("android",M.isAndroid),Ot.add("ios",M.isMobileIOS),Ot.add("ie",M.isIE),Ot.add("edge",M.isEdgeHTML),Ot.add("gecko",M.isGecko),Ot.add("blink",M.isBlink),Ot.add("safari",M.isSafari),Ot.add("safari-ios",M.isMobileSafari);var Et=function(){function t(t){this._matches=t}return Object.defineProperty(t.prototype,"matches",{get:function(){return this._matches},enumerable:!1,configurable:!0}),t.prototype.addListener=function(t){},t.prototype.removeListener=function(t){},t.prototype.optimize=function(){return this},t.prototype.toString=function(){return this._matches?"all":"not all"},t.prototype.eq=function(t){return t.toString().trim()===this.toString()},t}(),Ct=new Et(!0),Pt=new Et(!1),At=function(){function t(t,e){void 0===e&&(e=!1),this._inverted=e,this._mq=matchMedia(t.trim()||"all")}return Object.defineProperty(t.prototype,"matches",{get:function(){return this._inverted?!this._mq.matches:this._mq.matches},enumerable:!1,configurable:!0}),t.prototype.addListener=function(t){"function"==typeof this._mq.addEventListener?this._mq.addEventListener("change",t):this._mq.addListener(t)},t.prototype.removeListener=function(t){"function"==typeof this._mq.removeEventListener?this._mq.removeEventListener("change",t):this._mq.removeListener(t)},t.prototype.optimize=function(){return Ct.eq(this)?this._inverted?Pt:Ct:Pt.eq(this)?this._inverted?Ct:Pt:this},t.prototype.toString=function(){var t=this._mq.media,e=this._inverted;return(e?"not ":"")+(e&&/\)[\s\w]+\(/.test(t)?"(".concat(t,")"):t)},t}(),Tt=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),jt=function(t){function e(e){void 0===e&&(e=[]);var o=t.call(this)||this;return o.items=e,o._matches=o.matches,o._onChildChange=o._onChildChange.bind(o),o}return Tt(e,t),e.prototype.addListener=function(e){var o=this;t.prototype.addListener.call(this,e),this._listeners.size>1||this.items.forEach((function(t){return t.addListener(o._onChildChange)}))},e.prototype.removeListener=function(e){var o=this;t.prototype.removeListener.call(this,e),this._listeners.size||this.items.forEach((function(t){return t.removeListener(o._onChildChange)}))},Object.defineProperty(e.prototype,"matches",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.optimize=function(){return this},e.prototype._onChildChange=function(){var t=this.matches;this._matches!==t&&this.fire(this._matches=t)},e}(ut),St=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),Object.defineProperty(e.prototype,"matches",{get:function(){return this.items.every((function(t){return t.matches}))},enumerable:!1,configurable:!0}),e.prototype.optimize=function(){var t=this.items.map((function(t){return t.optimize()}));if(t.some((function(t){return Pt.eq(t)})))return Pt;var o=t.filter((function(t){return!Ct.eq(t)}));return 0===o.length?Ct:1===o.length?o[0]:new e(o)},e.prototype.toString=function(){return this.items.join(" and ")},e}(jt),Lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),Object.defineProperty(e.prototype,"matches",{get:function(){return this.items.some((function(t){return t.matches}))},enumerable:!1,configurable:!0}),e.prototype.optimize=function(){var t=this.items.map((function(t){return t.optimize()}));if(t.some((function(t){return Ct.eq(t)})))return Ct;var o=t.filter((function(t){return!Pt.eq(t)}));return 0===o.length?Pt:1===o.length?o[0]:new e(o)},e.prototype.toString=function(t){return void 0===t&&(t=!1),this.items.join(t?" or ":", ")},e}(jt),kt=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},Rt=function(){function e(){}var o;return o=e,e.use=function(t){return this._preprocessors.unshift(t),this},e.for=function(t){return o.from(t)},e.from=function(t){var e=t.split(/\sor\s|,/).map((function(t){var e=t.split(/\sand\s/).map(o.parseSimpleQuery);return new St(e)}));return new Lt(e).optimize()},e.preprocess=function(t){var e,o;if(!this.SHORTCUT_PATTERN.test(t))return t;var n=t.trim().substr(1).toLowerCase();try{for(var r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,o=e&&t[e],n=0;if(o)return o.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this._preprocessors),i=r.next();!i.done;i=r.next()){var s=i.value.process(n);if("string"==typeof s)return s;if("boolean"==typeof s)return s?"all":"not all"}}catch(t){e={error:t}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(e)throw e.error}}return t},e.parseSimpleQuery=function(t){var e=t.replace(/^\s*not\s+/,""),n=e!==t,r=o.preprocess(e),i=r.replace(/^\s*not\s+/,""),s=n!==(r!==i);return Ct.eq(i)?s?Pt:Ct:Pt.eq(i)?s?Ct:Pt:new At(i,s)},e.ALL=Ct,e.NOT_ALL=Pt,e.SHORTCUT_PATTERN=/@([a-z0-9.+-]+)/i,e._preprocessors=[],kt([gt()],e,"for",null),o=kt([t("MediaQuery")],e)}();Rt.use(_t),Rt.use(n),Rt.use(Ot);var xt,$t=function(){function t(t,e){void 0===e&&(e=""),this._query=Rt.for(e),this._default=!e,this._payload=t}return t.prototype.toString=function(){return"".concat(this._query," => ").concat(this._payload)},t.prototype.addListener=function(t){this._query.addListener(t)},t.prototype.removeListener=function(t){this._query.removeListener(t)},Object.defineProperty(t.prototype,"matches",{get:function(){return this._query.matches},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"payload",{get:function(){return this._payload},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"default",{get:function(){return this._default},enumerable:!1,configurable:!0}),t.parse=function(e,o){var n=e.split("=>"),r=2===n.length?n[0]:"",i=o((2===n.length?n[1]:n[0]).trim());if(void 0!==i)return new t(i,r.trim())},t.all=function(e){return new t(e,"all")},t.default=function(e){return new t(e)},t.empty=function(){return new t(void 0,"all")},t}(),It=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Mt=function(e){function o(t){var o=e.call(this)||this;return o._rules=t,o._default=t.filter((function(t){return t.default}))[0],o._onMatchChanged=o._onMatchChanged.bind(o),o}var n;return It(o,e),n=o,o.parse=function(t,e){void 0===e&&(e=n.STRING_PARSER);var o=[];return t.split("|").forEach((function(t){var n=t.trim(),r=$t.parse(n,e);r&&(r.default?o.unshift(r):o.push(r))})),new n(o)},o.parseTuple=function(t,e){var o=t.split("|"),r=e.split("|");if(o.length!==r.length)throw new Error("Value doesn't correspond to mask");var i=r.map((function(t,e){return new $t(o[e],t)}));return new n(i)},o.prototype.addListener=function(t){var o=this;e.prototype.addListener.call(this,t),this._listeners.size>1||this._rules.forEach((function(t){return t.addListener(o._onMatchChanged)}))},o.prototype.removeListener=function(t){var o=this;e.prototype.removeListener.call(this,t),this._listeners.size||this._rules.forEach((function(t){return t.removeListener(o._onMatchChanged)}))},Object.defineProperty(o.prototype,"rules",{get:function(){return this._rules},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"active",{get:function(){return this._active&&this._listeners.size||(this._active=this.activeRule),this._active},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"activeRule",{get:function(){var t=this.rules.filter((function(t){return t.matches}));return t.length>0?t[t.length-1]:$t.empty()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"activeValue",{get:function(){var t=this.active.payload;return K(t)||!this.default||K(this.default.payload)?t:Object.assign({},this._default.payload||{},t)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"default",{get:function(){return this._default},enumerable:!1,configurable:!0}),o.prototype._onMatchChanged=function(){var t=this.activeRule;this._active!==t&&this.fire(this._active=t,this)},o.STRING_PARSER=function(t){return t},o.OBJECT_PARSER=function(t){return et(t)},n=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s}([t("MediaRuleList")],o)}(ut),Dt=function(t,e){return t&&e&&(t.contains(e)||e.contains(t))},Nt=function(t){return function(e,o){for(var n=t(e);n;n=t(n))if(!o||n.matches(o))return n;return null}},Ht=Nt((function(t){return t.nextElementSibling})),Vt=Nt((function(t){return t.previousElementSibling})),zt=Nt((function(t){return t.parentElement})),Ut=function(t,e){return e?Array.from(t.querySelectorAll(e)):[t]},Bt=function(t,e){return Array.from(t.children).filter((function(t){return!e||t.matches(e)}))},Ft=function(t,e,o){void 0===o&&(o=!1);for(var n=o&&t?t.parentNode:t;n;){if(e(n))return n;n=n.parentNode}return null},qt=(function(){function t(){}t.isRelative=Dt,t.closestBy=Ft,t.createSequenceFinder=Nt,t.findNext=Ht,t.findPrev=Vt,t.findParent=zt,t.findAll=Ut,t.findChildren=Bt}(),function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s}),Gt=function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s},Wt=function(t,e,o){if(o||2===arguments.length)for(var n,r=0,i=e.length;r<i;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))},Kt=function(){function e(){}var o;return o=e,Object.defineProperty(e,"PROCESSORS_REGEX",{get:function(){var t=Object.keys(this.ELEMENT_PROCESSORS).concat(Object.keys(this.COLLECTION_PROCESSORS));return new RegExp("(".concat(t.join("|"),")"),"g")},enumerable:!1,configurable:!0}),e.isCollectionProcessor=function(t){var e=Gt(t,1)[0];return e&&e in this.COLLECTION_PROCESSORS},e.processElement=function(t,e){var o=Gt(e,2),n=o[0],r=o[1],i=J(r||"");return n&&n in this.ELEMENT_PROCESSORS?V(this.ELEMENT_PROCESSORS[n](t,i)):[]},e.processCollection=function(t,e){var o=Gt(e,2),n=o[0],r=o[1],i=J(r||"");return n&&n in this.COLLECTION_PROCESSORS?V(this.COLLECTION_PROCESSORS[n](t,i)):[]},e.traverseChain=function(t,e,o){var n,r;if(!e.length||!t.length)return t;var i=Gt(e),s=i[0],a=i.slice(1);if(this.isCollectionProcessor(s)){var c=this.processCollection(t,s);return this.traverseChain(c,a,o)}var l=[];try{for(var u=function(t){var e="function"==typeof Symbol&&Symbol.iterator,o=e&&t[e],n=0;if(o)return o.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),p=u.next();!p.done;p=u.next()){var h=p.value,f=(c=this.processElement(h,s),this.traverseChain(c,a,o));if(f.length){if(o)return f.slice(0,1);l.push.apply(l,Wt([],Gt(f),!1))}}}catch(t){n={error:t}}finally{try{p&&!p.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return function(t){var e=[],o=new Set;return t.forEach((function(t){return o.add(t)})),o.forEach((function(t){return e.push(t)})),e}(l)},e.traverse=function(t,e,o,n){void 0===n&&(n=document);var r=t.split(this.PROCESSORS_REGEX).map((function(t){return t.trim()})),i=r.shift(),s=o?[o]:[],a=i?Array.from(n.querySelectorAll(i)):s;return this.traverseChain(a,r.reduce((function(t,e){return(0===t.length||t[t.length-1].length>=2)&&t.push([]),t[t.length-1].push(e),t}),[]),e)},e.first=function(t,e,n){return o.traverse(t,!0,e,n)[0]||null},e.all=function(t,e,n){return o.traverse(t,!1,e,n)},e.ELEMENT_PROCESSORS={"::find":Ut,"::next":Ht,"::prev":Vt,"::child":Bt,"::parent":zt},e.COLLECTION_PROCESSORS={"::first":function(t){return t.slice(0,1)},"::last":function(t){return t.slice(-1)},"::nth":function(t,e){return V(t[(e?+e:NaN)-1])},"::not":function(t,e){return t.filter((function(t){return!t.matches(e||"")}))},"::filter":function(t,e){return t.filter((function(t){return t.matches(e||"")}))}},o=qt([t("TraversingQuery")],e)}();function Yt(){return xt||(xt=new IntersectionObserver((function(t){t.forEach(Qt)}),{threshold:[.01],rootMargin:M.isMobile?"250px":"500px"})),xt}function Qt(t){var e=t.target;e instanceof te&&(t.isIntersecting||t.intersectionRatio>0)&&e.triggerLoad()}var Xt={cover:{apply:function(t,e){var o=e.src,n=!o||te.isEmptyImage(o);t.style.backgroundImage=n?"":'url("'.concat(o,'")')},clear:function(t){t.style.backgroundImage=""}},"save-ratio":{apply:function(t,e){var o=e.src,n=!o||te.isEmptyImage(o);t.style.backgroundImage=n?"":'url("'.concat(o,'")'),0!==e.width&&(t.style.paddingTop=n?"":"".concat(100*e.height/e.width,"%"))},clear:function(t){t.style.paddingTop="",t.style.backgroundImage=""}},fit:{apply:function(t,e){var o=t.attachInnerImage();o.src=e.src,o.removeAttribute("width")},clear:function(t){t.removeInnerImage()}},origin:{apply:function(t,e){var o=t.attachInnerImage();o.src=e.src,o.width=e.width/window.devicePixelRatio},clear:function(t){t.removeInnerImage()}},"inner-svg":{apply:function(t,e){var o=new XMLHttpRequest;o.open("GET",e.src,!0),o.onreadystatechange=function(){if(4===o.readyState&&200===o.status){var e=document.createElement("div");e.innerHTML=o.responseText,Array.from(e.querySelectorAll("script")||[]).forEach((function(t){return t.remove()})),t.innerHTML=e.innerHTML}},o.send()},clear:function(t){t.innerHTML=""}}},Zt=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Jt=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},te=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}var n;return Zt(o,e),n=o,Object.defineProperty(o,"STRATEGIES",{get:function(){return Xt},enumerable:!1,configurable:!0}),Object.defineProperty(o,"EMPTY_IMAGE",{get:function(){return"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="},enumerable:!1,configurable:!0}),Object.defineProperty(o,"observedAttributes",{get:function(){return["alt","role","mode","aria-label","data-src","data-src-base","lazy-triggered"]},enumerable:!1,configurable:!0}),o.prototype.connectedCallback=function(){e.prototype.connectedCallback.call(this),this.alt=this.alt||this.getAttribute("aria-label")||this.getAttribute("data-alt")||"",this.updateA11y(),this.srcRules.addListener(this._onMediaMatchChange),this.lazyObservable&&(this.removeAttribute("lazy-triggered"),Yt().observe(this),this._detachLazyTrigger=function(){Yt().unobserve(this),this._detachLazyTrigger=null}),this.refresh()},o.prototype.disconnectedCallback=function(){e.prototype.disconnectedCallback.call(this),this._detachLazyTrigger&&this._detachLazyTrigger(),this._srcRules&&this._srcRules.removeListener(this._onMediaMatchChange)},o.prototype.attributeChangedCallback=function(t,e,o){if(this.connected&&e!==o)switch(t){case"aria-label":this.alt=o||"";break;case"alt":case"role":this.updateA11y();break;case"data-src":this.srcRules=Mt.parse(o),this.refresh();break;case"data-src-base":this.refresh();break;case"mode":this.changeMode(e,o);break;case"lazy-triggered":this.lazyTriggered&&this.update()}},Object.defineProperty(o.prototype,"srcRules",{get:function(){return this._srcRules||(this.srcRules=Mt.parse(this.src)),this._srcRules},set:function(t){this._srcRules&&this._srcRules.removeListener(this._onMediaMatchChange),this._srcRules=t,this._srcRules.addListener(this._onMediaMatchChange)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"currentSrc",{get:function(){return this._currentSrc},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"empty",{get:function(){return!this._currentSrc||n.isEmptyImage(this._currentSrc)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"canUpdate",{get:function(){return this.lazyTriggered||"none"===this.lazy},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"lazyObservable",{get:function(){return"none"!==this.lazy&&"manual"!==this.lazy},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"originalWidth",{get:function(){return this._shadowImageElement?this._shadowImageElement.width:0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"originalHeight",{get:function(){return this._shadowImageElement?this._shadowImageElement.height:0},enumerable:!1,configurable:!0}),o.prototype.triggerLoad=function(){this.setAttribute("lazy-triggered","")},o.prototype.changeMode=function(t,e){if((t=t||"save-ratio")!==(e=e||"save-ratio")){if(!Xt[e])throw this.mode=t,new Error("ESL Image: Unsupported mode: "+e);this.clearImage(),this.loaded&&this.syncImage()}},o.prototype.update=function(t){if(void 0===t&&(t=!1),this.canUpdate){var e=this.getPath(this.srcRules.activeValue);this._currentSrc===e&&this.ready&&!t||(this._currentSrc=e,this._shadowImg.src=e,!this.refreshOnUpdate&&this.ready||this.syncImage(),this._shadowImg.complete&&(this._shadowImgError?this._onError():this._onLoad())),this._detachLazyTrigger&&this._detachLazyTrigger()}},o.prototype.updateA11y=function(){var t=this.getAttribute("role")||"img";this.setAttribute("role",t),this.innerImage&&(this.innerImage.alt=this.alt),"img"===t&&this.setAttribute("aria-label",this.alt)},o.prototype.getPath=function(t){return t&&"0"!==t&&"none"!==t?this.srcBase+t:n.EMPTY_IMAGE},o.prototype.refresh=function(){this.removeAttribute("loaded"),this.removeAttribute("ready"),this.updateContainerClasses(),this.clearImage(),this.update(!0)},o.prototype.syncImage=function(){var t=Xt[this.mode];this._strategy=t,t&&t.apply(this,this._shadowImg)},o.prototype.clearImage=function(){this._strategy&&this._strategy.clear(this),this._strategy=null},Object.defineProperty(o.prototype,"innerImage",{get:function(){return this._innerImg},enumerable:!1,configurable:!0}),o.prototype.attachInnerImage=function(){return this._innerImg||(this._innerImg=this.querySelector("img.".concat(this.innerImageClass))||this._shadowImg.cloneNode(),this._innerImg.className=this.innerImageClass),this._innerImg.parentNode||this.appendChild(this._innerImg),this._innerImg.alt=this.alt,this._innerImg},o.prototype.removeInnerImage=function(){var t=this;this.innerImage&&(this.removeChild(this.innerImage),setTimeout((function(){t._innerImg&&!t._innerImg.parentNode&&(t._innerImg=null)})))},Object.defineProperty(o.prototype,"_shadowImg",{get:function(){return this._shadowImageElement||(this._shadowImageElement=new Image,this._shadowImageElement.onload=this._onLoad,this._shadowImageElement.onerror=this._onError),this._shadowImageElement},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_shadowImgError",{get:function(){return!!this._shadowImg.complete&&".svg"!==this._shadowImg.src.substr(-4)&&this._shadowImg.naturalHeight<=0},enumerable:!1,configurable:!0}),o.prototype._onLoad=function(){this.syncImage(),this._onReadyState(!0),this.updateContainerClasses()},o.prototype._onError=function(){this._onReadyState(!1),this.updateContainerClasses()},o.prototype._onMediaMatchChange=function(){this.update()},o.prototype._onReadyState=function(t){this.ready||(this.toggleAttribute("loaded",t),this.toggleAttribute("error",!t),this.toggleAttribute("ready",!0),this.$$fire(t?"load":"error"),this.$$fire("ready"))},o.prototype.updateContainerClasses=function(){if(null!==this.containerClass){var t=this.containerClass||this.constructor.DEFAULT_CONTAINER_CLS,e=function(t){return["error","loaded","ready"].includes(t)}(this.containerClassState)&&this[this.containerClassState],o=Kt.first(this.containerClassTarget,this);o&&q.toggle(o,t,e)}},o.prototype.$$fire=function(t,e){return void 0===e&&(e={bubbles:!1}),at.dispatch(this,t,e)},o.isEmptyImage=function(t){return t===n.EMPTY_IMAGE},o.is="esl-image",o.DEFAULT_CONTAINER_CLS="img-container-loaded",Jt([it()],o.prototype,"alt",void 0),Jt([it({defaultValue:"save-ratio"})],o.prototype,"mode",void 0),Jt([it({dataAttr:!0})],o.prototype,"src",void 0),Jt([it({dataAttr:!0})],o.prototype,"srcBase",void 0),Jt([it({defaultValue:"none"})],o.prototype,"lazy",void 0),Jt([st()],o.prototype,"lazyTriggered",void 0),Jt([st()],o.prototype,"refreshOnUpdate",void 0),Jt([it({defaultValue:"inner-image"})],o.prototype,"innerImageClass",void 0),Jt([it({defaultValue:null})],o.prototype,"containerClass",void 0),Jt([it({defaultValue:"::parent"})],o.prototype,"containerClassTarget",void 0),Jt([it({defaultValue:"ready"})],o.prototype,"containerClassState",void 0),Jt([st({readonly:!0})],o.prototype,"ready",void 0),Jt([st({readonly:!0})],o.prototype,"loaded",void 0),Jt([st({readonly:!0})],o.prototype,"error",void 0),Jt([N],o.prototype,"_onLoad",null),Jt([N],o.prototype,"_onError",null),Jt([N],o.prototype,"_onMediaMatchChange",null),n=Jt([t("Image")],o)}(lt);function ee(t,e){return new Promise((function(o){return setTimeout(o.bind(null,e),t)}))}function oe(t,e,o,n){return new Promise((function(r,i){t.addEventListener(e,(function o(i){t.removeEventListener(e,o,n),r(i)}),n),"number"==typeof o&&o>=0&&setTimeout((function(){return i(new Error("Rejected by timeout"))}),o)}))}function ne(t,e,o){return void 0===o&&(o=e),t[e]?Promise.resolve(t):oe(t,o).then((function(){return t}))}function re(t,e,o){return void 0===e&&(e=2),void 0===o&&(o=100),new Promise((function(n,r){!function i(){var s;try{s=t()}catch(t){s=void 0}s||e--<0?s?n(s):r(new Error("Rejected by limit of tries")):setTimeout(i,o)}()}))}function ie(t,e){return void 0===e&&(e=1),e<1?Promise.reject():1===e?Promise.resolve().then(t):ie(t,e-1).then(t)}function se(){var t,e;return{promise:new Promise((function(o,n){e=o,t=n})),resolve:e,reject:t}}function ae(t){return Promise.resolve(t)}function ce(t){return Promise.reject(t)}function le(t,e,o){void 0===e&&(e=10);var n=null,r=null;function i(){for(var i=this,s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];r=r||se(),"number"==typeof n&&clearTimeout(n),n=window.setTimeout((function(){n=null,r.resolve(t.apply(o||i,s)),r=null}),e)}return Object.defineProperty(i,"promise",{get:function(){return r?r.promise:Promise.resolve()}}),Object.defineProperty(i,"cancel",{writable:!1,enumerable:!1,value:function(){"number"==typeof n&&clearTimeout(n),n=null,null==r||r.reject(),r=null}}),i}!function(){function t(){}t.fromTimeout=ee,t.fromEvent=oe,t.fromMarker=ne,t.repeat=ie,t.tryUntil=re,t.deferred=se,t.resolve=ae,t.reject=ce}();var ue,pe="Enter",he=" ",fe="Pause",de="ArrowLeft",ye="ArrowUp",ve="ArrowRight",ge="ArrowDown";function be(t){return void 0===t&&(t=!1),ue||t||(ue=new IntersectionObserver((function(t){t.forEach(me)}),{threshold:[.2,.75]})),ue}function me(t){var e=t.target;e instanceof Se&&(e.active&&t.intersectionRatio<=.2&&e.pause(),!e.active&&e.autoplay&&t.intersectionRatio>=.75&&e.play())}var _e,we=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Oe=null,Ee=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.providersMap=new Map,e}return we(e,t),Object.defineProperty(e,"instance",{get:function(){return Oe||(Oe=new e),Oe},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"providers",{get:function(){var t=[];return this.providersMap.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),e.prototype.register=function(t){if(!t.providerName)throw new Error("Provider should have a name");this.providersMap.set(t.providerName,t),this.fire(t.providerName,t)},e.prototype.has=function(t){return this.providersMap.has(t)},e.prototype.findByName=function(t){return t&&"auto"!==t&&this.providersMap.get(t.toLowerCase())||null},e.prototype.createFor=function(t){return this.createByType(t)||this.createBySrc(t)},e.prototype.createByType=function(t){var o=this.findByName(t.mediaType);return o?e._create(o,t):null},e.prototype.createBySrc=function(t){var o,n;try{for(var r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,o=e&&t[e],n=0;if(o)return o.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.providers.reverse()),i=r.next();!i.done;i=r.next()){var s=i.value,a=s.parseUrl(t.mediaSrc);if(a)return e._create(s,t,a)}}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return null},e._create=function(t,e,o){void 0===o&&(o=t.parseUrl(e.mediaSrc));var n=Object.assign({},o||{},t.parseConfig(e));return new t(e,n)},e}(ut);!function(t){t[t.BUFFERING=3]="BUFFERING",t[t.ENDED=0]="ENDED",t[t.PAUSED=2]="PAUSED",t[t.PLAYING=1]="PLAYING",t[t.UNSTARTED=-1]="UNSTARTED",t[t.VIDEO_CUED=5]="VIDEO_CUED",t[t.UNINITIALIZED=-2]="UNINITIALIZED"}(_e||(_e={}));var Ce=function(){function t(t,e){this.config=e,this.component=t}return t.parseUrl=function(t){return null},t.parseConfig=function(t){var e=t.loop,o=t.muted,n=t.controls,r=t.autoplay,i=t.title,s=t.preload,a=t.playsinline,c=t.mediaId,l=t.mediaSrc,u={loop:e,muted:o,controls:n,autoplay:r,title:i,preload:s,playsinline:a};return c&&Object.assign(u,{mediaId:c}),l&&Object.assign(u,{mediaSrc:l}),u},Object.defineProperty(t.prototype,"ready",{get:function(){if(!this._ready){var t=Promise.reject("Not Initialized");return t.catch((function(t){return console.log("Rejected Media Operation: ",t)})),t}return this._ready},enumerable:!1,configurable:!0}),t.prototype.unbind=function(){Array.from(this.component.querySelectorAll(".esl-media-inner")).forEach((function(t){return t.parentNode&&t.parentNode.removeChild(t)}))},Object.defineProperty(t.prototype,"name",{get:function(){return this.constructor.providerName},enumerable:!1,configurable:!0}),t.prototype.focus=function(){var t;null===(t=this._el)||void 0===t||t.focus()},t.prototype.onConfigChange=function(t,e){this.config[t]=e},t.prototype.setSize=function(t,e){this._el&&(this._el.style.setProperty("width","auto"===t?null:"".concat(t,"px")),this._el.style.setProperty("height","auto"===e?null:"".concat(e,"px")))},t.prototype.toggle=function(){return[_e.PAUSED,_e.UNSTARTED,_e.VIDEO_CUED].includes(this.state)?this.play():this.pause()},t.prototype.onSafeConfigChange=function(t,e){var o=this;this.ready.then((function(){return o.onConfigChange(t,e)}))},t.prototype.safeSeekTo=function(t){var e=this;return this.ready.then((function(){return e.seekTo(t)}))},t.prototype.safePlay=function(){var t=this;return this.ready.then((function(){return t.play()}))},t.prototype.safePause=function(){var t=this;return this.ready.then((function(){return t.pause()}))},t.prototype.safeStop=function(){var t=this;return this.ready.then((function(){return t.stop()}))},t.prototype.safeToggle=function(){var t=this;return this.ready.then((function(){return t.toggle()}))},t.register=function(e){if((e=e||this)===t)throw new Error("`BaseProvider` can't be registered.");if(!((null==e?void 0:e.prototype)instanceof t))throw new Error("Provider should be instanceof `BaseProvider`");Ee.instance.register(e)},t}(),Pe=new Map,Ae=function(){function t(){}return Object.defineProperty(t,"managerMap",{get:function(){return Pe},enumerable:!1,configurable:!0}),t.registerPlay=function(t){if(t.group){var e=Pe.get(t.group);if(Pe.set(t.group,t),!e||e===t||!e.active)return;e.$$fire("mangedpause")&&e.pause()}},t.unregister=function(t){t.group&&Pe.get(t.group)===t&&Pe.delete(t.group)},t}(),Te=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),je=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},Se=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.deferredResize=l((function(){return t._onResize()})),t.deferredReinitialize=le((function(){return t.reinitInstance()})),t}return Te(o,e),Object.defineProperty(o,"PLAYER_STATES",{get:function(){return _e},enumerable:!1,configurable:!0}),Object.defineProperty(o,"observedAttributes",{get:function(){return["disabled","media-type","media-id","media-src","fill-mode","aspect-ratio","play-in-viewport","muted","loop","controls"]},enumerable:!1,configurable:!0}),o.supports=function(t){return Ee.instance.has(t)},o.prototype.connectedCallback=function(){e.prototype.connectedCallback.call(this),this.hasAttribute("role")||this.setAttribute("role","application"),this.innerHTML+="\x3c!-- Inner Content, do not modify it manually --\x3e",this.bindEvents(),this.attachViewportConstraint(),this.deferredReinitialize()},o.prototype.disconnectedCallback=function(){e.prototype.disconnectedCallback.call(this),this.unbindEvents(),this.detachViewportConstraint(),this._provider&&this._provider.unbind()},o.prototype.attributeChangedCallback=function(t,e,o){if(this.connected&&e!==o)switch(t){case"disabled":case"media-id":case"media-src":case"media-type":this.deferredReinitialize();break;case"loop":case"muted":case"controls":this._provider&&this._provider.onSafeConfigChange(t,null!==o);break;case"fill-mode":case"aspect-ratio":this.deferredResize();break;case"play-in-viewport":this.playInViewport?this.attachViewportConstraint():this.detachViewportConstraint()}},o.prototype.bindEvents=function(){Ee.instance.addListener(this._onRegistryStateChange),this.conditionQuery&&this.conditionQuery.addListener(this.deferredReinitialize),this.fillModeEnabled&&window.addEventListener("resize",this.deferredResize),window.addEventListener("esl:refresh",this._onRefresh),this.addEventListener("keydown",this._onKeydown)},o.prototype.unbindEvents=function(){Ee.instance.removeListener(this._onRegistryStateChange),this.conditionQuery&&this.conditionQuery.removeListener(this.deferredReinitialize),this.fillModeEnabled&&window.removeEventListener("resize",this.deferredResize),window.removeEventListener("esl:refresh",this._onRefresh),this.removeEventListener("keydown",this._onKeydown)},o.prototype.canActivate=function(){return!this.disabled&&(!this.conditionQuery||this.conditionQuery.matches)},o.prototype.reinitInstance=function(){console.debug("[ESL] Media reinitialize ",this),this._provider&&this._provider.unbind(),this._provider=null,this.canActivate()&&(this._provider=Ee.instance.createFor(this),this._provider?(this._provider.bind(),console.debug("[ESL] Media provider bound",this._provider)):this._onError()),this.updateContainerMarkers()},o.prototype.updateContainerMarkers=function(){var t=Kt.first(this.loadClsTarget,this);if(t){var e=this.canActivate();q.toggle(t,this.loadClsAccepted,e),q.toggle(t,this.loadClsDeclined,!e)}},o.prototype.seekTo=function(t){return this._provider&&this._provider.safeSeekTo(t)},o.prototype.play=function(t){return void 0===t&&(t=!1),this.disabled&&t&&(this.disabled=!1,this.deferredReinitialize.cancel(),this.reinitInstance()),this.canActivate()?this._provider&&this._provider.safePlay():null},o.prototype.pause=function(){return this._provider&&this._provider.safePause()},o.prototype.stop=function(){return this._provider&&this._provider.safeStop()},o.prototype.toggle=function(){return this._provider&&this._provider.safeToggle()},o.prototype.focusPlayer=function(){this._provider&&this._provider.focus()},o.prototype._onReady=function(){this.toggleAttribute("ready",!0),this.toggleAttribute("error",!1),this.updateReadyClass(),this.deferredResize(),this.$$fire("ready")},o.prototype._onError=function(t,e){void 0===e&&(e=!0),this.toggleAttribute("ready",!0),this.toggleAttribute("error",!0),this.$$fire("error",{detail:t}),e&&this.$$fire("ready")},o.prototype._onDetach=function(){this.removeAttribute("active"),this.removeAttribute("ready"),this.removeAttribute("played"),this.updateReadyClass(),this.$$fire("detach")},o.prototype._onPlay=function(){this.autofocus&&this.focus(),this.deferredResize(),this.setAttribute("active",""),this.setAttribute("played",""),this.$$fire("play"),Ae.registerPlay(this)},o.prototype._onPaused=function(){this.removeAttribute("active"),this.$$fire("paused"),Ae.unregister(this)},o.prototype._onEnded=function(){this.removeAttribute("active"),this.$$fire("ended"),Ae.unregister(this)},o.prototype._onResize=function(){if(this._provider)if(this.fillModeEnabled&&this.actualAspectRatio>0){var t=this.offsetWidth/this.offsetHeight<this.actualAspectRatio;"inscribe"===this.fillMode&&(t=!t),t?this._provider.setSize(this.actualAspectRatio*this.offsetHeight,this.offsetHeight):this._provider.setSize(this.offsetWidth,this.offsetWidth/this.actualAspectRatio)}else this._provider.setSize("auto","auto")},o.prototype._onRefresh=function(t){var e=t.target;e instanceof HTMLElement&&e.contains(this)&&this._onResize()},o.prototype._onRegistryStateChange=function(t){var e=this.mediaType.toLowerCase()||"auto";(t===e||!this.providerType&&"auto"===e)&&this.reinitInstance()},o.prototype._onKeydown=function(t){t.target===this&&[he,fe].includes(t.key)&&(t.preventDefault(),t.stopPropagation(),this.toggle())},o.prototype.updateReadyClass=function(){var t=Kt.first(this.readyClassTarget,this);t&&q.toggle(t,this.readyClass,this.ready)},Object.defineProperty(o.prototype,"providerType",{get:function(){return this._provider?this._provider.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"state",{get:function(){return this._provider?this._provider.state:_e.UNINITIALIZED},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"duration",{get:function(){return this._provider?this._provider.duration:0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"currentTime",{get:function(){return this._provider?this._provider.currentTime:0},set:function(t){this._provider&&this._provider.safeSeekTo(t)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"conditionQuery",{get:function(){if(!this._conditionQuery&&null!==this._conditionQuery){var t=this.getAttribute("load-condition");this._conditionQuery=t?Rt.for(t):null}return this._conditionQuery},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"fillModeEnabled",{get:function(){return"cover"===this.fillMode||"inscribe"===this.fillMode},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"actualAspectRatio",{get:function(){return this.aspectRatio&&"auto"!==this.aspectRatio?function(t){var e=function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s}(t.split(/[:/]/),2),o=e[0],n=e[1];return void 0!==n?+o/+n:+o||0}(this.aspectRatio):this._provider?this._provider.defaultAspectRatio:0},enumerable:!1,configurable:!0}),o.prototype.attachViewportConstraint=function(){this.playInViewport&&be().observe(this)},o.prototype.detachViewportConstraint=function(){var t=be(!0);t&&t.unobserve(this)},o.prototype.$$fire=function(t,e){var o=this.constructor.eventNs;return at.dispatch(this,o+t,e)},o.is="esl-media",o.eventNs="esl:media:",je([it()],o.prototype,"mediaId",void 0),je([it()],o.prototype,"mediaSrc",void 0),je([it()],o.prototype,"mediaType",void 0),je([it()],o.prototype,"group",void 0),je([it()],o.prototype,"fillMode",void 0),je([it()],o.prototype,"aspectRatio",void 0),je([st()],o.prototype,"disabled",void 0),je([st()],o.prototype,"autoplay",void 0),je([st()],o.prototype,"autofocus",void 0),je([st()],o.prototype,"muted",void 0),je([st()],o.prototype,"loop",void 0),je([st()],o.prototype,"controls",void 0),je([st()],o.prototype,"playsinline",void 0),je([st()],o.prototype,"playInViewport",void 0),je([it({defaultValue:"auto"})],o.prototype,"preload",void 0),je([it()],o.prototype,"readyClass",void 0),je([it()],o.prototype,"readyClassTarget",void 0),je([it()],o.prototype,"loadClsAccepted",void 0),je([it()],o.prototype,"loadClsDeclined",void 0),je([it({defaultValue:"::parent"})],o.prototype,"loadClsTarget",void 0),je([st({readonly:!0})],o.prototype,"ready",void 0),je([st({readonly:!0})],o.prototype,"active",void 0),je([st({readonly:!0})],o.prototype,"played",void 0),je([st({readonly:!0})],o.prototype,"error",void 0),je([N],o.prototype,"_onRefresh",null),je([N],o.prototype,"_onRegistryStateChange",null),je([N],o.prototype,"_onKeydown",null),je([t("Media")],o)}(lt),Le=function(){function t(){var t=this;this._fn=null,this._timeout=null,this.run=function(){t._timeout=null,t._fn&&t._fn()}}return Object.defineProperty(t.prototype,"fn",{get:function(){return this._fn},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){void 0===e&&(e=!1);var o=this.cancel();return"function"==typeof t&&(e&&"string"==typeof e&&(e=+e),"number"==typeof e&&e>=0?(this._fn=t,this._timeout=window.setTimeout(this.run,e)):t()),o},t.prototype.cancel=function(){var t=this._fn;return"number"==typeof this._timeout&&clearTimeout(this._timeout),this._fn=this._timeout=null,t},t}(),ke=function(t){return void 0===t&&(t={}),t=Object.assign({defaultValue:{}},t),function(e,o){var n=function(t,e){return e?"data-".concat(Z(t)):Z(t)}(t.name||o,!!t.dataAttr);Object.defineProperty(e,o,function(t,e,o){function n(){return et((this.getAttribute(t)||"").trim(),o)}return e?{get:n}:{get:n,set:function(e){"object"!=typeof e&&console.error("Can not set json value: value should be object");try{if(e){var o=JSON.stringify(e);this.setAttribute(t,o)}else this.removeAttribute(t)}catch(t){console.error("[ESL] jsonAttr: Can not set json value ",t)}}}}(n,!!t.readonly,t.defaultValue))}},Re=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),xe=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},$e=new WeakMap,Ie=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t._open=!1,t._task=new Le,t._trackHover=!1,t}return Re(o,e),Object.defineProperty(o,"observedAttributes",{get:function(){return["open","group"]},enumerable:!1,configurable:!0}),o.prototype.connectedCallback=function(){e.prototype.connectedCallback.call(this),this.initiallyOpened=this.hasAttribute("open"),this.bindEvents(),this.setInitialState()},o.prototype.disconnectedCallback=function(){e.prototype.disconnectedCallback.call(this),this.unbindEvents(),$e.delete(this)},o.prototype.attributeChangedCallback=function(t,e,o){if(this.connected&&o!==e)switch(t){case"open":if(this.open===this.hasAttribute("open"))return;this.toggle(this.open,{initiator:"attribute",showDelay:0,hideDelay:0});break;case"group":this.$$fire("change:group",{detail:{oldGroupName:e,newGroupName:o}})}},o.prototype.setInitialState=function(){this.initialParams&&this.toggle(this.initiallyOpened,this.initialParams)},o.prototype.bindEvents=function(){this.addEventListener("click",this._onClick),this.addEventListener("keydown",this._onKeyboardEvent)},o.prototype.unbindEvents=function(){this.removeEventListener("click",this._onClick),this.removeEventListener("keydown",this._onKeyboardEvent),this.bindOutsideEventTracking(!1),this.bindHoverStateTracking(!1)},o.prototype.bindOutsideEventTracking=function(t){document.body.removeEventListener("keypress",this._onOutsideAction,!0),document.body.removeEventListener("mouseup",this._onOutsideAction,!0),document.body.removeEventListener("touchend",this._onOutsideAction,!0),t&&(document.body.addEventListener("keypress",this._onOutsideAction,!0),document.body.addEventListener("mouseup",this._onOutsideAction,!0),document.body.addEventListener("touchend",this._onOutsideAction,!0))},o.prototype.bindHoverStateTracking=function(t,e){M.hasHover&&(this._trackHoverDelay=t&&void 0!==e?+e:void 0,this._trackHover!==t&&(this._trackHover=t,this.removeEventListener("mouseenter",this._onMouseEnter),this.removeEventListener("mouseleave",this._onMouseLeave),this._trackHover&&(this.addEventListener("mouseenter",this._onMouseEnter),this.addEventListener("mouseleave",this._onMouseLeave))))},o.prototype.mergeDefaultParams=function(t){return Object.assign({},this.defaultParams,function(t,e){void 0===e&&(e=function(){return!0});var o=Object.assign({},t||{});return Object.keys(o).forEach((function(t){!e(t,o[t])&&delete o[t]})),o}(t||{},(function(t,e){return void 0!==e})))},o.prototype.toggle=function(t,e){return void 0===t&&(t=!this.open),t?this.show(e):this.hide(e)},o.prototype.show=function(t){return t=this.mergeDefaultParams(t),this._task.put(this.showTask.bind(this,t),X(t.showDelay,t.delay)),this.bindOutsideEventTracking(this.closeOnOutsideAction),this.bindHoverStateTracking(!!t.trackHover,X(t.hideDelay,t.delay)),this},o.prototype.hide=function(t){return t=this.mergeDefaultParams(t),this._task.put(this.hideTask.bind(this,t),X(t.hideDelay,t.delay)),this.bindOutsideEventTracking(!1),this.bindHoverStateTracking(!!t.trackHover,X(t.hideDelay,t.delay)),this},o.prototype.showTask=function(t){!t.force&&this.open||(t.silent||this.$$fire("before:show",{detail:{params:t}}))&&(this.activator=t.activator,this.open=!0,this.onShow(t),t.silent||this.$$fire("show",{detail:{params:t},cancelable:!1}))},o.prototype.hideTask=function(t){(t.force||this.open)&&(t.silent||this.$$fire("before:hide",{detail:{params:t}}))&&(this.open=!1,this.onHide(t),this.bindOutsideEventTracking(!1),t.silent||this.$$fire("hide",{detail:{params:t},cancelable:!1}))},o.prototype.onShow=function(t){q.add(this,this.activeClass),q.add(document.body,this.bodyClass,this),this.updateA11y(),this.$$fire("esl:refresh")},o.prototype.onHide=function(t){q.remove(this,this.activeClass),q.remove(document.body,this.bodyClass,this),this.updateA11y()},Object.defineProperty(o.prototype,"open",{get:function(){return this._open},set:function(t){this.toggleAttribute("open",this._open=t)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"activator",{get:function(){return $e.get(this)},set:function(t){t?$e.set(this,t):$e.delete(this)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"$a11yTarget",{get:function(){var t=this.getAttribute("a11y-target");return"none"===t?null:t?this.querySelector(t):this},enumerable:!1,configurable:!0}),o.prototype.updateA11y=function(){var t=this.$a11yTarget;t&&t.setAttribute("aria-hidden",String(!this._open))},o.prototype._onClick=function(t){var e=t.target;this.closeTrigger&&e.closest(this.closeTrigger)&&this.hide({initiator:"close",activator:e,event:t})},o.prototype._onOutsideAction=function(t){var e=t.target;this.contains(e)||this.activator&&this.activator.contains(e)||this.hide({initiator:"outsideaction",hideDelay:0,event:t})},o.prototype._onKeyboardEvent=function(t){this.closeOnEsc&&"Escape"===t.key&&this.hide({initiator:"keyboard",event:t})},o.prototype._onMouseEnter=function(t){var e=this._trackHoverDelay,o={initiator:"mouseenter",trackHover:!0,activator:this.activator,event:t,hideDelay:e};this.show(Object.assign(o,this.trackHoverParams))},o.prototype._onMouseLeave=function(t){var e=this._trackHoverDelay,o={initiator:"mouseleave",trackHover:!0,activator:this.activator,event:t,hideDelay:e};this.hide(Object.assign(o,this.trackHoverParams))},o.is="esl-toggleable",xe([it()],o.prototype,"bodyClass",void 0),xe([it({defaultValue:"open"})],o.prototype,"activeClass",void 0),xe([it({name:"group"})],o.prototype,"groupName",void 0),xe([it({name:"close-on"})],o.prototype,"closeTrigger",void 0),xe([st()],o.prototype,"closeOnEsc",void 0),xe([st()],o.prototype,"closeOnOutsideAction",void 0),xe([ke({defaultValue:{force:!0,initiator:"init"}})],o.prototype,"initialParams",void 0),xe([ke({defaultValue:{}})],o.prototype,"defaultParams",void 0),xe([ke({defaultValue:{}})],o.prototype,"trackHoverParams",void 0),xe([N],o.prototype,"_onClick",null),xe([N],o.prototype,"_onOutsideAction",null),xe([N],o.prototype,"_onKeyboardEvent",null),xe([N],o.prototype,"_onMouseEnter",null),xe([N],o.prototype,"_onMouseLeave",null),xe([t("Toggleable")],o)}(lt),Me=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),De=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},Ne=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t._popups=new Map,t}return Me(o,e),o.init=function(t,e){if(void 0===t&&(t=document.body),void 0===e&&(e=this.is),!t)throw new Error("Root element should be specified");t.getElementsByTagName(e).length||(this.register(e),t.insertAdjacentElement("afterbegin",document.createElement(e)))},o.prototype.connectedCallback=function(){e.prototype.connectedCallback.call(this),this.root=this.parentElement},o.prototype.disconnectedCallback=function(){e.prototype.disconnectedCallback.call(this),this.root=null},o.prototype.bindEvents=function(){this.root&&(this.root.addEventListener("esl:before:show",this._onBeforeShow),this.root.addEventListener("esl:show",this._onShow),this.root.addEventListener("esl:hide",this._onHide),this.root.addEventListener("esl:change:group",this._onChangeGroup))},o.prototype.unbindEvents=function(){this.root&&(this.root.removeEventListener("esl:before:show",this._onBeforeShow),this.root.removeEventListener("esl:show",this._onShow),this.root.removeEventListener("esl:hide",this._onHide),this.root.removeEventListener("esl:change:group",this._onChangeGroup))},Object.defineProperty(o.prototype,"root",{get:function(){return this._root},set:function(t){this.unbindEvents(),this._root=t,this.bindEvents()},enumerable:!1,configurable:!0}),o.prototype.isAcceptable=function(t){return t instanceof Ie&&!!t.groupName&&"none"!==t.groupName},o.prototype.hideActive=function(t,e){var o=this.getActive(t);o&&o!==e&&o.hide({initiator:"dispatcher",dispatcher:this,activator:e})},o.prototype.setActive=function(t,e){t&&(this.hideActive(t,e),this._popups.set(t,e))},o.prototype.getActive=function(t){return this._popups.get(t)},o.prototype.deleteActive=function(t,e){this.getActive(t)===e&&this._popups.delete(t)},o.prototype._onBeforeShow=function(t){var e=at.source(t);this.isAcceptable(e)&&this.hideActive(e.groupName,e)},o.prototype._onShow=function(t){var e=at.source(t);this.isAcceptable(e)&&this.setActive(e.groupName,e)},o.prototype._onHide=function(t){var e=at.source(t);this.isAcceptable(e)&&this.deleteActive(e.groupName,e)},o.prototype._onChangeGroup=function(t){var e=at.source(t);if(this.isAcceptable(e)){var o=t.detail,n=o.oldGroupName,r=o.newGroupName;this.deleteActive(n,e),this.setActive(r,e)}},o.is="esl-toggleable-dispatcher",De([N],o.prototype,"_onBeforeShow",null),De([N],o.prototype,"_onShow",null),De([N],o.prototype,"_onHide",null),De([N],o.prototype,"_onChangeGroup",null),De([t("ToggleableDispatcher")],o)}(lt);function He(t){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(function e(){document.removeEventListener("DOMContentLoaded",e),setTimeout((function(){return t()}))})):setTimeout((function(){return t()}))}var Ve=function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s},ze=function(t,e,o){if(o||2===arguments.length)for(var n,r=0,i=e.length;r<i;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))};function Ue(t,e,o){if(!o||"function"!=typeof o.value)throw new TypeError("Only class methods can be decorated via document ready decorator");var n=o.value;o.value=function(){for(var t=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];He((function(){return n.call.apply(n,ze([t],Ve(e),!1))}))}}function Be(t){return void 0===t&&(t={}),function(e,o){if(Object.hasOwnProperty.call(e,o))throw new TypeError("Can't override own property");Object.defineProperty(e,o,{value:t.value,writable:!t.readonly,enumerable:!0,configurable:!0})}}var Fe=function(){function t(t,e,o,n){this.x=0,this.y=0,this.width=0,this.height=0,this.x=t||0,this.y=e||0,this.width=o||0,this.height=n||0}return t.from=function(t){return void 0===t&&(t={}),new this(t.x||t.left,t.y||t.top,t.width,t.height)},t.isEqual=function(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height},Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cx",{get:function(){return this.x+this.width/2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cy",{get:function(){return this.y+this.height/2},enumerable:!1,configurable:!0}),t.prototype.grow=function(t){return this.y-=t,this.x-=t,this.height+=2*t,this.width+=2*t,this},t.prototype.shrink=function(t){return this.grow(-t)},t}(),qe=function(){function t(){}return t.isRtl=function(t){return void 0===t&&(t=document.body),"rtl"===getComputedStyle(t).direction},Object.defineProperty(t,"scrollType",{get:function(){var t="default",e=function(){var t=document.createElement("div");return t.appendChild(document.createTextNode("ESL!")),t.dir="rtl",Object.assign(t.style,{position:"absolute",top:"-1000px",width:"4px",height:"1px",fontSize:"14px",overflow:"scroll"}),t}();return document.body.appendChild(e),e.scrollLeft<=0&&(e.scrollLeft=2,t=e.scrollLeft<2?"negative":"reverse"),document.body.removeChild(e),t},enumerable:!1,configurable:!0}),t.normalizeScrollLeft=function(e,o,n){switch(void 0===o&&(o=null),void 0===n&&(n=t.isRtl(e)),o=null===o?e.scrollLeft:o,n?t.scrollType:""){case"negative":return e.scrollWidth-e.clientWidth+o;case"reverse":return e.scrollWidth-e.clientWidth-o;default:return o}},function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);i>3&&s&&Object.defineProperty(e,o,s)}([gt()],t,"scrollType",null),t}(),Ge=function(t){return!t||t instanceof Window?"":t.nodeName.toLowerCase()},We=function(t){return"html"===Ge(t)?t:(window.ShadowRoot?t instanceof ShadowRoot?t.host:t.assignedSlot||t.parentNode:t.parentNode)||function(t){return void 0===t&&(t=window),(t instanceof Window?t.document:t.ownerDocument).documentElement}(t)},Ke=document.documentElement,Ye=new Set;function Qe(t,e){var o;void 0===e&&(e=[]);var n=Xe(t),r=n===(null===(o=t.ownerDocument)||void 0===o?void 0:o.body),i=r?Ze(n)?n:[]:n,s=e.concat(i);return r?s:s.concat(Qe(We(n)))}function Xe(t){var e;return["html","body","#document"].indexOf(Ge(t))>=0?null===(e=t.ownerDocument)||void 0===e?void 0:e.body:t instanceof HTMLElement&&Ze(t)?t:Xe(We(t))}function Ze(t){var e=getComputedStyle(t),o=e.overflow,n=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(o+r+n)}function Je(t){return["left","right"].includes(t)}function to(t,e,o){return e-t.arrow[o]/2-t.marginArrow-eo(t,o)*t.offsetArrowRatio}function eo(t,e){return t.element[e]-t.arrow[e]-2*t.marginArrow}function oo(t,e){return t.marginArrow+eo(t,e)*t.offsetArrowRatio}!function(){function t(){}t.hasVerticalScroll=function(t){return void 0===t&&(t=Ke),t.scrollHeight>t.clientHeight},t.lock=function(e){var o=t.hasVerticalScroll();e&&"none"!==e&&o&&Ke.classList.add("esl-".concat(e,"-scroll")),Ke.classList.add("esl-disable-scroll")},t.unlock=function(){Ke.classList.remove("esl-disable-scroll","esl-pseudo-scroll","esl-native-scroll")},t.requestLock=function(e,o){e&&Ye.add(e),Ye.size>0&&t.lock(o)},t.requestUnlock=function(e,o){e&&Ye.delete(e),0===Ye.size&&t.unlock()}}();var no=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ro=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},io={passive:!0},so=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t._deferredUpdatePosition=l((function(){return t._updatePosition()})),t._intersectionRatio={},t.closeOnEsc=!0,t.closeOnOutsideAction=!0,t}return no(o,e),o.prototype.connectedCallback=function(){e.prototype.connectedCallback.call(this),this.$arrow=this.querySelector("span.esl-popup-arrow")},Object.defineProperty(o.prototype,"_isMajorAxisHorizontal",{get:function(){return Je(this.position)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_isMajorAxisVertical",{get:function(){return!Je(this.position)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_offsetArrowRatio",{get:function(){var t=function(t,e){void 0===e&&(e=0);var o=tt(t,e);return Math.max(0,Math.min(void 0!==o?o:e,100))}(this.offsetArrow,50)/100;return qe.isRtl(this)?1-t:t},enumerable:!1,configurable:!0}),o.prototype.onShow=function(t){var o=this;e.prototype.onShow.call(this,t),t.position&&(this.position=t.position),t.behavior&&(this.behavior=t.behavior),t.disableActivatorObservation&&(this.disableActivatorObservation=t.disableActivatorObservation),t.marginArrow&&(this.marginArrow=t.marginArrow),t.offsetArrow&&(this.offsetArrow=t.offsetArrow),this._offsetTrigger=t.offsetTrigger||0,this._offsetWindow=t.offsetWindow||0,this.style.visibility="hidden",setTimeout((function(){o._updatePosition(),o.style.visibility="visible",o.activator&&o._addActivatorObserver(o.activator),o._startUpdateLoop()}))},o.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this._stopUpdateLoop(),this.activator&&this._removeActivatorObserver(this.activator),gt.clear(this,"_isMajorAxisHorizontal"),gt.clear(this,"_isMajorAxisVertical"),gt.clear(this,"_offsetArrowRatio")},o.prototype._checkIntersectionForAdjacentAxis=function(t,e){t&&e<.7&&this.hide()},o.prototype.onActivatorIntersection=function(t,e){var o=t[0];this._intersectionRatio={},o.isIntersecting?(o.intersectionRect.y!==o.boundingClientRect.y&&(this._intersectionRatio.top=o.intersectionRect.height/o.boundingClientRect.height,this._checkIntersectionForAdjacentAxis(this._isMajorAxisHorizontal,this._intersectionRatio.top)),o.intersectionRect.bottom!==o.boundingClientRect.bottom&&(this._intersectionRatio.bottom=o.intersectionRect.height/o.boundingClientRect.height,this._checkIntersectionForAdjacentAxis(this._isMajorAxisHorizontal,this._intersectionRatio.bottom)),o.intersectionRect.x!==o.boundingClientRect.x&&(this._intersectionRatio.left=o.intersectionRect.width/o.boundingClientRect.width,this._checkIntersectionForAdjacentAxis(this._isMajorAxisVertical,this._intersectionRatio.left)),o.intersectionRect.right!==o.boundingClientRect.right&&(this._intersectionRatio.right=o.intersectionRect.width/o.boundingClientRect.width,this._checkIntersectionForAdjacentAxis(this._isMajorAxisVertical,this._intersectionRatio.right))):this.hide()},o.prototype.onActivatorScroll=function(t){this._updateLoopID||this._updatePosition()},o.prototype._addActivatorObserver=function(t){var e=this,o=Qe(t);if(this._activatorObserver={unsubscribers:o.map((function(t){return t.addEventListener("scroll",e.onActivatorScroll,io),function(){t&&t.removeEventListener("scroll",e.onActivatorScroll,io)}}))},!this.disableActivatorObservation){var n={rootMargin:"0px",threshold:z(9,(function(t){return t/8}))},r=new IntersectionObserver(this.onActivatorIntersection,n);r.observe(t),this._activatorObserver.observer=r}window.addEventListener("resize",this._deferredUpdatePosition),window.addEventListener("scroll",this.onActivatorScroll,io),document.body.addEventListener("transitionstart",this._startUpdateLoop)},o.prototype._removeActivatorObserver=function(t){var e,o;window.removeEventListener("resize",this._deferredUpdatePosition),window.removeEventListener("scroll",this.onActivatorScroll,io),null===(e=this._activatorObserver.observer)||void 0===e||e.disconnect(),this._activatorObserver.observer=void 0,null===(o=this._activatorObserver.unsubscribers)||void 0===o||o.forEach((function(t){return t()})),this._activatorObserver.unsubscribers=[],document.body.removeEventListener("transitionstart",this._startUpdateLoop)},o.prototype._startUpdateLoop=function(){var t=this;if(!this._updateLoopID){var e=0,o=new Fe,n=function(){if(t.activator){var r=Fe.from(t.activator.getBoundingClientRect());Fe.isEqual(o,r)||(e=0,o=r),e++>2?t._stopUpdateLoop():(t._updatePosition(),t._updateLoopID=requestAnimationFrame(n))}else t._stopUpdateLoop()};this._updateLoopID=requestAnimationFrame(n)}},o.prototype._stopUpdateLoop=function(){this._updateLoopID&&(cancelAnimationFrame(this._updateLoopID),this._updateLoopID=0)},o.prototype._updatePosition=function(){if(this.activator){var t,e=this.activator.getBoundingClientRect(),o=this.getBoundingClientRect(),n=this.$arrow?this.$arrow.getBoundingClientRect():new Fe,r=new Fe(e.left,e.top+window.pageYOffset,e.width,e.height),i=this._offsetTrigger+n.width/2,s=function(t){var e=function(t){var e=to(t,t.inner.cx,"width"),o=t.inner.y-t.element.height;switch(t.position){case"left":e=t.inner.x-t.element.width,o=to(t,t.inner.cy,"height");break;case"right":e=t.inner.right,o=to(t,t.inner.cy,"height");break;case"bottom":e=to(t,t.inner.cx,"width"),o=t.inner.bottom}return new Fe(e,o,t.element.width,t.element.height)}(t),o={x:oo(t,"width"),y:oo(t,"height"),position:t.position},n=function(t,e,o){if("fit"!==t.behavior&&"fit-on-major"!==t.behavior)return t.position;var n,r=!1;return{bottom:function(){(t.intersectionRatio.bottom||t.outer.bottom<e.bottom)&&(e.y=t.inner.top-t.element.height,r=!0)},left:function(){(t.intersectionRatio.left||e.x<t.outer.x)&&(e.x=t.inner.right,r=!0)},right:function(){(t.intersectionRatio.right||t.outer.right<e.right)&&(e.x=t.inner.x-t.element.width,r=!0)},top:function(){(t.intersectionRatio.top||e.y<t.outer.y)&&(e.y=t.inner.bottom,r=!0)}}[t.position](),r?{top:"bottom",left:"right",right:"left",bottom:"top"}[n=t.position]||n:t.position}(t,e);return function(t,e,o){"fit"!==t.behavior&&"fit-on-minor"!==t.behavior||(Je(t.position)?function(t,e,o){if(!(t.outer.height<t.element.height||t.trigger.y<t.outer.y||t.trigger.bottom>t.outer.bottom)){var n=0;e.y<t.outer.y&&(n=e.y-t.outer.y,e.y=t.outer.y),e.bottom>t.outer.bottom&&(n=e.bottom-t.outer.bottom,e.y-=n),o.y+=n}}(t,e,o):function(t,e,o){if(!(t.outer.width<t.element.width||t.trigger.x<t.outer.x||t.trigger.right>t.outer.right)){var n=0;e.x<t.outer.x&&(n=e.x-t.outer.x,e.x=t.outer.x),e.right>t.outer.right&&(n=e.right-t.outer.right,e.x-=n),o.x+=n}}(t,e,o))}(t,e,o),{popup:e,placedAt:n,arrow:o}}({position:this.position,behavior:this.behavior,marginArrow:+this.marginArrow,offsetArrowRatio:this._offsetArrowRatio,intersectionRatio:this._intersectionRatio,arrow:n,element:o,trigger:r,inner:Fe.from(r).grow(i),outer:(void 0===t&&(t=window),Fe.from({x:t.scrollX,y:t.scrollY,width:t.innerWidth||t.document.documentElement.clientWidth,height:t.innerHeight||t.document.documentElement.clientHeight})).shrink(this._offsetWindow)}),a=s.placedAt,c=s.popup,l=s.arrow;this.setAttribute("placed-at",a),this.style.left="".concat(c.x,"px"),this.style.top="".concat(c.y,"px"),this.$arrow&&(this.$arrow.style.left=this._isMajorAxisVertical?"".concat(l.x,"px"):"",this.$arrow.style.top=this._isMajorAxisHorizontal?"".concat(l.y,"px"):"")}},o.is="esl-popup",ro([it({defaultValue:"top"})],o.prototype,"position",void 0),ro([it({defaultValue:"fit"})],o.prototype,"behavior",void 0),ro([st()],o.prototype,"disableActivatorObservation",void 0),ro([it({defaultValue:"5"})],o.prototype,"marginArrow",void 0),ro([it({defaultValue:"".concat(50)})],o.prototype,"offsetArrow",void 0),ro([ke({defaultValue:{offsetTrigger:3,offsetWindow:15}})],o.prototype,"defaultParams",void 0),ro([Be()],o.prototype,"closeOnEsc",void 0),ro([Be()],o.prototype,"closeOnOutsideAction",void 0),ro([Ue],o.prototype,"connectedCallback",null),ro([gt()],o.prototype,"_isMajorAxisHorizontal",null),ro([gt()],o.prototype,"_isMajorAxisVertical",null),ro([gt()],o.prototype,"_offsetArrowRatio",null),ro([N],o.prototype,"onActivatorIntersection",null),ro([N],o.prototype,"onActivatorScroll",null),ro([N],o.prototype,"_startUpdateLoop",null),ro([N],o.prototype,"_stopUpdateLoop",null),ro([t("Popup")],o)}(Ie),ao=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),co=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},lo=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t._initialHeight=0,t._fallbackTimer=0,t}return ao(o,e),Object.defineProperty(o.prototype,"initialHeight",{get:function(){return this._initialHeight},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"$group",{get:function(){return"none"===this.groupName||this.groupName?null:this.closest(ho.is)},enumerable:!1,configurable:!0}),o.prototype.bindEvents=function(){e.prototype.bindEvents.call(this),this.addEventListener("transitionend",this._onTransitionEnd)},o.prototype.unbindEvents=function(){e.prototype.unbindEvents.call(this),this.removeEventListener("transitionend",this._onTransitionEnd)},o.prototype.onShow=function(t){var o=this;this._initialHeight=this.scrollHeight,e.prototype.onShow.call(this,t),this.beforeAnimate(),t.noCollapse?c((function(){return o.afterAnimate()})):this.onAnimate("show")},o.prototype.onHide=function(t){var o=this;this._initialHeight=this.scrollHeight,e.prototype.onHide.call(this,t),this.beforeAnimate(),t.noCollapse?c((function(){return o.afterAnimate()})):this.onAnimate("hide")},o.prototype.beforeAnimate=function(){var t=this;this.toggleAttribute("animating",!0),q.add(this,this.animateClass),this.postAnimateClass&&c((function(){return q.add(t,t.postAnimateClass)}))},o.prototype.onAnimate=function(t){var e=this;this.style.setProperty("max-height","".concat("hide"===t?this._initialHeight:0,"px")),c((function(){e.style.setProperty("max-height","".concat("hide"===t?0:e._initialHeight,"px")),e.fallbackAnimate()}))},o.prototype.afterAnimate=function(){this.clearAnimation(),this.$$fire(this.open?"after:show":"after:hide")},o.prototype.clearAnimation=function(){this.toggleAttribute("animating",!1),this.style.removeProperty("max-height"),q.remove(this,this.animateClass),q.remove(this,this.postAnimateClass)},o.prototype.fallbackAnimate=function(){var t=this,e=+this.fallbackDuration;isNaN(e)||e<0||(this._fallbackTimer&&clearTimeout(this._fallbackTimer),this._fallbackTimer=window.setTimeout((function(){return t.afterAnimate()}),e))},o.prototype._onTransitionEnd=function(t){t&&"max-height"!==t.propertyName||this.afterAnimate()},o.prototype.mergeDefaultParams=function(t){var e,o=(null===(e=this.$group)||void 0===e?void 0:e.panelConfig)||{};return Object.assign({},o,this.defaultParams,t||{})},o.is="esl-panel",co([it({defaultValue:"open"})],o.prototype,"activeClass",void 0),co([it({defaultValue:"animate"})],o.prototype,"animateClass",void 0),co([it({defaultValue:"post-animate"})],o.prototype,"postAnimateClass",void 0),co([it({defaultValue:"1000"})],o.prototype,"fallbackDuration",void 0),co([ke({defaultValue:{force:!0,initiator:"init"}})],o.prototype,"initialParams",void 0),co([st({readonly:!0})],o.prototype,"animating",void 0),co([N],o.prototype,"_onTransitionEnd",null),co([t("Panel")],o)}(Ie),uo=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),po=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},ho=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t._previousHeight=0,t._fallbackTimer=0,t}var n;return uo(o,e),n=o,Object.defineProperty(o,"observedAttributes",{get:function(){return["mode","accordion-group"]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"modeRules",{get:function(){return Mt.parse(this.mode)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"currentMode",{get:function(){return this.modeRules.activeValue||""},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"actionParams",{get:function(){return{initiator:"group",activator:this}},enumerable:!1,configurable:!0}),o.prototype.connectedCallback=function(){e.prototype.connectedCallback.call(this),this.bindEvents(),this.modeRules.addListener(this._onModeChange),this.updateMode()},o.prototype.disconnectedCallback=function(){e.prototype.disconnectedCallback.call(this),this.modeRules.removeListener(this._onModeChange),this.unbindEvents()},o.prototype.attributeChangedCallback=function(t,e,o){if(this.connected&&e!==o&&("mode"===t&&(this.modeRules.removeListener(this._onModeChange),gt.clear(this,"modeRules"),this.modeRules.addListener(this._onModeChange),this.updateMode()),"accordion-group"===t)){if("single"!==o&&"multiple"!==o)return void(this.accordionGroup=e);this.reset()}},o.prototype.bindEvents=function(){this.addEventListener("esl:before:show",this._onBeforeShow),this.addEventListener("esl:show",this._onShow),this.addEventListener("esl:before:hide",this._onBeforeHide),this.addEventListener("transitionend",this._onTransitionEnd)},o.prototype.unbindEvents=function(){this.removeEventListener("esl:before:show",this._onBeforeShow),this.removeEventListener("esl:show",this._onShow),this.removeEventListener("esl:before:hide",this._onBeforeHide),this.removeEventListener("transitionend",this._onTransitionEnd)},o.prototype.updateMode=function(){var t=this;this.setAttribute("view",this.currentMode);var e=Kt.first(this.modeClsTarget,this);e&&(n.supportedModes.forEach((function(o){e.classList.toggle("esl-".concat(o,"-view"),t.currentMode===o)})),this.reset())},Object.defineProperty(o.prototype,"$panels",{get:function(){var t=this;return Array.from(this.querySelectorAll(lo.is)).filter((function(e){return t.includesPanel(e)}))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"$activePanels",{get:function(){return this.$panels.filter((function(t){return t.open}))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"shouldCollapse",{get:function(){var t=this.noCollapse.split(",").map((function(t){return t.trim()}));return!t.includes("all")&&!t.includes(this.currentMode)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"panelConfig",{get:function(){return{noCollapse:!this.shouldCollapse||"tabs"===this.currentMode}},enumerable:!1,configurable:!0}),o.prototype.includesPanel=function(t){return t instanceof lo&&t.$group===this},o.prototype.showAll=function(t){var e=this;void 0===t&&(t=[]),this.$panels.forEach((function(o){return!t.includes(o)&&o.show(e.actionParams)}))},o.prototype.hideAll=function(t){var e=this;void 0===t&&(t=[]),this.$activePanels.forEach((function(o){return!t.includes(o)&&o.hide(e.actionParams)}))},o.prototype.toggleAllBy=function(t){var e=this;this.$panels.forEach((function(o){return o.toggle(t(o),e.actionParams)}))},o.prototype.reset=function(){var t=this;lo.registered.then((function(){if("open"===t.currentMode&&t.toggleAllBy((function(){return!0})),"tabs"===t.currentMode||"accordion"===t.currentMode&&"single"===t.accordionGroup){var e=t.$panels.find((function(t){return t.initiallyOpened}));t.toggleAllBy((function(t){return t===e}))}"accordion"===t.currentMode&&"multiple"===t.accordionGroup&&t.toggleAllBy((function(t){return t.initiallyOpened}))}))},o.prototype.onAnimate=function(t,e){var o=this;this.style.height&&"auto"!==this.style.height?(this.style.height="".concat(e,"px"),this.fallbackAnimate()):(this.style.height="".concat(t,"px"),c((function(){o.style.height="".concat(e,"px"),o.fallbackAnimate()})))},o.prototype.beforeAnimate=function(){q.add(this,this.animationClass)},o.prototype.afterAnimate=function(){this.style.removeProperty("height"),q.remove(this,this.animationClass)},o.prototype.fallbackAnimate=function(){var t=this,e=+this.fallbackDuration;isNaN(e)||e<0||(this._fallbackTimer&&clearTimeout(this._fallbackTimer),this._fallbackTimer=window.setTimeout((function(){return t.afterAnimate()}),e))},o.prototype._onBeforeShow=function(t){var e=t.target;this.includesPanel(e)&&("accordion"===this.currentMode&&"multiple"===this.accordionGroup||this.hideAll([e]))},o.prototype._onShow=function(t){var e=this,o=t.target;this.includesPanel(o)&&"tabs"===this.currentMode&&(this.beforeAnimate(),this.shouldCollapse?this.onAnimate(this._previousHeight,o.initialHeight):c((function(){return e.afterAnimate()})))},o.prototype._onBeforeHide=function(t){if("open"!==this.currentMode){var e=t.target;this.includesPanel(e)&&(this._previousHeight=this.offsetHeight)}else t.preventDefault()},o.prototype._onTransitionEnd=function(t){t&&"height"!==t.propertyName||this.afterAnimate()},o.prototype._onModeChange=function(){this.updateMode()},o.is="esl-panel-group",o.supportedModes=["tabs","accordion","open"],po([it({defaultValue:"accordion"})],o.prototype,"mode",void 0),po([it({defaultValue:""})],o.prototype,"modeClsTarget",void 0),po([it({defaultValue:"animate"})],o.prototype,"animationClass",void 0),po([it({defaultValue:"auto"})],o.prototype,"fallbackDuration",void 0),po([it()],o.prototype,"noCollapse",void 0),po([it({defaultValue:"single"})],o.prototype,"accordionGroup",void 0),po([gt()],o.prototype,"modeRules",null),po([N],o.prototype,"_onBeforeShow",null),po([N],o.prototype,"_onShow",null),po([N],o.prototype,"_onBeforeHide",null),po([N],o.prototype,"_onTransitionEnd",null),po([N],o.prototype,"_onModeChange",null),n=po([t("PanelGroup")],o)}(lt),fo=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),yo=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},vo=function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s},go=function(t,e,o){if(o||2===arguments.length)for(var n,r=0,i=e.length;r<i;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))},bo=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return fo(o,e),Object.defineProperty(o,"observedAttributes",{get:function(){return["target"]},enumerable:!1,configurable:!0}),o.prototype.attributeChangedCallback=function(t){if(this.connected)return"target"===t?this.updateTargetFromSelector():void 0},Object.defineProperty(o.prototype,"$target",{get:function(){return this._$target},set:function(t){this.unbindEvents(),this._$target=t,this.bindEvents(),this._onTargetStateChange()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"$a11yTarget",{get:function(){return this.a11yTarget?this.querySelector(this.a11yTarget):this},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"allowHover",{get:function(){return M.hasHover&&Rt.for(this.trackHover).matches},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"allowClick",{get:function(){return Rt.for(this.trackClick).matches},enumerable:!1,configurable:!0}),o.prototype.connectedCallback=function(){e.prototype.connectedCallback.call(this),this.updateTargetFromSelector(),this.initA11y()},o.prototype.disconnectedCallback=function(){this.unbindEvents()},o.prototype.bindEvents=function(){this.$target&&(this.$target.addEventListener("esl:show",this._onTargetStateChange),this.$target.addEventListener("esl:hide",this._onTargetStateChange),this.addEventListener("click",this._onClick),this.addEventListener("keydown",this._onKeydown),this.addEventListener("mouseenter",this._onMouseEnter),this.addEventListener("mouseleave",this._onMouseLeave))},o.prototype.unbindEvents=function(){this.$target&&(this.$target.removeEventListener("esl:show",this._onTargetStateChange),this.$target.removeEventListener("esl:hide",this._onTargetStateChange),this.removeEventListener("click",this._onClick),this.removeEventListener("keydown",this._onKeydown),this.removeEventListener("mouseenter",this._onMouseEnter),this.removeEventListener("mouseleave",this._onMouseLeave))},o.prototype.updateTargetFromSelector=function(){this.target&&(this.$target=Kt.first(this.target,this))},o.prototype.isTargetIgnored=function(t){if(!(t&&t instanceof HTMLElement&&this.ignore))return!1;var e=t.closest(this.ignore);return!!e&&e!==this&&this.contains(e)},o.prototype.mergeToggleableParams=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object.assign.apply(Object,go([{initiator:"trigger",activator:this}],vo(t),!1))},o.prototype.showTarget=function(t){void 0===t&&(t={});var e=this.mergeToggleableParams({delay:tt(this.showDelay)},t);this.$target&&"function"==typeof this.$target.show&&this.$target.show(e)},o.prototype.hideTarget=function(t){void 0===t&&(t={});var e=this.mergeToggleableParams({delay:tt(this.hideDelay)},t);this.$target&&"function"==typeof this.$target.hide&&this.$target.hide(e)},o.prototype.toggleTarget=function(t,e){void 0===t&&(t={}),void 0===e&&(e=!this.active),e?this.showTarget(t):this.hideTarget(t)},o.prototype.updateState=function(){var t,e=!!(null===(t=this.$target)||void 0===t?void 0:t.open),o=this.active;this.toggleAttribute("active",e);var n=Kt.first(this.activeClassTarget,this);return n&&q.toggle(n,this.activeClass,e),this.updateA11y(),e!==o},o.prototype._onTargetStateChange=function(t){if(this.updateState()){var e={active:this.active,originalEvent:t};this.$$fire("change:active",{detail:e})}},o.prototype._onClick=function(t){if(this.allowClick&&!this.isTargetIgnored(t.target))switch(t.preventDefault(),this.mode){case"show":return this.showTarget({event:t});case"hide":return this.hideTarget({event:t});default:return this.toggleTarget({event:t})}},o.prototype._onKeydown=function(t){if([pe,he].includes(t.key)&&!this.isTargetIgnored(t.target))switch(t.preventDefault(),this.mode){case"show":return this.showTarget({event:t});case"hide":return this.hideTarget({event:t});default:return this.toggleTarget({event:t})}},o.prototype._onMouseEnter=function(t){if(this.allowHover){var e=tt(this.hoverShowDelay);this.toggleTarget({event:t,delay:e},"hide"!==this.mode),t.preventDefault()}},o.prototype._onMouseLeave=function(t){if(this.allowHover&&"show"!==this.mode&&"hide"!==this.mode){var e=tt(this.hoverHideDelay);this.hideTarget({event:t,delay:e,trackHover:!0}),t.preventDefault()}},o.prototype.initA11y=function(){this.$a11yTarget===this&&(this.hasAttribute("role")||this.setAttribute("role","button"),"button"!==this.getAttribute("role")||this.hasAttribute("tabindex")||this.setAttribute("tabindex","0"))},o.prototype.updateA11y=function(){var t=this.$a11yTarget;t&&(t.setAttribute("aria-expanded",String(this.active)),this.$target&&this.$target.id&&t.setAttribute("aria-controls",this.$target.id))},o.is="esl-trigger",yo([st({readonly:!0})],o.prototype,"active",void 0),yo([it({defaultValue:""})],o.prototype,"activeClass",void 0),yo([it({defaultValue:""})],o.prototype,"activeClassTarget",void 0),yo([it({defaultValue:"a[href]"})],o.prototype,"ignore",void 0),yo([it({defaultValue:"::next"})],o.prototype,"target",void 0),yo([it({defaultValue:"toggle"})],o.prototype,"mode",void 0),yo([it({defaultValue:"all"})],o.prototype,"trackClick",void 0),yo([it({defaultValue:"not all"})],o.prototype,"trackHover",void 0),yo([it({defaultValue:""})],o.prototype,"a11yTarget",void 0),yo([it({defaultValue:"none"})],o.prototype,"showDelay",void 0),yo([it({defaultValue:"none"})],o.prototype,"hideDelay",void 0),yo([it({defaultValue:"0"})],o.prototype,"hoverShowDelay",void 0),yo([it({defaultValue:"0"})],o.prototype,"hoverHideDelay",void 0),yo([Ue],o.prototype,"connectedCallback",null),yo([Ue],o.prototype,"disconnectedCallback",null),yo([N],o.prototype,"_onTargetStateChange",null),yo([N],o.prototype,"_onClick",null),yo([N],o.prototype,"_onKeydown",null),yo([N],o.prototype,"_onMouseEnter",null),yo([N],o.prototype,"_onMouseLeave",null),yo([t("Trigger")],o)}(lt),mo=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),_o=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},wo=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return mo(o,e),o.prototype.initA11y=function(){var t=this.$a11yTarget;t&&(t.hasAttribute("role")||t.setAttribute("role","tab"))},o.prototype.updateA11y=function(){var t=this.$a11yTarget;t&&(t.setAttribute("aria-selected",String(this.active)),t.setAttribute("tabindex",this.active?"0":"-1"),this.$target&&this.$target.id&&this.setAttribute("aria-controls",this.$target.id))},o.is="esl-tab",_o([it({defaultValue:"show"})],o.prototype,"mode",void 0),_o([it({defaultValue:"active"})],o.prototype,"activeClass",void 0),_o([t("Tab")],o)}(bo),Oo=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Eo=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},Co=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return Oo(o,e),Object.defineProperty(o.prototype,"$root",{get:function(){return this.parentElement},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"$targets",{get:function(){return this.$root?Kt.all(this.targets,this.$root):[]},enumerable:!1,configurable:!0}),o.prototype.connectedCallback=function(){e.prototype.connectedCallback.call(this),this.bindEvents()},o.prototype.disconnectedCallback=function(){e.prototype.disconnectedCallback.call(this),this.unbindEvents()},o.prototype.bindEvents=function(){var t;null===(t=this.$root)||void 0===t||t.addEventListener("keydown",this._onKeydown)},o.prototype.unbindEvents=function(){var t;null===(t=this.$root)||void 0===t||t.removeEventListener("keydown",this._onKeydown)},o.prototype._onKeydown=function(t){var e=t.target;this.$targets.includes(e)&&([ye,de].includes(t.key)&&(this.goTo("prev",e),t.preventDefault()),[ge,ve].includes(t.key)&&(this.goTo("next",e),t.preventDefault()))},o.prototype.goTo=function(t,e){if(void 0===e&&(e=this.current()),e){var o=this[t](e);o&&(o.focus({preventScroll:this.preventScroll}),this.activateSelected&&o.click())}},o.prototype.next=function(t){var e=this.$targets,o=e.indexOf(t);return e[(o+1)%e.length]},o.prototype.prev=function(t){var e=this.$targets,o=e.indexOf(t);return e[(o-1+e.length)%e.length]},o.prototype.current=function(){var t=document.activeElement;return this.$targets.includes(t)?t:null},o.is="esl-a11y-group",Eo([it({defaultValue:"::child"})],o.prototype,"targets",void 0),Eo([st({})],o.prototype,"activateSelected",void 0),Eo([st({})],o.prototype,"preventScroll",void 0),Eo([N],o.prototype,"_onKeydown",null),Eo([t("A11yGroup")],o)}(lt),Po=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ao=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},To=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t._deferredUpdateArrows=le(t.updateArrows,100,t),t._deferredFitToViewport=le(t.fitToViewport,100,t),t._onResize=l((function(){return t._deferredFitToViewport(t.$current,"auto")})),t}var n;return Po(o,e),n=o,Object.defineProperty(o,"observedAttributes",{get:function(){return["scrollable"]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"scrollableTypeRules",{get:function(){return Mt.parse(this.scrollable)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"currentScrollableType",{get:function(){return this.scrollableTypeRules.activeValue||""},enumerable:!1,configurable:!0}),o.prototype.connectedCallback=function(){e.prototype.connectedCallback.call(this),this.scrollableTypeRules.addListener(this._onScrollableTypeChange),this.updateScrollableType()},o.prototype.disconnectedCallback=function(){e.prototype.disconnectedCallback.call(this),this.scrollableTypeRules.removeListener(this._onScrollableTypeChange),this.unbindScrollableEvents()},o.prototype.attributeChangedCallback=function(t,e,o){this.connected&&e!==o&&"scrollable"===t&&(this.scrollableTypeRules.removeListener(this._onScrollableTypeChange),gt.clear(this,"scrollableTypeRules"),this.scrollableTypeRules.addListener(this._onScrollableTypeChange),this.updateScrollableType())},o.prototype.bindScrollableEvents=function(){var t;this.addEventListener("esl:change:active",this._onTriggerStateChange),this.addEventListener("click",this._onClick,!1),this.addEventListener("focusin",this._onFocus),null===(t=this.$scrollableTarget)||void 0===t||t.addEventListener("scroll",this._onScroll,{passive:!0}),window.addEventListener("resize",this._onResize)},o.prototype.unbindScrollableEvents=function(){var t;this.removeEventListener("esl:change:active",this._onTriggerStateChange),this.removeEventListener("click",this._onClick,!1),this.removeEventListener("focusin",this._onFocus),null===(t=this.$scrollableTarget)||void 0===t||t.removeEventListener("scroll",this._onScroll),window.removeEventListener("resize",this._onResize)},Object.defineProperty(o.prototype,"$tabs",{get:function(){var t=this.querySelectorAll(wo.is);return t?Array.from(t):[]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"$current",{get:function(){return this.$tabs.find((function(t){return t.active}))||null},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"$scrollableTarget",{get:function(){return this.querySelector(this.scrollableTarget)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isScrollable",{get:function(){return"disabled"!==this.currentScrollableType},enumerable:!1,configurable:!0}),o.prototype.moveTo=function(t,e){void 0===e&&(e="smooth");var o=this.$scrollableTarget;if(o){var n=o.offsetWidth;n=qe.isRtl(this)&&"reverse"!==qe.scrollType?-n:n,n="left"===t?-n:n,o.scrollBy({left:n,behavior:e})}},o.prototype.fitToViewport=function(t,e){void 0===e&&(e="smooth"),this.updateMarkers();var o=this.$scrollableTarget;if(o&&t){var n=o.getBoundingClientRect(),r=t.getBoundingClientRect();o.scrollBy({left:this.calcScrollOffset(r,n),behavior:e}),this.updateArrows()}},o.prototype.calcScrollOffset=function(t,e){var o=qe.isRtl(this)&&"reverse"===qe.scrollType;if("center"===this.currentScrollableType){var n=t.left+t.width/2-(e.left+e.width/2);return o?-n:n}return t.right>e.right?o?Math.floor(e.right-t.right):Math.ceil(t.right-e.right):t.left<e.left?o?Math.ceil(e.left-t.left):Math.floor(t.left-e.left):void 0},o.prototype.updateArrows=function(){var t=this.$scrollableTarget;if(t){var e=qe.isRtl(this)&&"default"===qe.scrollType,o=Math.abs(t.scrollLeft)>1,n=Math.abs(t.scrollLeft)+t.clientWidth+1<t.scrollWidth,r=this.querySelector('[data-tab-direction="right"]'),i=this.querySelector('[data-tab-direction="left"]');i&&i.toggleAttribute("disabled",!(e?n:o)),r&&r.toggleAttribute("disabled",!(e?o:n))}},o.prototype.updateMarkers=function(){var t=this.$scrollableTarget;if(t){var e=this.isScrollable&&t.scrollWidth>this.clientWidth;this.toggleAttribute("has-scroll",e)}},o.prototype.updateScrollableType=function(){var t=this;n.supportedScrollableTypes.forEach((function(e){q.toggle(t,"".concat(e,"-alignment"),t.currentScrollableType===e)})),this._deferredFitToViewport(this.$current),"disabled"===this.currentScrollableType?this.unbindScrollableEvents():this.bindScrollableEvents()},o.prototype._onTriggerStateChange=function(t){t.detail.active&&this._deferredFitToViewport(this.$current)},o.prototype._onClick=function(t){var e=t.target.closest("[data-tab-direction]"),o=e&&e.dataset.tabDirection;o&&this.moveTo(o)},o.prototype._onFocus=function(t){var e=t.target;e instanceof wo&&this._deferredFitToViewport(e)},o.prototype._onScroll=function(){this._deferredUpdateArrows()},o.prototype._onScrollableTypeChange=function(){this.updateScrollableType()},o.is="esl-tabs",o.supportedScrollableTypes=["disabled","side","center"],Ao([it({defaultValue:"disabled"})],o.prototype,"scrollable",void 0),Ao([it({defaultValue:".esl-tab-container"})],o.prototype,"scrollableTarget",void 0),Ao([gt()],o.prototype,"scrollableTypeRules",null),Ao([N],o.prototype,"_onTriggerStateChange",null),Ao([N],o.prototype,"_onClick",null),Ao([N],o.prototype,"_onFocus",null),Ao([N],o.prototype,"_onScroll",null),Ao([N],o.prototype,"_onScrollableTypeChange",null),n=Ao([t("Tabs")],o)}(lt),jo=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),So=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},Lo=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t._deferredDrag=l((function(e){return t._onPointerDrag(e)})),t._deferredRefresh=l((function(){return t.refresh()})),t._scrollTimer=0,t._resizeObserver=new ResizeObserver(t._deferredRefresh),t._mutationObserver=new MutationObserver((function(e){return t.updateContentObserve(e)})),t}return jo(o,e),Object.defineProperty(o,"observedAttributes",{get:function(){return["target","horizontal"]},enumerable:!1,configurable:!0}),o.prototype.connectedCallback=function(){e.prototype.connectedCallback.call(this),this.findTarget(),this.render(),this.bindEvents()},o.prototype.disconnectedCallback=function(){this.unbindEvents(),this._scrollTimer&&window.clearTimeout(this._scrollTimer)},o.prototype.attributeChangedCallback=function(t,e,o){(this.connected||e!==o)&&("target"===t&&this.findTarget(),"horizontal"===t&&this.refresh())},o.prototype.findTarget=function(){this.$target=this.target?Kt.first(this.target,this):null},Object.defineProperty(o.prototype,"$target",{get:function(){return this._$target||null},set:function(t){this.unbindTargetEvents(),this._$target=t,this.bindTargetEvents(),this._deferredRefresh()},enumerable:!1,configurable:!0}),o.prototype.render=function(){this.innerHTML="",this.$scrollbarTrack=document.createElement("div"),this.$scrollbarTrack.className=this.trackClass,this.$scrollbarThumb=document.createElement("div"),this.$scrollbarThumb.className=this.thumbClass,this.$scrollbarTrack.appendChild(this.$scrollbarThumb),this.appendChild(this.$scrollbarTrack)},o.prototype.bindEvents=function(){window.MouseEvent&&this.addEventListener("mousedown",this._onPointerDown),window.TouchEvent&&this.addEventListener("touchstart",this._onPointerDown),window.addEventListener("esl:refresh",this._onRefresh)},o.prototype.bindTargetEvents=function(){var t=this;this.$target&&(document.documentElement===this.$target?(window.addEventListener("resize",this._onRefresh,{passive:!0}),window.addEventListener("scroll",this._onRefresh,{passive:!0})):(this._resizeObserver.observe(this.$target),this._mutationObserver.observe(this.$target,{childList:!0}),Array.from(this.$target.children).forEach((function(e){return t._resizeObserver.observe(e)})),this.$target.addEventListener("scroll",this._onRefresh,{passive:!0})))},o.prototype.updateContentObserve=function(t){var e=this;if(void 0===t&&(t=[]),this.$target){var o=t.filter((function(t){return"childList"===t.type}));o.forEach((function(t){Array.from(t.addedNodes).filter((function(t){return t instanceof Element})).forEach((function(t){return e._resizeObserver.observe(t)})),Array.from(t.removedNodes).filter((function(t){return t instanceof Element})).forEach((function(t){return e._resizeObserver.unobserve(t)}))})),o.length&&this._deferredRefresh()}},o.prototype.unbindEvents=function(){window.MouseEvent&&this.removeEventListener("mousedown",this._onPointerDown),window.TouchEvent&&this.removeEventListener("touchstart",this._onPointerDown),this.unbindTargetEvents(),window.removeEventListener("esl:refresh",this._onRefresh)},o.prototype.unbindTargetEvents=function(){this.$target&&(document.documentElement===this.$target?(window.removeEventListener("resize",this._onRefresh),window.removeEventListener("scroll",this._onRefresh)):(this._resizeObserver.disconnect(),this._mutationObserver.disconnect(),this.$target.removeEventListener("scroll",this._onRefresh)))},Object.defineProperty(o.prototype,"scrollableSize",{get:function(){return this.$target?this.horizontal?this.$target.scrollWidth-this.$target.clientWidth:this.$target.scrollHeight-this.$target.clientHeight:0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"trackOffset",{get:function(){return this.horizontal?this.$scrollbarTrack.offsetWidth:this.$scrollbarTrack.offsetHeight},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"thumbOffset",{get:function(){return this.horizontal?this.$scrollbarThumb.offsetWidth:this.$scrollbarThumb.offsetHeight},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"thumbSize",{get:function(){if(!this.$target||!this.$target.scrollWidth||!this.$target.scrollHeight)return 1;var t=this.horizontal?this.$target.clientWidth:this.$target.clientHeight,e=this.horizontal?this.$target.scrollWidth:this.$target.scrollHeight;return Math.min((t+1)/e,1)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"position",{get:function(){if(!this.$target)return 0;var t=this.horizontal?qe.normalizeScrollLeft(this.$target):this.$target.scrollTop;return this.scrollableSize?t/this.scrollableSize:0},set:function(t){this.scrollTargetTo(this.scrollableSize*this.normalizePosition(t)),this.update()},enumerable:!1,configurable:!0}),o.prototype.normalizePosition=function(t){var e=Math.min(1,Math.max(0,t));return this.$target&&!qe.isRtl(this.$target)?e:"negative"===qe.scrollType?e-1:1-e},o.prototype.scrollTargetTo=function(t){var e;this.$target&&this.$target.scrollTo(((e={})[this.horizontal?"left":"top"]=t,e.behavior=this.dragging?"auto":"smooth",e))},o.prototype.update=function(){var t;if(this.$$fire("change:scroll",{bubbles:!1}),this.$scrollbarThumb&&this.$scrollbarTrack){var e=this.trackOffset*this.thumbSize,o=(this.trackOffset-e)*this.position,n=((t={})[this.horizontal?"left":"top"]="".concat(o,"px"),t[this.horizontal?"width":"height"]="".concat(e,"px"),t);Object.assign(this.$scrollbarThumb.style,n)}},o.prototype.updateMarkers=function(){var t=this.position,e=this.thumbSize;this.toggleAttribute("at-start",e<1&&t<=0),this.toggleAttribute("at-end",e<1&&t>=1),this.toggleAttribute("inactive",e>=1)},o.prototype.refresh=function(){this.update(),this.updateMarkers()},o.prototype.toPosition=function(t){var e=this,o=e.horizontal,n=e.thumbOffset,r=e.trackOffset,i=at.normalizeCoordinates(t,this.$scrollbarTrack);return((o?i.x:i.y)-n/2)/(r-n)},o.prototype._onPointerDown=function(t){this._initialPosition=this.position,this._pointerPosition=this.toPosition(t);var e=at.normalizeTouchPoint(t);this._initialMousePosition=this.horizontal?e.x:e.y,t.target===this.$scrollbarThumb?this._onThumbPointerDown(t):this._onPointerDownTick(!0),at.isMouseEvent(t)&&window.addEventListener("mouseup",this._onPointerUp),at.isTouchEvent(t)&&window.addEventListener("touchend",this._onPointerUp,{passive:!1}),t.preventDefault()},o.prototype._onPointerDownTick=function(t){this._scrollTimer&&window.clearTimeout(this._scrollTimer);var e=this.position,o=(t?1:1.5)*this.thumbSize;this.position=Math.min(e+o,Math.max(e-o,this._pointerPosition)),this.position===this._pointerPosition||this.noContinuousScroll||(this._scrollTimer=window.setTimeout(this._onPointerDownTick,400))},o.prototype._onThumbPointerDown=function(t){var e;this.toggleAttribute("dragging",!0),null===(e=this.$target)||void 0===e||e.style.setProperty("scroll-behavior","auto"),window.addEventListener("click",this._onBodyClick,{capture:!0}),at.isMouseEvent(t)&&window.addEventListener("mousemove",this._onPointerMove),at.isTouchEvent(t)&&window.addEventListener("touchmove",this._onPointerMove,{passive:!1})},o.prototype._onPointerDrag=function(t){var e=at.normalizeTouchPoint(t),o=(this.horizontal?e.x:e.y)-this._initialMousePosition,n=this.trackOffset-this.thumbOffset,r=n?o/n:0;this.position=this._initialPosition+r,this.updateMarkers()},o.prototype._onPointerMove=function(t){this.dragging&&(this._deferredDrag(t),t.preventDefault(),t.stopPropagation())},o.prototype._onPointerUp=function(t){var e;this._scrollTimer&&window.clearTimeout(this._scrollTimer),this.toggleAttribute("dragging",!1),null===(e=this.$target)||void 0===e||e.style.removeProperty("scroll-behavior"),at.isMouseEvent(t)&&(window.removeEventListener("mousemove",this._onPointerMove),window.removeEventListener("mouseup",this._onPointerUp)),at.isTouchEvent(t)&&(window.removeEventListener("touchmove",this._onPointerMove),window.removeEventListener("touchend",this._onPointerUp))},o.prototype._onBodyClick=function(t){t.stopImmediatePropagation(),window.removeEventListener("click",this._onBodyClick,{capture:!0})},o.prototype._onRefresh=function(t){var e=t.target;"scroll"===t.type&&this.dragging||("esl:refresh"!==t.type||Dt(e.parentNode,this.$target))&&this._deferredRefresh()},o.is="esl-scrollbar",So([st()],o.prototype,"horizontal",void 0),So([st()],o.prototype,"noContinuousScroll",void 0),So([it({defaultValue:"::parent"})],o.prototype,"target",void 0),So([it({defaultValue:"scrollbar-thumb"})],o.prototype,"thumbClass",void 0),So([it({defaultValue:"scrollbar-track"})],o.prototype,"trackClass",void 0),So([st({readonly:!0})],o.prototype,"dragging",void 0),So([st({readonly:!0})],o.prototype,"inactive",void 0),So([st({readonly:!0})],o.prototype,"atStart",void 0),So([st({readonly:!0})],o.prototype,"atEnd",void 0),So([Ue],o.prototype,"connectedCallback",null),So([Ue],o.prototype,"disconnectedCallback",null),So([N],o.prototype,"_onPointerDown",null),So([N],o.prototype,"_onPointerDownTick",null),So([N],o.prototype,"_onThumbPointerDown",null),So([N],o.prototype,"_onPointerMove",null),So([N],o.prototype,"_onPointerUp",null),So([N],o.prototype,"_onBodyClick",null),So([N],o.prototype,"_onRefresh",null),So([t("Scrollbar")],o)}(lt),ko=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ro=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},xo=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}var n;return ko(o,e),n=o,Object.defineProperty(o,"observedAttributes",{get:function(){return["target"]},enumerable:!1,configurable:!0}),o.init=function(t){var e=document.querySelector("body > ".concat(n.is));return e||(e=document.createElement(n.is),t&&Object.assign(e,t),document.body.appendChild(e)),e},o.prototype.mergeDefaultParams=function(t){var e=this.constructor;return Object.assign({},e.defaultConfig,this.defaultParams||{},t||{})},o.prototype.attributeChangedCallback=function(t,e,o){this.connected&&"target"===t&&(this.$target=Kt.first(this.target))},o.prototype.connectedCallback=function(){var t;e.prototype.connectedCallback.call(this),this.setAttribute("role",this.getAttribute("role")||"alert"),this.$content=document.createElement("div"),this.$content.className="esl-alert-content",this.innerHTML="",this.appendChild(this.$content),M.isIE&&this.appendChild(((t=document.createElement("iframe")).className="ie-zindex-fix",t.src="about:blank",t)),this.target&&(this.$target=Kt.first(this.target,this))},o.prototype.unbindEvents=function(){e.prototype.unbindEvents.call(this),this.unbindTargetEvents()},Object.defineProperty(o.prototype,"$target",{get:function(){return this._$target},set:function(t){this.unbindTargetEvents(),this._$target=t,this.bindTargetEvents()},enumerable:!1,configurable:!0}),o.prototype.bindTargetEvents=function(){this.$target&&this.connected&&(this.$target.addEventListener("".concat(n.eventNs,":show"),this._onTargetEvent),this.$target.addEventListener("".concat(n.eventNs,":hide"),this._onTargetEvent))},o.prototype.unbindTargetEvents=function(){this.$target&&(this.$target.removeEventListener("".concat(n.eventNs,":show"),this._onTargetEvent),this.$target.removeEventListener("".concat(n.eventNs,":hide"),this._onTargetEvent))},o.prototype.onShow=function(t){this._clearTimeout&&window.clearTimeout(this._clearTimeout),(t.html||t.text)&&(this.render(t),e.prototype.onShow.call(this,t)),this.hide(t)},o.prototype.onHide=function(t){var o=this;e.prototype.onHide.call(this,t),this._clearTimeout=window.setTimeout((function(){return o.clear()}),t.hideTime)},o.prototype.render=function(t){var e=t.text,o=t.html,n=t.cls;q.remove(this,this.activeCls),q.add(this,this.activeCls=n),o&&(this.$content.innerHTML=o),e&&(this.$content.textContent=e)},o.prototype.clear=function(){this.$content.innerHTML="",q.remove(this,this.activeCls)},o.prototype._onTargetEvent=function(t){if(t.type==="".concat(n.eventNs,":show")){var e=Object.assign({},t.detail,{force:!0});this.show(e)}t.type==="".concat(n.eventNs,":hide")&&(e=Object.assign({},{hideDelay:0},t.detail,{force:!0}),this.hide(e)),t.stopPropagation()},o.is="esl-alert",o.eventNs="esl:alert",o.defaultConfig={hideTime:300,hideDelay:2500},Ro([it({defaultValue:"::parent"})],o.prototype,"target",void 0),Ro([ke()],o.prototype,"defaultParams",void 0),Ro([N],o.prototype,"_onTargetEvent",null),n=Ro([t("Alert")],o)}(Ie),$o=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Io=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},Mo=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}var n;return $o(o,e),n=o,Object.defineProperty(o,"observedAttributes",{get:function(){return["selected","disabled"]},enumerable:!1,configurable:!0}),o.prototype.connectedCallback=function(){e.prototype.connectedCallback.call(this),this.tabIndex=0,this.setAttribute("role","checkbox"),this.setAttribute("aria-selected",String(this.selected))},o.prototype.attributeChangedCallback=function(t){"selected"===t&&this.setAttribute("aria-selected",String(this.selected)),"disabled"===t&&this.setAttribute("aria-disabled",String(this.disabled))},o.prototype.update=function(t){t&&(this.original=t),this.value=this.original.value,this.disabled=this.original.disabled,this.selected=this.original.selected,this.textContent=this.original.text},o.build=function(t){var e=document.createElement(n.is);return e.update(t),e},o.is="esl-select-item",Io([it()],o.prototype,"value",void 0),Io([st()],o.prototype,"selected",void 0),Io([st()],o.prototype,"disabled",void 0),n=Io([t("SelectItem")],o)}(lt),Do=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),No=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._mutationObserver=new MutationObserver(e._onTargetMutation.bind(e)),e}return Do(e,t),Object.defineProperty(e.prototype,"$select",{get:function(){return this._$select},set:function(t){var e=this._$select;this._$select=t,this._onTargetChange(t,e)},enumerable:!1,configurable:!0}),e.prototype.connectedCallback=function(){t.prototype.connectedCallback.call(this),this.ownerDocument.addEventListener("reset",this._onReset)},e.prototype.disconnectedCallback=function(){t.prototype.disconnectedCallback.call(this),this.ownerDocument.removeEventListener("reset",this._onReset),this._mutationObserver.disconnect(),this._$select&&this._$select.removeEventListener("change",this._onChange)},e.prototype._onChange=function(t){},e.prototype._onListChange=function(){},e.prototype._onTargetChange=function(t,e){e&&e.removeEventListener("change",this._onChange),t&&t.addEventListener("change",this._onChange),this._mutationObserver.disconnect();var o=this.constructor;t&&this._mutationObserver.observe(t,o.observationConfig)},e.prototype._onTargetMutation=function(t){t.some((function(t){return t.addedNodes.length+t.removedNodes.length>0}))?this._onListChange():this._onChange()},e.prototype._onReset=function(t){var e=this;t.target&&t.target===this.form&&setTimeout((function(){return e._onChange(t)}))},Object.defineProperty(e.prototype,"multiple",{get:function(){return this.$select&&this.$select.multiple},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.$select?Array.from(this.$select.options):[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedOptions",{get:function(){return this.options.filter((function(t){return t.selected}))},enumerable:!1,configurable:!0}),e.prototype.getOption=function(t){return this.options.find((function(e){return e.value===t}))},e.prototype.setSelected=function(t,e){var o=this.getOption(t);o&&(o.selected=e),at.dispatch(this.$select,"change")},e.prototype.isSelected=function(t){var e=this.getOption(t);return!!e&&e.selected},e.prototype.hasSelected=function(){return this.options.some((function(t){return t.selected}))},e.prototype.isAllSelected=function(){return this.options.every((function(t){return t.selected||t.disabled}))},e.prototype.setAllSelected=function(t){if(!this.multiple)return!1;this.options.forEach((function(e){return e.selected=!e.disabled&&t})),at.dispatch(this.$select,"change")},Object.defineProperty(e.prototype,"value",{get:function(){var t;return null===(t=this.$select)||void 0===t?void 0:t.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"values",{get:function(){return this.selectedOptions.map((function(t){return t.value}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"form",{get:function(){var t;return null===(t=this.$select)||void 0===t?void 0:t.form},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){var t;return null===(t=this.$select)||void 0===t?void 0:t.name},set:function(t){this.$select&&(this.$select.name=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){var t;return null===(t=this.$select)||void 0===t?void 0:t.required},set:function(t){this.$select&&(this.$select.required=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"validity",{get:function(){var t;return null===(t=this.$select)||void 0===t?void 0:t.validity},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"validationMessage",{get:function(){var t;return null===(t=this.$select)||void 0===t?void 0:t.validationMessage},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"willValidate",{get:function(){var t;return null===(t=this.$select)||void 0===t?void 0:t.willValidate},enumerable:!1,configurable:!0}),e.prototype.checkValidity=function(){var t;return null===(t=this.$select)||void 0===t?void 0:t.checkValidity()},e.prototype.reportValidity=function(){var t;return null===(t=this.$select)||void 0===t?void 0:t.reportValidity()},e.prototype.setCustomValidity=function(t){var e;null===(e=this.$select)||void 0===e||e.setCustomValidity(t)},e.observationConfig={subtree:!0,attributes:!0,attributeFilter:["value","selected","disabled"],childList:!0,characterData:!0},function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);i>3&&s&&Object.defineProperty(e,o,s)}([N],e.prototype,"_onReset",null),e}(lt),Ho=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Vo=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},zo=function(e){function o(){var t=e.call(this)||this;return t.$list=document.createElement("div"),t.$list.setAttribute("role","list"),t.$list.classList.add("esl-scrollable-content"),t.$list.classList.add("esl-select-list-container"),t.$scroll=document.createElement(Lo.is),t.$scroll.target="::prev",t.$selectAll=document.createElement(Mo.is),t.$selectAll.classList.add("esl-select-all-item"),t}return Ho(o,e),Object.defineProperty(o,"observedAttributes",{get:function(){return["select-all-label","disabled"]},enumerable:!1,configurable:!0}),o.register=function(){Mo.register(),e.register.call(this)},o.prototype.attributeChangedCallback=function(t,e,o){this.connected&&o!==e&&("select-all-label"===t&&(this.$selectAll.textContent=o),"disabled"===t&&this._updateDisabled())},o.prototype.connectedCallback=function(){e.prototype.connectedCallback.call(this),this.appendChild(this.$selectAll),this.appendChild(this.$list),this.appendChild(this.$scroll),this.bindSelect(),this.bindEvents(),this._updateDisabled()},o.prototype.disconnectedCallback=function(){e.prototype.disconnectedCallback.call(this),this.appendChild(this.$selectAll),this.appendChild(this.$list),this.appendChild(this.$scroll),this.unbindEvents()},o.prototype.bindSelect=function(){var t=this.querySelector("[esl-select-target]");t&&t instanceof HTMLSelectElement&&(this.$select=t)},o.prototype.bindEvents=function(){this.$select&&(this.addEventListener("click",this._onClick),this.addEventListener("keydown",this._onKeydown))},o.prototype.unbindEvents=function(){this.$select&&(this.removeEventListener("click",this._onClick),this.removeEventListener("keydown",this._onKeydown))},o.prototype._renderItems=function(){this.$select&&(this.$list.innerHTML="",this.$items=this.options.map(Mo.build),this.pinSelected?(this._renderGroup(this.$items.filter((function(t){return t.selected}))),this._renderGroup(this.$items.filter((function(t){return!t.selected})))):this._renderGroup(this.$items),this.toggleAttribute("multiple",this.multiple))},o.prototype._renderGroup=function(t){var e=this;t.forEach((function(t){return e.$list.appendChild(t)}));var o=function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s}(t.slice(-1),1)[0];o&&o.classList.add("last-in-group")},o.prototype._updateSelectAll=function(){this.multiple?(this.$selectAll.tabIndex=0,this.$selectAll.selected=this.isAllSelected(),this.$selectAll.textContent=this.selectAllLabel):this.$selectAll.removeAttribute("tabindex")},o.prototype._updateDisabled=function(){this.setAttribute("aria-disabled",String(this.disabled)),this.$select&&(this.$select.disabled=this.disabled)},o.prototype._onTargetChange=function(t,o){e.prototype._onTargetChange.call(this,t,o),this._updateSelectAll(),this._renderItems(),this.bindEvents()},o.prototype._onChange=function(){this._updateSelectAll(),this.$items.forEach((function(t){return t.update()}))},o.prototype._onListChange=function(){this._renderItems()},o.prototype._onClick=function(t){if(!this.disabled){var e=t.target;e&&e instanceof Mo&&(e.classList.contains("esl-select-all-item")?this.setAllSelected(!e.selected):this.setSelected(e.value,!e.selected))}},o.prototype._onKeydown=function(t){if([pe,he].includes(t.key)&&(this._onClick(t),t.preventDefault()),[ye,ge].includes(t.key)){var e=this.$items.indexOf(document.activeElement),o=this.$items.length,n=t.key===ye?-1:1;if(-1===e)return;this.$items[(e+n+o)%o].focus(),t.preventDefault()}},o.is="esl-select-list",Vo([it({defaultValue:"Select All"})],o.prototype,"selectAllLabel",void 0),Vo([st()],o.prototype,"disabled",void 0),Vo([st()],o.prototype,"pinSelected",void 0),Vo([N],o.prototype,"_onTargetChange",null),Vo([N],o.prototype,"_onChange",null),Vo([N],o.prototype,"_onListChange",null),Vo([N],o.prototype,"_onClick",null),Vo([N],o.prototype,"_onKeydown",null),Vo([t("SelectList")],o)}(No),Uo=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Bo=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},Fo=function(t){function e(){var e=t.call(this)||this;return e._deferredRerender=l((function(){return e.render()})),e.$remove=document.createElement("button"),e.$remove.type="button",e.$remove.setAttribute("aria-label","Clear"),e.$remove.classList.add("esl-select-clear-btn"),e.$remove.classList.add("icon-nav-close-menu"),e.$container=document.createElement("div"),e.$container.classList.add("esl-select-text-container"),e.$text=document.createElement("span"),e.$text.classList.add("esl-select-text"),e.$container.appendChild(e.$text),e.$rest=document.createElement("span"),e.$rest.classList.add("esl-select-text"),e.$container.appendChild(e.$rest),e}return Uo(e,t),Object.defineProperty(e.prototype,"owner",{get:function(){return this.parentElement instanceof Qo?this.parentElement:null},enumerable:!1,configurable:!0}),e.prototype.connectedCallback=function(){var o=this;t.prototype.connectedCallback.call(this),this.appendChild(this.$container),this.appendChild(this.$remove),this.bindEvents(),customElements.whenDefined(e.is).then((function(){return o.render()}))},e.prototype.disconnectedCallback=function(){t.prototype.disconnectedCallback.call(this),this.removeChild(this.$container),this.removeChild(this.$remove),this.unbindEvents()},e.prototype.bindEvents=function(){this.owner&&(this.owner.addEventListener("esl:change:value",this.render),this.$remove.addEventListener("click",this._onClear),window.addEventListener("resize",this._deferredRerender))},e.prototype.unbindEvents=function(){this.owner&&(this.owner.removeEventListener("esl:change:value",this.render),this.$remove.removeEventListener("click",this._onClear),window.removeEventListener("resize",this._deferredRerender))},e.prototype.render=function(){if(this.owner){var t=this.owner.selectedOptions;this.hasValue=!!t.length,this.toggleAttribute("multiple",this.owner.multiple),this.applyItems(t.map((function(t){return t.text})))}},e.prototype.apply=function(t,e){var o=t.length,n=o-e,r={rest:n,length:o,limit:e};this.$text.textContent=t.slice(0,e).join(", "),this.$rest.textContent=n>0?nt(this.moreLabelFormat||"",r):""},e.prototype.applyItems=function(t){var e=0;do{this.apply(t,++e)}while(e<=t.length&&this.$container.scrollWidth<=this.$container.clientWidth);this.apply(t,e-1)},e.prototype._onClear=function(t){this.owner&&(this.owner.setAllSelected(!1),t.stopPropagation(),t.preventDefault())},e.is="esl-select-renderer",Bo([it()],e.prototype,"emptyText",void 0),Bo([it()],e.prototype,"moreLabelFormat",void 0),Bo([st()],e.prototype,"hasValue",void 0),Bo([N],e.prototype,"render",null),Bo([N],e.prototype,"_onClear",null),e}(lt),qo=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Go=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},Wo=function(t){function e(){var e=t.call(this)||this;return e._deferredUpdatePosition=l((function(){return e.updatePosition()})),e.closeOnEsc=!0,e.closeOnOutsideAction=!0,e.$list=document.createElement(zo.is),e}return qo(e,t),e.register=function(){zo.register(),t.register.call(this)},e.prototype.setInitialState=function(){},e.prototype.connectedCallback=function(){t.prototype.connectedCallback.call(this),this.appendChild(this.$list)},e.prototype.disconnectedCallback=function(){t.prototype.disconnectedCallback.call(this),this.removeChild(this.$list)},e.prototype.bindEvents=function(){t.prototype.bindEvents.call(this),window.addEventListener("resize",this._deferredUpdatePosition)},e.prototype.unbindEvents=function(){t.prototype.unbindEvents.call(this),window.removeEventListener("resize",this._deferredUpdatePosition)},e.prototype.onShow=function(e){document.body.appendChild(this),this._disposeTimeout&&window.clearTimeout(this._disposeTimeout),this.$list.pinSelected=this.$owner.pinSelected,this.$list.selectAllLabel=this.$owner.selectAllLabel,this.$list.$select=this.$owner.$select,t.prototype.onShow.call(this,e);var o=this.querySelector("[tabindex]");null==o||o.focus({preventScroll:!0}),this.updatePosition()},e.prototype.onHide=function(e){var o=this,n=this.activator;t.prototype.onHide.call(this,e),this._disposeTimeout=window.setTimeout((function(){o.parentNode===document.body&&document.body.removeChild(o)}),1e3),n&&setTimeout((function(){return n.focus({preventScroll:!0})}),0)},e.prototype._onKeyboardEvent=function(e){t.prototype._onKeyboardEvent.call(this,e),"Tab"===e.key&&this._onTabKey(e)},e.prototype._onTabKey=function(t){var e=this.querySelectorAll("[tabindex]"),o=e[0],n=e[e.length-1];o&&t.target===n&&!t.shiftKey&&o.focus(),n&&t.target===o&&t.shiftKey&&n.focus()},e.prototype.updatePosition=function(){if(this.activator){var t=window.scrollY||window.pageYOffset,e=this.activator.getBoundingClientRect();this.style.top="".concat(t+e.top+e.height,"px"),this.style.left="".concat(e.left,"px"),this.style.width="".concat(e.width,"px")}},e.is="esl-select-dropdown",Go([Be()],e.prototype,"closeOnEsc",void 0),Go([Be()],e.prototype,"closeOnOutsideAction",void 0),Go([N],e.prototype,"_onKeyboardEvent",null),Go([N],e.prototype,"updatePosition",null),e}(Ie),Ko=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Yo=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},Qo=function(e){function o(){var t=e.call(this)||this;return t.$renderer=document.createElement(Fo.is),t.$dropdown=document.createElement(Wo.is),t}return Ko(o,e),Object.defineProperty(o,"observedAttributes",{get:function(){return["disabled"]},enumerable:!1,configurable:!0}),o.register=function(){Wo.register(),Fo.register(),e.register.call(this)},o.prototype.attributeChangedCallback=function(t){"disabled"===t&&this._updateDisabled()},o.prototype.connectedCallback=function(){e.prototype.connectedCallback.call(this),this.$select=this.querySelector("[esl-select-target]"),this.$select&&(this._prepare(),this._updateDisabled(),this.bindEvents(),this._onUpdate())},o.prototype.disconnectedCallback=function(){e.prototype.disconnectedCallback.call(this),this.unbindEvents(),this._dispose()},o.prototype.focus=function(t){this.$select.focus(t)},o.prototype.update=function(t){void 0===t&&(t=!0),this._onUpdate(),t&&at.dispatch(this,"esl:change:value",{detail:{event:null}})},o.prototype.bindEvents=function(){this.addEventListener("click",this._onClick),this.addEventListener("keydown",this._onKeydown),this.addEventListener("focusout",this._onUpdate),this.$dropdown.addEventListener("esl:show",this._onPopupStateChange),this.$dropdown.addEventListener("esl:hide",this._onPopupStateChange)},o.prototype.unbindEvents=function(){this.removeEventListener("click",this._onClick),this.removeEventListener("keydown",this._onKeydown),this.removeEventListener("focusout",this._onUpdate),this.$dropdown.removeEventListener("esl:show",this._onPopupStateChange),this.$dropdown.removeEventListener("esl:hide",this._onPopupStateChange)},o.prototype._prepare=function(){this.$renderer.className=this.$select.className,this.$renderer.emptyText=this.placeholder,this.$renderer.moreLabelFormat=this.moreLabelFormat,this.$dropdown.$owner=this,this.appendChild(this.$renderer)},o.prototype._dispose=function(){this.$select.className=this.$renderer.className,this.removeChild(this.$renderer)},o.prototype._updateDisabled=function(){this.setAttribute("aria-disabled",String(this.disabled)),this.$select&&(this.$select.disabled=this.disabled,this.disabled&&this.open&&this.$dropdown.hide())},o.prototype._onChange=function(t){this._onUpdate(),at.dispatch(this,"esl:change:value",{detail:{event:t}})},o.prototype._onUpdate=function(){var t=this.hasSelected();this.toggleAttribute("has-value",t),q.toggle(this,this.hasValueClass,t);var e=document.activeElement,o=this.open||e&&this.contains(e);q.toggle(this,this.hasFocusClass,!!o)},o.prototype._onClick=function(){this.disabled||this.$dropdown.toggle(!this.$dropdown.open,{activator:this,initiator:"select"})},o.prototype._onKeydown=function(t){[pe,he].includes(t.key)&&(this.click(),t.preventDefault())},o.prototype._onPopupStateChange=function(t){t.target===this.$dropdown&&(this.open=this.$dropdown.open,this._onUpdate())},o.is="esl-select",Yo([it()],o.prototype,"placeholder",void 0),Yo([it()],o.prototype,"hasValueClass",void 0),Yo([it()],o.prototype,"hasFocusClass",void 0),Yo([it({defaultValue:"Select All"})],o.prototype,"selectAllLabel",void 0),Yo([it({defaultValue:"+ {rest} more..."})],o.prototype,"moreLabelFormat",void 0),Yo([st()],o.prototype,"open",void 0),Yo([st()],o.prototype,"disabled",void 0),Yo([st()],o.prototype,"pinSelected",void 0),Yo([N],o.prototype,"_onChange",null),Yo([N],o.prototype,"_onUpdate",null),Yo([N],o.prototype,"_onClick",null),Yo([N],o.prototype,"_onKeydown",null),Yo([N],o.prototype,"_onPopupStateChange",null),Yo([t("Select")],o)}(No),Xo=window||o.g,Zo=Xo.__esl_sequences__||new Map;Xo.__esl_sequences__=Zo;var Jo=function(t){return void 0===t&&(t=""),t+Date.now().toString(32)+"-"+Math.round(1024*Math.random()*1024).toString(32)},tn=function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s},en=function(t,e,o){if(o||2===arguments.length)for(var n,r=0,i=e.length;r<i;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))};function on(t){return t.map((function(t){var e=t.index,o=t.renderedIndex,n=t.html;return{index:["".concat(e)],renderedIndex:[o],text:n}}))}var nn=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),rn=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},sn=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t._notes=[],t}var n;return nn(o,e),n=o,Object.defineProperty(o.prototype,"scopeEl",{get:function(){return Kt.first(this.scopeTarget,this)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"footnotesList",{get:function(){return this.reindex(),"enable"!==this.grouping?on(this._notes):function(t){var e=new Map;on(t).forEach((function(t){var o=t.index,n=t.renderedIndex,r=t.text;e.has(r)?e.set(r,{index:en(en([],tn(e.get(r).index),!1),tn(o),!1),renderedIndex:en(en([],tn(e.get(r).renderedIndex),!1),tn(n),!1),text:r}):e.set(r,t)}));var o=[];return e.forEach((function(t,e){return o.push(t)})),o}(this._notes)},enumerable:!1,configurable:!0}),o.prototype.reindex=function(){this._notes=this._notes.sort((function(t,e){var o=t.getBoundingClientRect(),n=e.getBoundingClientRect();return o.top-n.top||o.left-n.left})),this._notes.forEach((function(t,e){return t.index=e+1}))},o.prototype.connectedCallback=function(){e.prototype.connectedCallback.call(this),this.bindEvents(),this._notifyNotes()},o.prototype.disconnectedCallback=function(){e.prototype.disconnectedCallback.call(this),this.unbindEvents(),this._notes.forEach((function(t){return t.unlink()})),this._notes=[]},o.prototype.bindEvents=function(){this.scopeEl&&this.scopeEl.addEventListener("".concat(n.eventNs,":response"),this._onNoteSubscribe),this.addEventListener("click",this._onClick),this.addEventListener("keydown",this._onKeydown)},o.prototype.unbindEvents=function(){this.scopeEl&&this.scopeEl.removeEventListener("".concat(n.eventNs,":response"),this._onNoteSubscribe),this.removeEventListener("click",this._onClick),this.removeEventListener("keydown",this._onKeydown)},o.prototype.linkNote=function(t){if(!this._notes.includes(t)){this._notes.push(t);var e=+function(t,e){void 0===e&&(e=t);var o=(Zo.get(t)||0)+1;return Zo.set(t,o),e+o}(n.is,"");t.link(this,e)}},o.prototype.unlinkNote=function(t){this._notes=this._notes.filter((function(e){return e!==t})),this.update()},o.prototype.update=function(){this.innerHTML=this.buildItems()},o.prototype.buildItems=function(){var t=this,e=this.footnotesList.map((function(e){return t.buildItem(e)})).join("");return'<ul class="esl-footnotes-items">'.concat(e,"</ul>")},o.prototype.buildItem=function(t){var e="".concat(this.buildItemIndex(t)).concat(this.buildItemText(t)).concat(this.buildItemBack(t));return'<li class="esl-footnotes-item" data-order="'.concat(t.index,'">').concat(e,"</li>")},o.prototype.buildItemIndex=function(t){return'<span class="esl-footnotes-index">'.concat(t.renderedIndex.join(", "),"</span>")},o.prototype.buildItemText=function(t){return'<span class="esl-footnotes-text">'.concat(t.text,"</span>")},o.prototype.buildItemBack=function(t){return'<span class="esl-footnotes-back-to-note" tabindex="0" title="'.concat(this.backToNoteLabel,'"></span>')},o.prototype._onNoteSubscribe=function(t){var e=t.target;this.linkNote(e),this.update(),t.stopImmediatePropagation()},o.prototype._onClick=function(t){var e,o=t.target;if(o&&o.classList.contains("esl-footnotes-back-to-note")){var n=null===(e=o.closest(".esl-footnotes-item"))||void 0===e?void 0:e.getAttribute("data-order"),r=null==n?void 0:n.split(",").map((function(t){return+t}));r&&this._onBackToNote(r)}},o.prototype._onKeydown=function(t){[pe,he].includes(t.key)&&this._onClick(t)},o.prototype._onBackToNote=function(t){var e=t[t.length-1];this._notes.forEach((function(o){o.highlight(t.includes(o.index)),o.index===e&&o.activate()}))},o.prototype.turnOffHighlight=function(t){this._notes.filter((function(e){return t.html===e.html})).forEach((function(t){return t.highlight(!1)}))},o.prototype._notifyNotes=function(){at.dispatch(this,"".concat(n.eventNs,":request"))},o.is="esl-footnotes",o.eventNs="esl:footnotes",rn([it({defaultValue:"::parent"})],o.prototype,"scopeTarget",void 0),rn([it({defaultValue:"enable"})],o.prototype,"grouping",void 0),rn([it({defaultValue:"Back to note"})],o.prototype,"backToNoteLabel",void 0),rn([gt()],o.prototype,"scopeEl",null),rn([N],o.prototype,"_onNoteSubscribe",null),rn([N],o.prototype,"_onClick",null),rn([N],o.prototype,"_onKeydown",null),n=rn([t("Footnotes")],o)}(lt),an=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),cn=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},ln=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}var n;return an(o,e),n=o,Object.defineProperty(o,"sharedInstance",{get:function(){return document.createElement("esl-tooltip")},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"focusableElements",{get:function(){return void 0===(t=this)&&(t=document),Array.from(t.querySelectorAll('a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])')).filter((function(t){return!t.hasAttribute("disabled")&&!t.getAttribute("aria-hidden")}));var t},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"lastFocusableElement",{get:function(){var t=this.focusableElements;return t.length?t[t.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(o,"open",{get:function(){return n.sharedInstance.open},enumerable:!1,configurable:!0}),o.show=function(t){void 0===t&&(t={}),n.sharedInstance.show(t)},o.hide=function(t){void 0===t&&(t={}),n.sharedInstance.hide(t)},o.prototype.connectedCallback=function(){this.disableArrow||this._appendArrow(),e.prototype.connectedCallback.call(this),this.classList.add(so.is),this.tabIndex=0},o.prototype.setInitialState=function(){},o.prototype._createArrow=function(){var t=document.createElement("span");return t.className="esl-popup-arrow",t},o.prototype._appendArrow=function(){this.$arrow=this._createArrow(),this.appendChild(this.$arrow)},o.prototype.onShow=function(t){var o=this;t.disableArrow&&(this.disableArrow=t.disableArrow),t.text&&(this.innerText=t.text),t.html&&(this.innerHTML=t.html),t.extraClass&&q.add(this,t.extraClass),document.body.appendChild(this),e.prototype.onShow.call(this,t),this._updateActivatorState(!0),setTimeout((function(){o.focus()}))},o.prototype.onHide=function(t){var o;null===(o=this.activator)||void 0===o||o.focus({preventScroll:!0}),this._updateActivatorState(!1),e.prototype.onHide.call(this,t),document.body.removeChild(this),t.extraClass&&q.remove(this,t.extraClass)},o.prototype._onKeyboardEvent=function(t){e.prototype._onKeyboardEvent.call(this,t),"Tab"===t.key&&this._onTabKey(t)},o.prototype._onTabKey=function(t){if(this.activator){var e=this.lastFocusableElement;e&&t.target!==e||t.shiftKey||(this.activator.focus(),t.stopPropagation(),t.preventDefault())}},o.prototype._updateActivatorState=function(t){var e;null===(e=this.activator)||void 0===e||e.toggleAttribute("tooltip-shown",t)},o.is="esl-tooltip",cn([it({defaultValue:"top"})],o.prototype,"position",void 0),cn([it({defaultValue:"fit"})],o.prototype,"behavior",void 0),cn([st()],o.prototype,"disableArrow",void 0),cn([gt()],o.prototype,"_createArrow",null),cn([N],o.prototype,"_onKeyboardEvent",null),cn([gt()],o,"sharedInstance",null),n=cn([t("Tooltip")],o)}(so),un=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),pn=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},hn=function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s},fn=function(t,e,o){if(o||2===arguments.length)for(var n,r=0,i=e.length;r<i;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))},dn=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return un(o,e),Object.defineProperty(o.prototype,"allowHover",{get:function(){return M.hasHover&&Rt.for(this.trackHover).matches},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"allowClick",{get:function(){return Rt.for(this.trackClick).matches},enumerable:!1,configurable:!0}),Object.defineProperty(o,"observedAttributes",{get:function(){return["tooltip-shown"]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"index",{get:function(){return this._index},set:function(t){this._index=t,this.innerHTML=this.renderedIndex},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"renderedIndex",{get:function(){return"".concat(this._index)},enumerable:!1,configurable:!0}),o.prototype.connectedCallback=function(){this.html||(this.html=this.innerHTML),e.prototype.connectedCallback.call(this),this.bindEvents(),this._sendResponseToFootnote()},o.prototype.disconnectedCallback=function(){var t;e.prototype.disconnectedCallback.call(this),this.unbindEvents(),null===(t=this._$footnotes)||void 0===t||t.unlinkNote(this),this.restore()},o.prototype.attributeChangedCallback=function(t,e,o){var n;this.connected&&e!==o&&"tooltip-shown"===t&&null===o&&(null===(n=this._$footnotes)||void 0===n||n.turnOffHighlight(this))},o.prototype.bindEvents=function(){document.body.addEventListener("".concat(sn.eventNs,":request"),this._onFootnotesReady),this.addEventListener("click",this._onClick),this.addEventListener("keydown",this._onKeydown),this.addEventListener("mouseenter",this._onMouseEnter),this.addEventListener("mouseleave",this._onMouseLeave)},o.prototype.unbindEvents=function(){document.body.removeEventListener("".concat(sn.eventNs,":request"),this._onFootnotesReady),this.removeEventListener("click",this._onClick),this.removeEventListener("keydown",this._onKeydown),this.removeEventListener("mouseenter",this._onMouseEnter),this.removeEventListener("mouseleave",this._onMouseLeave)},o.prototype.activate=function(){var t,e,o,n,r,i=this;ln.open&&this.hideTooltip(),at.dispatch(this,"esl:show:request"),(t=this,e={behavior:"smooth",block:"nearest"},r=0,t.scrollIntoView(e),re((function(){var e=t.getBoundingClientRect(),i=e.top,s=e.left;return i===n&&s===o||(r=0,n=i,o=s),r++>2}),333,30)).then((function(){return i.showTooltip()}))},o.prototype.highlight=function(t){void 0===t&&(t=!0),this.classList.toggle("highlight",t)},o.prototype.link=function(t,e){this.linked=!0,this._$footnotes=t,this.index=e,this.tabIndex=0},o.prototype.unlink=function(){this.restore(),this._sendResponseToFootnote()},o.prototype.restore=function(){this.linked=!1,this._$footnotes=null,this.innerHTML=this.html,this.tabIndex=-1},o.prototype.mergeToggleableParams=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object.assign.apply(Object,fn([{initiator:"note",activator:this,html:this.html}],hn(t),!1))},o.prototype.showTooltip=function(t){void 0===t&&(t={});var e=this.mergeToggleableParams({},t);ln.open&&this.hideTooltip(),ln.show(e),this.highlight()},o.prototype.hideTooltip=function(t){void 0===t&&(t={});var e=this.mergeToggleableParams({},t);ln.hide(e)},o.prototype.toggleTooltip=function(t,e){void 0===t&&(t={}),void 0===e&&(e=!this.tooltipShown),e?this.showTooltip(t):this.hideTooltip(t)},o.prototype._onClick=function(t){if(this.allowClick)return t.preventDefault(),t.stopPropagation(),this.toggleTooltip({event:t})},o.prototype._onKeydown=function(t){if([pe,he].includes(t.key))return t.preventDefault(),t.stopPropagation(),this.toggleTooltip({event:t})},o.prototype._onMouseEnter=function(t){this.allowHover&&(this.showTooltip({event:t}),t.preventDefault())},o.prototype._onMouseLeave=function(t){this.allowHover&&(this.hideTooltip({event:t,trackHover:!0}),t.preventDefault())},o.prototype._onFootnotesReady=function(t){this.linked||this._sendResponseToFootnote()},o.prototype._sendResponseToFootnote=function(){at.dispatch(this,"".concat(sn.eventNs,":response"))},o.is="esl-note",pn([st()],o.prototype,"linked",void 0),pn([st()],o.prototype,"tooltipShown",void 0),pn([it()],o.prototype,"html",void 0),pn([it({defaultValue:"all"})],o.prototype,"trackClick",void 0),pn([it({defaultValue:"all"})],o.prototype,"trackHover",void 0),pn([Ue],o.prototype,"connectedCallback",null),pn([N],o.prototype,"_onClick",null),pn([N],o.prototype,"_onKeydown",null),pn([N],o.prototype,"_onMouseEnter",null),pn([N],o.prototype,"_onMouseLeave",null),pn([N],o.prototype,"_onFootnotesReady",null),pn([t("Note")],o)}(lt),yn=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},vn=function(){function e(){var t=this;this._io=new IntersectionObserver(this.onIntersect,o.OPTIONS_OBSERVER),this._entries=new Set,this._configMap=new WeakMap,this.deferredOnAnimate=le((function(){return t.onAnimate()}),100)}var o;return o=e,e.observe=function(t,e){var o=this;void 0===e&&(e={}),V(t).forEach((function(t){return o.instance.observe(t,e)}))},e.unobserve=function(t){var e=this;V(t).forEach((function(t){return e.instance.unobserve(t)}))},e.isObserved=function(t){return!!this.instance.getConfigFor(t)},Object.defineProperty(e,"instance",{get:function(){return new o},enumerable:!1,configurable:!0}),e.prototype.observe=function(t,e){void 0===e&&(e={});var o=this.setConfigFor(t,e);o.force&&q.remove(t,o.cls),this._io.observe(t)},e.prototype.unobserve=function(t){this._io.unobserve(t),this._configMap.delete(t)},e.prototype.onIntersect=function(t){var e=this;t.forEach((function(t){var o=t.target,n=t.intersectionRatio,r=t.isIntersecting,i=e.getConfigFor(o);i&&(r&&n>=i.ratio&&e._entries.add(o),!r&&n<=.01&&(e._entries.delete(o),i.repeat&&(q.remove(o,i.cls),i._timeout&&clearTimeout(i._timeout))))})),this.deferredOnAnimate()},e.prototype.onAnimate=function(){var t=this,e=-1;this._entries.forEach((function(o){var n=t.getConfigFor(o);n&&(n._timeout&&window.clearTimeout(n._timeout),n.group?(e=-1===e?0:e+n.groupDelay,n._timeout=window.setTimeout((function(){return t.onAnimateItem(o)}),e)):t.onAnimateItem(o),n._unsubscribe=!n.repeat)}))},e.prototype.onAnimateItem=function(t){var e=this.getConfigFor(t);e&&(q.add(t,e.cls),this._entries.delete(t),e._unsubscribe&&(this._io.unobserve(t),this._configMap.delete(t)))},e.prototype.getConfigFor=function(t){return this._configMap.get(t)},e.prototype.setConfigFor=function(t,e){var n=Object.assign({},o.DEFAULT_CONFIG,e);return this._configMap.set(t,n),n},e.DEFAULT_CONFIG={cls:"in",groupDelay:100,ratio:.4},e.OPTIONS_OBSERVER={threshold:[.001,.2,.4,.6,.8]},yn([N],e.prototype,"onIntersect",null),yn([gt()],e,"instance",null),o=yn([t("AnimateService")],e)}(),gn=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),bn=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},mn=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return gn(o,e),Object.defineProperty(o,"observedAttributes",{get:function(){return["group","repeat","target"]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"$targets",{get:function(){return Kt.all(this.target,this)},enumerable:!1,configurable:!0}),o.prototype.attributeChangedCallback=function(){this.connected&&this.reanimate()},o.prototype.connectedCallback=function(){e.prototype.connectedCallback.call(this),this.reanimate()},o.prototype.disconnectedCallback=function(){e.prototype.disconnectedCallback.call(this),vn.unobserve(this.$targets)},o.prototype.reanimate=function(){vn.unobserve(this.$targets),gt.clear(this,"$targets"),vn.observe(this.$targets,{force:!0,cls:this.cls,ratio:tt(this.ratio,.4),repeat:this.repeat,group:this.group,groupDelay:tt(this.groupDelay,0)})},o.is="esl-animate",bn([it({defaultValue:"in"})],o.prototype,"cls",void 0),bn([st()],o.prototype,"group",void 0),bn([it({defaultValue:"100"})],o.prototype,"groupDelay",void 0),bn([st()],o.prototype,"repeat",void 0),bn([it()],o.prototype,"ratio",void 0),bn([it()],o.prototype,"target",void 0),bn([gt()],o.prototype,"$targets",null),bn([Ue],o.prototype,"connectedCallback",null),bn([Ue],o.prototype,"disconnectedCallback",null),bn([t("Animate")],o)}(lt),_n=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),wn=(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._state=_e.UNINITIALIZED,e}_n(e,t),e.parseUrl=function(t){try{if(!t)return null;var e=new URL(t).protocol;return"http:"!==e&&"https:"!==e?null:{mediaSrc:t}}catch(t){return null}},e.prototype.buildIframe=function(){var t=document.createElement("iframe");return t.id="esl-media-iframe-"+Jo(),t.className="esl-media-inner esl-media-iframe",t.title=this.config.title,t.setAttribute("aria-label",this.config.title),t.setAttribute("frameborder","0"),t.setAttribute("tabindex","0"),t.setAttribute("scrolling","no"),t.setAttribute("allowfullscreen","yes"),t.toggleAttribute("playsinline",this.config.playsinline),t.src=this.config.mediaSrc||"",t},e.prototype.bind=function(){var t=this;this._state===_e.UNINITIALIZED&&(this._ready=new Promise((function(e,o){t._el=t.buildIframe(),t._el.onload=function(){return e(t)},t._el.onerror=function(t){return o(t)},t._state=_e.UNSTARTED,t.component.appendChild(t._el)})),this._ready.then((function(){t._state=_e.PLAYING,t.component._onReady(),t.component._onPlay()})),this._ready.catch((function(e){return t.component._onError(e)})))},e.prototype.unbind=function(){this.component._onDetach(),this._state=_e.UNINITIALIZED,t.prototype.unbind.call(this)},Object.defineProperty(e.prototype,"ready",{get:function(){return Promise.resolve()},enumerable:!1,configurable:!0}),e.prototype.focus=function(){this._el&&this._el.contentWindow&&this._el.contentWindow.focus()},Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultAspectRatio",{get:function(){return 0},enumerable:!1,configurable:!0}),e.prototype.seekTo=function(t){console.error("[ESLMedia] Unsupported action: can not execute seekTo on abstract iframe provider")},e.prototype.play=function(){this.state===_e.UNINITIALIZED&&this.bind()},e.prototype.pause=function(){this.unbind()},e.prototype.stop=function(){this.unbind()},e.providerName="iframe",e=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s}([Ce.register],e)}(Ce),function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}()),On=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wn(e,t),e.parseUrl=function(t){return this.urlPattern.test(t)?{mediaSrc:t}:null},e.applyElementSettings=function(t,e){return t.classList.add("esl-media-inner"),t.autoplay=e.autoplay,t.preload=e.preload||"auto",t.loop=e.loop,t.muted=e.muted,t.controls=e.controls,t.tabIndex=0,t.toggleAttribute("playsinline",e.playsinline),t},e.prototype.onConfigChange=function(o,n){t.prototype.onConfigChange.call(this,o,n),e.applyElementSettings(this._el,this.config)},e.prototype.bind=function(){this._el=this.createElement(),e.applyElementSettings(this._el,this.config),this.component.appendChild(this._el),this.bindListeners()},e.prototype.bindListeners=function(){var t=this;this._el.addEventListener("loadedmetadata",(function(){return t.component._onReady()})),this._el.addEventListener("play",(function(){return t.component._onPlay()})),this._el.addEventListener("pause",(function(){return t.component._onPaused()})),this._el.addEventListener("ended",(function(){return t.component._onEnded()})),this._el.addEventListener("error",(function(e){return t.component._onError(e)}))},e.prototype.unbind=function(){this.component._onDetach(),t.prototype.unbind.call(this)},Object.defineProperty(e.prototype,"ready",{get:function(){return Promise.resolve()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._el?this._el.ended?_e.ENDED:this._el.played&&this._el.played.length?this._el.paused?_e.PAUSED:_e.PLAYING:_e.UNSTARTED:_e.UNINITIALIZED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._el?this._el.duration:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._el?this._el.currentTime:0},enumerable:!1,configurable:!0}),e.prototype.seekTo=function(t){this._el.currentTime=t},e.prototype.play=function(){return this._el.play()},e.prototype.pause=function(){return this._el.pause()},e.prototype.stop=function(){this._el.pause(),this._el.currentTime=0},e}(Ce),En=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Cn=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}En(e,t),e.prototype.createElement=function(){var t=document.createElement("audio");return t.src=this.config.mediaSrc||"",t},Object.defineProperty(e.prototype,"defaultAspectRatio",{get:function(){return 0},enumerable:!1,configurable:!0}),e.providerName="audio",e.urlPattern=/\.(mp3|wav|aac)(\?|$)/,e=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s}([Ce.register],e)}(On),function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}());function Pn(t,e){return new Promise((function(o,n){var r=document.getElementById(t)||function(t,e){var o=document.createElement("script");return o.id=t,o.async=!0,o.src=e,o}(t,e);switch(r.getAttribute("state")){case"success":o(new Event("load"));break;case"error":n(new Event("error"));break;default:r.addEventListener("load",(function(t){r.setAttribute("state","success"),o(t)})),r.addEventListener("error",(function(t){r.setAttribute("state","error"),n(t)}))}if(!r.parentNode){var i=document.querySelector("script")||document.querySelector("head title");i&&i.parentNode?i.parentNode.insertBefore(r,i):n("Page document structure is incorrect")}}))}!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Cn(e,t),e.prototype.createElement=function(){var t=document.createElement("video");return t.src=this.config.mediaSrc||"",t},Object.defineProperty(e.prototype,"defaultAspectRatio",{get:function(){return this._el.videoWidth/this._el.videoHeight},enumerable:!1,configurable:!0}),e.providerName="video",e.urlPattern=/\.(mp4|webm|ogv|mov)(\?|$)/,e=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s}([Ce.register],e)}(On);var An=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Tn=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;An(e,t),o=e,e.parseUrl=function(t){if(this.providerRegexp.test(t)){var e=function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s}(t.match(this.idRegexp)||[],2)[1];return e?{mediaId:e}:null}return null},e.getCoreApi=function(){return o._coreApiPromise||(o._coreApiPromise=new Promise((function(t){if(window.YT&&window.YT.Player)return t(window.YT);Pn("YT_API_SOURCE","//www.youtube.com/iframe_api");var e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){try{"function"==typeof e&&e.apply(window)}catch(t){}return t(window.YT)}}))),o._coreApiPromise},e.mapOptions=function(t){return{enablejsapi:1,origin:location.origin,rel:0,showinfo:0,iv_load_policy:0,autoplay:Number(t.autoplay),controls:Number(t.controls),playsinline:Number(t.playsinline),disablekb:Number(!t.controls),autohide:Number(!t.controls)}},e.buildIframe=function(t){var e=document.createElement("div");return e.id="esl-media-yt-"+Jo(),e.className="esl-media-inner esl-media-youtube",e.title=t.title,e.setAttribute("aria-label",e.title),e.setAttribute("frameborder","0"),e.setAttribute("tabindex","0"),e.setAttribute("allowfullscreen","yes"),e},e.prototype.bind=function(){var t=this;this._el=o.buildIframe(this.config),this.component.appendChild(this._el),this._ready=o.getCoreApi().then((function(){return t.onCoreApiReady()})).then((function(){return t.onPlayerReady()})).catch((function(e){return t.component._onError(e)}))},e.prototype.onCoreApiReady=function(){var t=this;return new Promise((function(e,n){console.debug("[ESL]: Media Youtube Player initialization for ",t),t._api=new YT.Player(t._el.id,{videoId:t.config.mediaId,events:{onError:function(t){return n(t)},onReady:function(){return e(t)},onStateChange:function(e){return t._onStateChange(e)}},playerVars:o.mapOptions(t.config)})}))},e.prototype.onPlayerReady=function(){console.debug("[ESL]: Media Youtube Player ready ",this),this._el=this._api.getIframe(),this.config.muted&&this._api.mute(),this.component._onReady()},e.prototype.unbind=function(){this.component._onDetach(),this._api&&this._api.destroy(),t.prototype.unbind.call(this)},e.prototype._onStateChange=function(t){switch(+t.data){case _e.PLAYING:this.component._onPlay();break;case _e.PAUSED:this.component._onPaused();break;case _e.ENDED:this.config.loop?this._api.playVideo():this.component._onEnded()}},e.prototype.onConfigChange=function(e,o){t.prototype.onConfigChange.call(this,e,o),"muted"===e&&(o?this._api.mute():this._api.unMute())},e.prototype.focus=function(){this._el instanceof HTMLIFrameElement&&this._el.contentWindow&&this._el.contentWindow.focus()},Object.defineProperty(e.prototype,"state",{get:function(){return this._api&&"function"==typeof this._api.getPlayerState?this._api.getPlayerState():_e.UNINITIALIZED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._api?this._api.getDuration():0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._api?this._api.getCurrentTime():0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultAspectRatio",{get:function(){return 1.7777777777777777},enumerable:!1,configurable:!0}),e.prototype.seekTo=function(t){this._api.seekTo(t,!1)},e.prototype.play=function(){this.state===_e.ENDED&&this._api.seekTo(0,!1),this._api.playVideo()},e.prototype.pause=function(){this._api.pauseVideo()},e.prototype.stop=function(){this._api.stopVideo()},e.providerName="youtube",e.idRegexp=/(?:v\/|v=|vi=|vi\/|e\/|embed\/|user\/.*\/u\/\d+\/)([_0-9a-zA-Z-]+)/i,e.providerRegexp=/^\s*(?:http(?:s)?:\/\/)?(?:www\.)?(?:youtu\.be|youtube(-nocookie)?\.com)/i,e=o=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s}([Ce.register],e)}(Ce),function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}()),jn="BC_API_SOURCE",Sn=(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.videojsClasses="video-js vjs-default-skin video-js-brightcove",e}Tn(e,t),e.getAccount=function(t){return{playerId:t.getAttribute("player-id"),accountId:t.getAttribute("player-account")}},e.loadAPI=function(t){var e="//players.brightcove.net/".concat(t.accountId,"/").concat(t.playerId,"_default/index.min.js"),o=document.getElementById(jn);return o&&o.parentNode&&o.getAttribute("src")!==e&&o.parentNode.removeChild(o),Pn(jn,e)},e.prototype.buildVideo=function(){var t=document.createElement("video-js");return t.id="esl-media-brightcove-"+Jo(),t.className="esl-media-inner esl-media-brightcove "+this.videojsClasses,t.title=this.config.title,t.toggleAttribute("loop",this.config.loop),t.toggleAttribute("muted",this.config.muted),t.toggleAttribute("controls",this.config.controls),t.setAttribute("aria-label",t.title),t.setAttribute("data-embed","default"),t.setAttribute("data-video-id","ref:".concat(this.config.mediaId)),t.toggleAttribute("playsinline",this.config.playsinline),this._account.playerId&&t.setAttribute("data-player",this._account.playerId),this._account.accountId&&t.setAttribute("data-account",this._account.accountId),t},e.prototype.$$fromEvent=function(t){var e=this;return this._api?new Promise((function(o,n){return e._api?e._api.one(t,o):n()})):Promise.reject()},e.prototype.onAPILoaded=function(){var t=this;if("function"!=typeof window.bc||"function"!=typeof window.videojs)throw new Error("Brightcove API is not in the global scope");return console.debug("ESL Media: Brightcove API init for ",this),this._api=window.bc(this._el),new Promise((function(e,o){return t._api?t._api.ready(e):o()}))},e.prototype.onAPIReady=function(){var t=this;return console.debug("ESL Media: Brightcove API is ready ",this),this._api.autoplay(this._autoplay||this.config.autoplay),this._api.on("play",(function(){return t.component._onPlay()})),this._api.on("pause",(function(){return t.component._onPaused()})),this._api.on("ended",(function(){return t.component._onEnded()})),this.component._onReady(),this.$$fromEvent("loadedmetadata")},e.prototype.bind=function(){var t=this,e=this.constructor;this._account=e.getAccount(this.component),this._el=this.buildVideo(),this.component.appendChild(this._el),this._ready=e.loadAPI(this._account).then((function(){return t.onAPILoaded()})).then((function(){return t.onAPIReady()})).catch((function(e){return t.component._onError(e)}))},e.prototype.unbind=function(){this.component._onDetach(),this._api&&this._api.dispose(),t.prototype.unbind.call(this)},e.prototype.onConfigChange=function(e,o){t.prototype.onConfigChange.call(this,e,o),"function"==typeof this._api[e]&&this._api[e](o)},e.prototype.focus=function(){this._api&&this._api.focus()},Object.defineProperty(e.prototype,"state",{get:function(){return this._api?this._api.ended()?_e.ENDED:this._api.paused()?_e.PAUSED:this._api.played()?_e.PLAYING:_e.UNSTARTED:_e.UNINITIALIZED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultAspectRatio",{get:function(){return this._api?this._api.videoWidth()/this._api.videoHeight():0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._api?this._api.currentTime():0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._api?this._api.duration():0},enumerable:!1,configurable:!0}),e.prototype.seekTo=function(t){this._api.currentTime(t)},e.prototype.play=function(){this._api.play()},e.prototype.pause=function(){this._api.pause()},e.prototype.stop=function(){this._api.currentTime(0),this._api.pause()},e.prototype.safePlay=function(){return this._autoplay=!0,t.prototype.safePlay.call(this)},e.prototype.safeStop=function(){return this._autoplay=!0,t.prototype.safeStop.call(this)},e.providerName="brightcove",e=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s}([Ce.register],e)}(Ce),function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}()),Ln=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Sn(e,t),Object.defineProperty(e.prototype,"index",{get:function(){return this.parentNode?Array.prototype.indexOf.call(this.parentNode.children,this):-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return this.hasAttribute("active")},enumerable:!1,configurable:!0}),e.prototype._setActive=function(t){this.toggleAttribute("active",t)},Object.defineProperty(e.prototype,"first",{get:function(){return this.hasAttribute("first")},enumerable:!1,configurable:!0}),e.prototype._setFirst=function(t){this.toggleAttribute("first",t)},e}(lt),kn=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Rn=function(t){this.carousel=t},xn=null,$n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.registry=new Map,e}return kn(e,t),Object.defineProperty(e,"instance",{get:function(){return null===xn&&(xn=new e),xn},enumerable:!1,configurable:!0}),e.prototype.createViewInstance=function(t,e){var o=this.registry.get(t);return o?new o(e):null},e.prototype.registerView=function(t,e){if(this.registry.has(t))throw new Error("View with name ".concat(t," already defined"));this.registry.set(t,e),this.fire(t,e)},e}(ut),In=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Mn=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},Dn=function(e){function o(){var t=e.call(this)||this;return t._currentConfig={},t._plugins=new Map,t._onMatchChange=t.update.bind(t,!1),t._onRegistryChange=t._onRegistryChange.bind(t),t}var n;return In(o,e),n=o,Object.defineProperty(o,"observedAttributes",{get:function(){return["config"]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"$slidesArea",{get:function(){return this.querySelector("[data-slides-area]")},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"$slides",{get:function(){var t=this.$slidesArea&&this.$slidesArea.querySelectorAll(Ln.is);return t?Array.from(t):[]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"count",{get:function(){return this.$slides.length||0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"activeIndexes",{get:function(){return this.$slides.reduce((function(t,e,o){return e.active&&t.push(o),t}),[])},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"activeCount",{get:function(){return this.activeConfig.count||0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"firstIndex",{get:function(){var t=this.$slides.findIndex((function(t){return t.first}));return Math.max(t,0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"activeConfig",{get:function(){return this._currentConfig},set:function(t){this._currentConfig=Object.assign({},t)},enumerable:!1,configurable:!0}),o.prototype.goTo=function(t,e,o){var n=this;if(void 0===o&&(o=!1),!this.dataset.isAnimated&&(t<0&&(t=0),this.firstIndex!==t||o)){e||(e=t>this.firstIndex?t-this.firstIndex>(this.firstIndex-t+this.count)%this.count?"left":"right":this.firstIndex-t>=(t-this.firstIndex-t+this.count)%this.count?"right":"left");var r={bubbles:!0,detail:{direction:e}},i=this.$$fire("slide:change",r);if(this._view&&i&&this.firstIndex!==t&&this._view.goTo(t,e),this._view&&i){var s=0;for(this.$slides.forEach((function(e,o){e._setActive((t+n.count)%n.count<=o&&o<(t+n.activeCount+n.count)%n.count)}));s<this.activeCount;){var a=(t+s+this.count)%this.count;this.$slides[a]._setActive(!0),++s}"multiple"===this.activeConfig.view&&(this.$slides[this.firstIndex]._setFirst(!1),this.$slides[t]._setFirst(!0))}this.$$fire("slide:changed",r)}},o.prototype.prev=function(){this.goTo((this.firstIndex-this.activeCount+this.count)%this.count,"left")},o.prototype.next=function(){this.goTo((this.firstIndex+this.activeCount+this.count)%this.count,"right")},o.prototype.connectedCallback=function(){e.prototype.connectedCallback.call(this),this.update(!0),this.goTo(this.firstIndex,"",!0),this._bindEvents(),$n.instance.addListener(this._onRegistryChange)},o.prototype.disconnectedCallback=function(){e.prototype.disconnectedCallback.call(this),this._unbindEvents(),$n.instance.removeListener(this._onRegistryChange)},o.prototype.attributeChangedCallback=function(t,e,o){"config"===t&&(this.configRules=Mt.parse(this.config,Mt.OBJECT_PARSER),this.update(!0))},o.prototype._bindEvents=function(){this.addEventListener("click",this._onClick,!1)},o.prototype._unbindEvents=function(){this.removeEventListener("click",this._onClick,!1)},Object.defineProperty(o.prototype,"configRules",{get:function(){return this._configRules||(this.configRules=Mt.parse(this.config,Mt.OBJECT_PARSER)),this._configRules},set:function(t){this._configRules&&this._configRules.removeListener(this._onMatchChange),this._configRules=t,this._configRules.addListener(this._onMatchChange)},enumerable:!1,configurable:!0}),o.prototype.update=function(t){void 0===t&&(t=!1);var e=Object.assign({view:"multiple",count:1},this.configRules.activeValue);if(t||!Y(this.activeConfig,e)){this.activeConfig=e;var o=this.activeConfig.view;o&&(this._view=$n.instance.createViewInstance(o,this),(t||this.activeIndexes.length!==this.activeConfig.count)&&this._view&&this._view.draw())}},o.prototype.getNextGroup=function(t){var e=this.activeIndexes.length-1,o=Math.floor(this.activeIndexes[e]/this.activeCount),n=Math.ceil(this.count/this.activeCount);return(o+t+n)%n},o.prototype._onClick=function(t){var e=t.target.closest("[data-slide-target]");if(e&&e.dataset.slideTarget){var o=e.dataset.slideTarget;if("prev"===o)this.prev();else if("next"===o)this.next();else if("g"===o[0]){var n=+o.substr(1)-1,r=Math.floor(this.count/this.activeCount);this.goTo(n===r?this.count-this.activeCount:this.activeCount*n)}else this.goTo(+o-1)}},o.prototype._onRegistryChange=function(){this._view||this.update(!0)},o.prototype.addPlugin=function(t){t.carousel||this.appendChild(t)},o.prototype.removePlugin=function(t){"string"==typeof t&&(t=this._plugins.get(t)),t&&t.carousel===this&&t.parentNode&&t.parentNode.removeChild(t)},o.prototype._addPlugin=function(t){this._plugins.has(t.key)||(this._plugins.set(t.key,t),this.isConnected&&t.bind())},o.prototype._removePlugin=function(t){this._plugins.has(t.key)&&(t.unbind(),this._plugins.delete(t.key))},o.register=function(t){var o=this;Ln.register((t||n.is)+"-slide"),customElements.whenDefined(Ln.is).then((function(){return e.register.call(o,t)}))},o.Slide=Ln,o.is="esl-carousel",Mn([it()],o.prototype,"config",void 0),n=Mn([t("Carousel")],o)}(lt),Nn=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Hn=function(t){function e(e){return t.call(this,e)||this}return Nn(e,t),e.prototype.bind=function(){},e.prototype.draw=function(){var t=this.carousel,e=t.$slides,o=t.$slidesArea;if(o&&e.length){var n=getComputedStyle(e[this.carousel.firstIndex]),r=getComputedStyle(o),i=parseFloat(r.width)-parseFloat(n.marginLeft)-parseFloat(n.marginRight),s=-parseFloat(r.width)/this.carousel.firstIndex;e.forEach((function(t){t.style.minWidth=i+"px",t.style.left=s+"px"}))}},e.prototype.goTo=function(t,e){var o=this;if(this.carousel.firstIndex!==t){this.carousel.setAttribute("data-is-animated","true"),this.carousel.setAttribute("direction",e);var n=this.carousel.$slides[this.carousel.firstIndex],r=this.carousel.$slides[t];n.classList.add(e),r.classList.add(e),n.classList.add("prev"),n.addEventListener("animationend",(function(t){return o._cleanAnimation(t)})),r.addEventListener("animationend",(function(t){return o._cleanAnimation(t)}))}},e.prototype._cleanAnimation=function(t){var e=t.target,o=this.carousel.getAttribute("direction");o&&e.classList.remove(o),e.classList.remove("prev"),this.carousel.removeAttribute("data-is-animated")},e.prototype.unbind=function(){},e}(Rn);$n.instance.registerView("single",Hn);var Vn=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),zn=function(t){function e(e){return t.call(this,e)||this}return Vn(e,t),e.prototype.bind=function(){},e.prototype.draw=function(){var t=this.carousel,e=t.$slides,o=t.$slidesArea;if(o&&e.length){var n=getComputedStyle(e[this.carousel.firstIndex]),r="none"!==n.transform?parseFloat(n.transform.split(",")[4]):0,i=getComputedStyle(o),s=parseFloat(i.width)/this.carousel.activeCount-parseFloat(n.marginLeft)-parseFloat(n.marginRight),a=0===this.carousel.firstIndex?-r:-parseFloat(i.width)/this.carousel.activeCount*this.carousel.firstIndex-r;e.forEach((function(t){t.style.minWidth=s+"px",t.style.left=a+"px"}))}},e.prototype.goTo=function(t,e){var o=this,n="right"===e?this.carousel.activeIndexes[0]:this.carousel.firstIndex,r=getComputedStyle(this.carousel.$slides[n]),i=parseFloat(r.width)+parseFloat(r.marginLeft)+parseFloat(r.marginRight),s=i*this.carousel.$slides.length,a=1e3*parseFloat(r.transitionDuration),c=parseFloat(r.left),l=parseFloat(r.transform.split(",")[4])||0;if(this.carousel.firstIndex===t)return 0;var u=0;"left"===e?u=(this.carousel.firstIndex-t+this.carousel.count)%this.carousel.count:"right"===e&&(u=(this.carousel.count-this.carousel.firstIndex+t)%this.carousel.count);for(var p=l-u*i*("left"===e?-1:1),h=[],f=0;f<this.carousel.activeCount;++f)h.push((t+f+this.carousel.count)%this.carousel.count);var d=h.filter((function(t){return o.carousel.activeIndexes.includes(t)})),y=0,v=u<this.carousel.activeCount?this.carousel.activeCount:u,g=function(n){var r=(t+n+b.carousel.count)%b.carousel.count,i=Math.min.apply(Math,function(t,e,o){if(o||2===arguments.length)for(var n,r=0,i=e.length;r<i;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))}([],function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s}(b.carousel.activeIndexes),!1));if(y=r>=b.carousel.firstIndex&&"left"===e?c-s:r<=i&&"right"===e?c+s:c,d.includes(r)||(b.carousel.$slides[r].style.left=y+"px"),d.includes(r)){var l=h.indexOf(r),u="right"===e?a/b.carousel.activeCount*l:a/b.carousel.activeCount*(b.carousel.activeCount-l-1),p=y;setTimeout((function(){o.carousel.$slides[r].style.left=p+"px"}),u)}},b=this;for(f=0;f<v;++f)g(f);this.carousel.$slides.forEach((function(t){t.style.transform="translateX(".concat(p,"px)");var n=t.index;if(d.includes(n)){var r=h.indexOf(n),i="right"===e?a/o.carousel.activeCount*r:a/o.carousel.activeCount*(o.carousel.activeCount-r-1);setTimeout((function(){o.carousel.$slides[n].style.transform="translateX(".concat(p,"px)")}),i)}})),this.carousel.setAttribute("data-is-animated","true"),setTimeout((function(){o.carousel.removeAttribute("data-is-animated")}),a)},e.prototype.unbind=function(){this.carousel.$slides.forEach((function(t){t.style.transform="none",t.style.left="none"}))},e}(Rn);$n.instance.registerView("multiple",zn);var Un=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Bn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Un(e,t),e.prototype.findCarouselOwner=function(){return this.constructor.freePlacement?this.closest(Dn.is):this.parentNode},Object.defineProperty(e.prototype,"key",{get:function(){return this.nodeName.toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"carousel",{get:function(){return this._carousel},enumerable:!1,configurable:!0}),e.prototype.connectedCallback=function(){var t=this.findCarouselOwner();if(!(t instanceof Dn))throw new Error("Invalid esl-carousel-plugin placement: plugin element should be placed under the esl-carousel node");this._carousel=t,this._carousel._addPlugin(this)},e.prototype.disconnectedCallback=function(){this.carousel&&(this.carousel._removePlugin(this),delete this._carousel)},e.register=function(e){var o=this;customElements.whenDefined(Dn.is).then((function(){return t.register.call(o,e)}))},e.freePlacement=!1,e}(lt),Fn=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),qn=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t._onUpdate=function(){return t.rerender()},t}return Fn(o,e),o.prototype.bind=function(){this.rerender(),this.carousel.addEventListener("esl:slide:changed",this._onUpdate)},o.prototype.unbind=function(){this.innerHTML="",this.carousel.removeEventListener("esl:slide:changed",this._onUpdate)},o.prototype.rerender=function(){for(var t="",e=Math.floor(this.carousel.activeIndexes[this.carousel.activeCount-1]/this.carousel.activeCount),o=0;o<Math.ceil(this.carousel.count/this.carousel.activeCount);++o)t+=this.buildDot(o,o===e);this.innerHTML=t},o.prototype.buildDot=function(t,e){return'<button role="button" class="carousel-dot '.concat(e?"active-dot":"",'" data-slide-target="g').concat(t+1,'"></button>')},o.is="esl-carousel-dots",o.freePlacement=!0,function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s}([t("CarouselPlugins.Dots")],o)}(Bn),Gn=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Wn=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},Kn=function(e){function o(){var t=e.call(this)||this;return t._onSlideChange=t._onSlideChange.bind(t),t}return Gn(o,e),Object.defineProperty(o,"observedAttributes",{get:function(){return["to","direction"]},enumerable:!1,configurable:!0}),o.prototype.bind=function(){this.target||(this.target=document.querySelector(this.to)),this.target instanceof Dn&&("both"!==this.direction&&"reverse"!==this.direction||this.target.addEventListener("esl:slide:changed",this._onSlideChange),"both"!==this.direction&&"target"!==this.direction||this.carousel.addEventListener("esl:slide:changed",this._onSlideChange))},o.prototype.unbind=function(){this.target&&this.target.removeEventListener("esl:slide:changed",this._onSlideChange),this.carousel&&this.carousel.removeEventListener("esl:slide:changed",this._onSlideChange)},o.prototype._onSlideChange=function(t){if(this.target&&this.carousel){var e=t.target===this.carousel?this.target:this.carousel,o=t.target===this.carousel?this.carousel:this.target;e.goTo(o.firstIndex,t.detail.direction)}},o.prototype.attributeChangedCallback=function(t,e,o){this.carousel&&e!==o&&(this.unbind(),"to"===t&&(this._target=null),this.bind())},Object.defineProperty(o.prototype,"target",{get:function(){return this._target},set:function(t){this._target=t},enumerable:!1,configurable:!0}),o.is="esl-carousel-link-plugin",Wn([it()],o.prototype,"to",void 0),Wn([it({defaultValue:"both"})],o.prototype,"direction",void 0),Wn([t("CarouselPlugins.Link")],o)}(Bn),Yn=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Qn=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.isTouchStarted=!1,t.startPoint={x:0,y:0},t.onTouchStart=function(e){e instanceof TouchEvent&&1!==e.touches.length||e instanceof PointerEvent&&"touch"!==e.pointerType?t.isTouchStarted=!1:(t.isTouchStarted=!0,t.startPoint=at.normalizeTouchPoint(e))},t.onTouchMove=function(e){t.isTouchStarted},t.onTouchEnd=function(e){if(t.isTouchStarted){var o=at.normalizeTouchPoint(e),n={x:o.x-t.startPoint.x,y:o.y-t.startPoint.y};t.isTouchStarted=!1,Math.abs(n.x)<Math.abs(n.y)||Math.abs(n.x)<100||(n.x<0?t.carousel.next():t.carousel.prev(),e.preventDefault(),e.stopPropagation())}},t}return Yn(o,e),o.prototype.bind=function(){var t=M.TOUCH_EVENTS;this.carousel.addEventListener(t.START,this.onTouchStart),this.carousel.addEventListener(t.MOVE,this.onTouchMove),this.carousel.addEventListener(t.END,this.onTouchEnd)},o.prototype.unbind=function(){var t=M.TOUCH_EVENTS;this.carousel.removeEventListener(t.START,this.onTouchStart),this.carousel.removeEventListener(t.MOVE,this.onTouchMove),this.carousel.removeEventListener(t.END,this.onTouchEnd)},o.is="esl-carousel-touch-plugin",function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s}([t("CarouselPlugins.Touch")],o)}(Bn),Xn=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Zn=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},Jn={Dots:qn,Link:Kn,Touch:Qn,Autoplay:function(e){function o(){var t=e.call(this)||this;return t._timeout=null,t._onInterval=t._onInterval.bind(t),t._onInteract=t._onInteract.bind(t),t}return Xn(o,e),Object.defineProperty(o.prototype,"active",{get:function(){return this._active},enumerable:!1,configurable:!0}),o.prototype.bind=function(){this.carousel.addEventListener("mouseover",this._onInteract),this.carousel.addEventListener("mouseout",this._onInteract),this.carousel.addEventListener("focusin",this._onInteract),this.carousel.addEventListener("focusout",this._onInteract),this.carousel.addEventListener("esl:slide:changed",this._onInteract),this.start()},o.prototype.unbind=function(){this.carousel.removeEventListener("mouseover",this._onInteract),this.carousel.removeEventListener("mouseout",this._onInteract),this.carousel.removeEventListener("focusin",this._onInteract),this.carousel.removeEventListener("focusout",this._onInteract),this.carousel.removeEventListener("esl:slide:changed",this._onInteract),this.stop()},o.prototype.start=function(){this._active=!0,this.reset()},o.prototype.stop=function(){this._active=!1,this.reset()},o.prototype.reset=function(){"number"==typeof this._timeout&&clearTimeout(this._timeout),this._timeout=this._active?window.setTimeout(this._onInterval,this.timeout):null},o.prototype._onInterval=function(){if(this._active){switch(this.direction){case"next":return void this.carousel.next();case"prev":return void this.carousel.prev()}this.reset()}},o.prototype._onInteract=function(t){switch(t.type){case"mouseover":case"focusin":return void this.stop();case"mouseout":case"focusout":return void this.start();case"esl:slide:changed":return void this.reset()}},o.is="esl-carousel-autoplay-plugin",Zn([it({defaultValue:"next"})],o.prototype,"direction",void 0),Zn([it({defaultValue:"5000"})],o.prototype,"timeout",void 0),Zn([t("CarouselPlugins.Autoplay")],o)}(Bn)},tr=(o(512),function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}()),er=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tr(e,t),Object.defineProperty(e.prototype,"target",{get:function(){var t=this.getAttribute("target");return document.querySelector(t||"")},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=document.createElement("form");t.innerHTML='\n      <fieldset>\n        <legend>Video Settings:</legend>\n          <div class="input-group mb-2">\n          <select class="form-control" name="media-type">\n            <option value="auto">- Auto -</option>\n            <option value="audio">HTML Audio</option>\n            <option value="video">HTML Video</option>\n            <option value="youtube">Youtube</option>\n            <option value="brightcove">Brightcove</option>\n            <option value="iframe">Iframe</option>\n          </select>\n        </div>\n        <div class="input-group mb-2">\n          <input type="text" class="form-control" placeholder="Media src" name="media-src" autocomplete="on"/>\n        </div>\n        <div class="input-group mb-2">\n          <input type="text" class="form-control" placeholder="Media id" name="media-id" autocomplete="on"/>\n        </div>\n        <div class="input-group mb-2">\n          <input type="text" class="form-control" placeholder="Player id" name="player-id" autocomplete="on"/>\n        </div>\n        <div class="input-group mb-2">\n          <input type="text" class="form-control" placeholder="Player account" name="player-account" autocomplete="on"/>\n        </div>\n\n        <div class="form-group">\n          <div class="form-check form-check-inline">\n            <label class="form-check-label"><input type="checkbox" name="muted" class="form-check-input"/> Muted</label>\n          </div>\n          <div class="form-check form-check-inline">\n            <label class="form-check-label"><input type="checkbox" name="autoplay" class="form-check-input"/> Autoplay</label>\n          </div>\n          <div class="form-check form-check-inline">\n            <label class="form-check-label"><input type="checkbox" name="disabled" class="form-check-input"/> Disabled</label>\n          </div>\n        </div>\n      </fieldset>\n    ',t.action="javascript: void 0;",this.innerHTML="",this.appendChild(t)},e.prototype.onChange=function(){var t=this.target,e=this.querySelectorAll("input[name], select[name]");Array.from(e).forEach((function(e){t&&(e instanceof HTMLInputElement&&"checkbox"===e.type?t.toggleAttribute(e.name,e.checked):t.setAttribute(e.name,e.value))}))},e.prototype.connectedCallback=function(){var t=this;this.render(),this.addEventListener("change",le((function(){return t.onChange()}),750)),this.onChange()},e}(HTMLElement);customElements.define("test-media-source",er);var or=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),nr=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},rr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.closeOnEsc=!0,e.closeOnOutsideAction=!0,e.submenus=".sidebar-nav-secondary",e.activeMenuAttr="data-open",e}return or(e,t),Object.defineProperty(e.prototype,"$submenus",{get:function(){return Array.from(this.querySelectorAll(this.submenus))},enumerable:!1,configurable:!0}),e.prototype.connectedCallback=function(){t.prototype.connectedCallback.call(this),Rt.for("@+MD").addListener(this.onBreakpointChange)},e.prototype.disconnectedCallback=function(){t.prototype.disconnectedCallback.call(this),Rt.for("@+MD").removeListener(this.onBreakpointChange)},e.prototype.storeState=function(){this.open?localStorage.removeItem("sidebar-collapsed"):localStorage.setItem("sidebar-collapsed","true")},e.prototype.setInitialState=function(){var t=Rt.for("@+MD").matches,e=!localStorage.getItem("sidebar-collapsed");this.toggle(t&&e,{force:!0,initiator:"init",immediate:!0})},e.prototype.collapseAll=function(){var t=this;this.$submenus.forEach((function(e){return e.hide({activator:t})}))},e.prototype.expandActive=function(t){var e=this;void 0===t&&(t=!1),this.$submenus.filter((function(t){return t.hasAttribute("data-open")})).forEach((function(o){return o.show({noCollapse:t,activator:e})}))},e.prototype.updateA11y=function(){var t=this.$a11yTarget;t&&t.setAttribute("aria-expanded",String(this.open))},e.prototype.onShow=function(e){this._animation=!e.immediate,t.prototype.onShow.call(this,e),this.expandActive("init"===e.initiator),e.activator&&e.activator.hasAttribute("data-store")&&this.storeState()},e.prototype.onHide=function(e){this._animation=!e.immediate,t.prototype.onHide.call(this,e),this.collapseAll(),e.activator&&e.activator.hasAttribute("data-store")&&this.storeState()},e.prototype.onBreakpointChange=function(){var t=Rt.for("@+MD").matches,e=!localStorage.getItem("sidebar-collapsed");this.toggle(t&&e,{force:!0,initiator:"bpchange",immediate:!t})},e.prototype._onOutsideAction=function(e){Rt.for("@+MD").matches||t.prototype._onOutsideAction.call(this,e)},e.is="esl-d-sidebar",nr([Be()],e.prototype,"closeOnEsc",void 0),nr([Be()],e.prototype,"closeOnOutsideAction",void 0),nr([Be()],e.prototype,"submenus",void 0),nr([Be()],e.prototype,"activeMenuAttr",void 0),nr([it({name:"animation"})],e.prototype,"_animation",void 0),nr([Ue],e.prototype,"connectedCallback",null),nr([N],e.prototype,"onBreakpointChange",null),nr([N],e.prototype,"_onOutsideAction",null),e}(Ie),ir=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),sr=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},ar=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._$active=[],e._animateTimer=0,e}return ir(e,t),e.prototype.connectedCallback=function(){t.prototype.connectedCallback.call(this),y||this.startAnimation()},e.prototype.disconnectedCallback=function(){this.stopAnimation(),t.prototype.disconnectedCallback.call(this)},Object.defineProperty(e.prototype,"$stars",{get:function(){return Array.from(document.querySelectorAll(this.constructor.STARS_SEL))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$randomStar",{get:function(){var t=Math.floor(Math.random()*this.$stars.length);return this.$stars[t]},enumerable:!1,configurable:!0}),e.prototype.startAnimation=function(){gt.clear(this,"$stars"),this.stopAnimation(),this.$stars.length<2||(this._animateTimer=window.setTimeout(this._onIteration,+this.iterationTime))},e.prototype.stopAnimation=function(){this._animateTimer&&window.clearTimeout(this._animateTimer)},e.prototype._onIteration=function(){var t=this,e=z(+this.targetsNumber,(function(){return t.$randomStar}));this._$active.forEach((function(t){return t.classList.remove("animate")})),e.forEach((function(t){return t.classList.add("animate")})),this._$active=e,this._animateTimer=window.setTimeout(this._onIteration,+this.iterationTime)},e.is="esl-d-marquee",e.STARS_SEL=["#esl-logo-shield-stars > path","#esl-logo-border-inner-stars > path","#esl-logo-border-outer-stars > path","#esl-logo-wrench-left-stars > path","#esl-logo-wrench-right-stars > path"].join(","),sr([it({defaultValue:"4"})],e.prototype,"targetsNumber",void 0),sr([it({defaultValue:"3000"})],e.prototype,"iterationTime",void 0),sr([Ue],e.prototype,"connectedCallback",null),sr([gt()],e.prototype,"$stars",null),sr([N],e.prototype,"_onIteration",null),e}(lt);D.observe(),rr.register(),ar.register(),te.register(),Se.register(),Ne.init(),Ie.register(),so.register(),ho.register(),lo.register(),bo.register(),wo.register(),Co.register(),To.register(),Lo.register(),xo.register(),xo.init({closeOnOutsideAction:!0}),zo.register(),Qo.register(),sn.register(),dn.register(),ln.register(),mn.register(),Dn.register(),Jn.Dots.register(),Jn.Link.register(),Jn.Touch.register(),Jn.Autoplay.register()}()}();
//# sourceMappingURL=localdev.js.map