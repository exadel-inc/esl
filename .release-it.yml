git:
  tagName: "v${version}"
  commitMessage: "chore(release): v${version} \n\n${changelog}"
#  requireCleanWorkingDir: false

hooks:
  "before:init":
    - echo "Release Process started"
    - npm run build
    - npm run test
    - echo "Pre-release check passed"
  "before:github:release":
    - npm pack
  "after:version":
    - echo "Changelog ready for v${version}"
  "after:release":
    - echo "Successfully released ${name} v${version} to ${repo.repository}."

plugins:
  "@release-it/conventional-changelog":
    infile: CHANGELOG.md
    strictSemVer: true
    preset: angular

# Out
github:
  release: true
  comments: true
  assets:
    - ./*.tgz
    - CHANGELOG.md
# TODO: Automate github issue labels

npm:
  publish: true
